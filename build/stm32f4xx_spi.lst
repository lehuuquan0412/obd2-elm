ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4xx_spi.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.SPI_I2S_DeInit,"ax",%progbits
  20              		.align	1
  21              		.global	SPI_I2S_DeInit
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	SPI_I2S_DeInit:
  27              	.LFB130:
  28              		.file 1 "Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c"
   1:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
   2:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @file    stm32f4xx_spi.c
   4:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @version V1.8.0
   6:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @date    04-November-2016
   7:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief   This file provides firmware functions to manage the following 
   8:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          functionalities of the Serial peripheral interface (SPI):
   9:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + Initialization and Configuration
  10:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + Data transfers functions
  11:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + Hardware CRC Calculation
  12:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + DMA transfers management
  13:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           + Interrupts and flags management 
  14:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           
  15:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim
  16:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
  17:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===================================================================
  18:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   ##### How to use this driver #####
  19:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===================================================================
  20:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..]
  21:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable peripheral clock using the following functions 
  22:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB2PeriphClockCmd(RCC_APB2Periph_SPI1, ENABLE) for SPI1
  23:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphClockCmd(RCC_APB1Periph_SPI2, ENABLE) for SPI2
  24:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI3
  25:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI4
  26:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI5
  27:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI6.
  28:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  29:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable SCK, MOSI, MISO and NSS GPIO clocks using RCC_AHB1PeriphClockCmd()
  30:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        function. In I2S mode, if an external clock source is used then the I2S 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 2


  31:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        CKIN pin GPIO clock should also be enabled.
  32:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  33:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Peripherals alternate function: 
  34:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Connect the pin to the desired peripherals' Alternate Function (AF) 
  35:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             using GPIO_PinAFConfig() function
  36:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Configure the desired pin in alternate function by: 
  37:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             GPIO_InitStruct->GPIO_Mode = GPIO_Mode_AF
  38:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Select the type, pull-up/pull-down and output speed via GPIO_PuPd, 
  39:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             GPIO_OType and GPIO_Speed members
  40:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Call GPIO_Init() function In I2S mode, if an external clock source is 
  41:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             used then the I2S CKIN pin should be also configured in Alternate 
  42:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             function Push-pull pull-up mode. 
  43:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****           
  44:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Program the Polarity, Phase, First Data, Baud Rate Prescaler, Slave 
  45:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        Management, Peripheral Mode and CRC Polynomial values using the SPI_Init()
  46:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        function.
  47:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        In I2S mode, program the Mode, Standard, Data Format, MCLK Output, Audio 
  48:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        frequency and Polarity using I2S_Init() function. For I2S mode, make sure 
  49:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        that either:
  50:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) I2S PLL is configured using the functions 
  51:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             RCC_I2SCLKConfig(RCC_I2S2CLKSource_PLLI2S), RCC_PLLI2SCmd(ENABLE) and 
  52:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             RCC_GetFlagStatus(RCC_FLAG_PLLI2SRDY); or 
  53:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) External clock source is configured using the function 
  54:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             RCC_I2SCLKConfig(RCC_I2S2CLKSource_Ext) and after setting correctly 
  55:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             the define constant I2S_EXTERNAL_CLOCK_VAL in the stm32f4xx_conf.h file. 
  56:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  57:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the NVIC and the corresponding interrupt using the function 
  58:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        SPI_ITConfig() if you need to use interrupt mode. 
  59:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  60:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) When using the DMA mode 
  61:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Configure the DMA using DMA_Init() function
  62:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Active the needed channel Request using SPI_I2S_DMACmd() function
  63:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
  64:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the SPI using the SPI_Cmd() function or enable the I2S using
  65:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        I2S_Cmd().
  66:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
  67:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the DMA using the DMA_Cmd() function when using DMA mode. 
  68:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  69:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Optionally, you can enable/configure the following parameters without
  70:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        re-initialization (i.e there is no need to call again SPI_Init() function):
  71:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) When bidirectional mode (SPI_Direction_1Line_Rx or SPI_Direction_1Line_Tx)
  72:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             is programmed as Data direction parameter using the SPI_Init() function
  73:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             it can be possible to switch between SPI_Direction_Tx or SPI_Direction_Rx
  74:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             using the SPI_BiDirectionalLineConfig() function.
  75:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) When SPI_NSS_Soft is selected as Slave Select Management parameter 
  76:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             using the SPI_Init() function it can be possible to manage the 
  77:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             NSS internal signal using the SPI_NSSInternalSoftwareConfig() function.
  78:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Reconfigure the data size using the SPI_DataSizeConfig() function  
  79:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (++) Enable or disable the SS output using the SPI_SSOutputCmd() function  
  80:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             
  81:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     (#) To use the CRC Hardware calculation feature refer to the Peripheral 
  82:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         CRC hardware Calculation subsection.
  83:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      
  84:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
  85:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] It is possible to use SPI in I2S full duplex mode, in this case, each SPI 
  86:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       peripheral is able to manage sending and receiving data simultaneously
  87:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       using two data lines. Each SPI peripheral has an extended block called I2Sxext
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 3


  88:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (ie. I2S2ext for SPI2 and I2S3ext for SPI3).
  89:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       The extension block is not a full SPI IP, it is used only as I2S slave to
  90:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       implement full duplex mode. The extension block uses the same clock sources
  91:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       as its master.          
  92:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       To configure I2S full duplex you have to:
  93:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****               
  94:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (#) Configure SPIx in I2S mode (I2S_Init() function) as described above. 
  95:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****              
  96:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (#) Call the I2S_FullDuplexConfig() function using the same structure passed to  
  97:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****           I2S_Init() function.
  98:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****               
  99:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (#) Call I2S_Cmd() for SPIx then for its extended block.
 100:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             
 101:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (#) To configure interrupts or DMA requests and to get/clear flag status, 
 102:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****           use I2Sxext instance for the extension block.
 103:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                
 104:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] Functions that can be called with I2Sxext instances are: I2S_Cmd(), 
 105:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_FullDuplexConfig(), SPI_I2S_ReceiveData(), SPI_I2S_SendData(), 
 106:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       SPI_I2S_DMACmd(), SPI_I2S_ITConfig(), SPI_I2S_GetFlagStatus(), 
 107:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       SPI_I2S_ClearFlag(), SPI_I2S_GetITStatus() and SPI_I2S_ClearITPendingBit().
 108:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                    
 109:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Example: To use SPI3 in Full duplex mode (SPI3 is Master Tx, I2S3ext is Slave Rx):
 110:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****               
 111:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC_APB1PeriphClockCmd(RCC_APB1Periph_SPI3, ENABLE);   
 112:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_StructInit(&I2SInitStruct);
 113:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2SInitStruct.Mode = I2S_Mode_MasterTx;     
 114:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_Init(SPI3, &I2SInitStruct);
 115:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_FullDuplexConfig(SPI3ext, &I2SInitStruct)
 116:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_Cmd(SPI3, ENABLE);
 117:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       I2S_Cmd(SPI3ext, ENABLE);
 118:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       ...
 119:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       while (SPI_I2S_GetFlagStatus(SPI2, SPI_FLAG_TXE) == RESET)
 120:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       {}
 121:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       SPI_I2S_SendData(SPI3, txdata[i]);
 122:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       ...  
 123:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       while (SPI_I2S_GetFlagStatus(I2S3ext, SPI_FLAG_RXNE) == RESET)
 124:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       {}
 125:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       rxdata[i] = SPI_I2S_ReceiveData(I2S3ext);
 126:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       ...          
 127:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                 
 128:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..]       
 129:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) In I2S mode: if an external clock is used as source clock for the I2S,  
 130:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        then the define I2S_EXTERNAL_CLOCK_VAL in file stm32f4xx_conf.h should 
 131:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        be enabled and set to the value of the source clock frequency (in Hz).
 132:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
 133:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) In SPI mode: To use the SPI TI mode, call the function SPI_TIModeCmd() 
 134:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        just after calling the function SPI_Init().
 135:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 136:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim  
 137:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                                  
 138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************
 139:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @attention
 140:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 141:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * <h2><center>&copy; COPYRIGHT 2016 STMicroelectronics</center></h2>
 142:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 143:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
 144:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * You may not use this file except in compliance with the License.
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 4


 145:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * You may obtain a copy of the License at:
 146:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 147:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
 148:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 149:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * Unless required by applicable law or agreed to in writing, software 
 150:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
 151:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 152:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * See the License for the specific language governing permissions and
 153:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * limitations under the License.
 154:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************  
 156:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */ 
 157:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 158:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Includes ------------------------------------------------------------------*/
 159:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #include "stm32f4xx_spi.h"
 160:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #include "stm32f4xx_rcc.h"
 161:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 162:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @addtogroup STM32F4xx_StdPeriph_Driver
 163:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 164:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 165:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 166:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI 
 167:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief SPI driver modules
 168:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 169:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */ 
 170:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 171:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private typedef -----------------------------------------------------------*/
 172:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private define ------------------------------------------------------------*/
 173:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 174:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* SPI registers Masks */
 175:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define CR1_CLEAR_MASK            ((uint16_t)0x3040)
 176:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define I2SCFGR_CLEAR_MASK        ((uint16_t)0xF040)
 177:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 178:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* RCC PLLs masks */
 179:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define PLLCFGR_PPLR_MASK         ((uint32_t)0x70000000)
 180:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define PLLCFGR_PPLN_MASK         ((uint32_t)0x00007FC0)
 181:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 182:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define SPI_CR2_FRF               ((uint16_t)0x0010)
 183:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define SPI_SR_TIFRFE             ((uint16_t)0x0100)
 184:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 185:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private macro -------------------------------------------------------------*/
 186:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private variables ---------------------------------------------------------*/
 187:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private function prototypes -----------------------------------------------*/
 188:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private functions ---------------------------------------------------------*/
 189:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 190:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Private_Functions
 191:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 192:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 193:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 194:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group1 Initialization and Configuration functions
 195:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Initialization and Configuration functions 
 196:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 197:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 198:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****              ##### Initialization and Configuration functions ##### 
 200:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] This section provides a set of functions allowing to initialize the SPI 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 5


 202:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Direction, SPI Mode, SPI Data Size, SPI Polarity, SPI Phase, SPI NSS 
 203:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Management, SPI Baud Rate Prescaler, SPI First Bit and SPI CRC Polynomial.
 204:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 205:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] The SPI_Init() function follows the SPI configuration procedures for Master 
 206:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       mode and Slave mode (details for these procedures are available in reference 
 207:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       manual (RM0090)).
 208:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 209:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 210:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 211:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 212:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 213:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 214:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  De-initialize the SPIx peripheral registers to their default reset values.
 215:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
 216:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode.   
 217:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         
 218:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The extended I2S blocks (ie. I2S2ext and I2S3ext blocks) are de-initialized
 219:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         when the relative I2S peripheral is de-initialized (the extended block's clock
 220:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         is managed by the I2S peripheral clock).
 221:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             
 222:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 223:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 224:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_DeInit(SPI_TypeDef* SPIx)
 225:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
  29              		.loc 1 225 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 82B0     		sub	sp, sp, #8
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
 226:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 227:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 228:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 229:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPIx == SPI1)
  45              		.loc 1 229 6
  46 0008 7B68     		ldr	r3, [r7, #4]
  47 000a 2E4A     		ldr	r2, .L9
  48 000c 9342     		cmp	r3, r2
  49 000e 0AD1     		bne	.L2
 230:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 231:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI1 reset state */
 232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, ENABLE);
  50              		.loc 1 232 5
  51 0010 0121     		movs	r1, #1
  52 0012 4FF48050 		mov	r0, #4096
  53 0016 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 233:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI1 from reset state */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 6


 234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, DISABLE);
  54              		.loc 1 234 5
  55 001a 0021     		movs	r1, #0
  56 001c 4FF48050 		mov	r0, #4096
  57 0020 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 235:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI2)
 237:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 238:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI2 reset state */
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, ENABLE);
 240:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI2 from reset state */
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, DISABLE);
 242:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI3)
 244:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 245:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI3 reset state */
 246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE);
 247:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI3 from reset state */
 248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, DISABLE);
 249:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI4)
 251:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 252:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI4 reset state */
 253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI4, ENABLE);
 254:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI4 from reset state */
 255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI4, DISABLE);
 256:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI5)
 258:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI5 reset state */
 260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI5, ENABLE);
 261:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI5 from reset state */
 262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI5, DISABLE);
 263:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 264:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else 
 265:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if (SPIx == SPI6)
 267:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 268:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Enable SPI6 reset state */
 269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI6, ENABLE);
 270:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Release SPI6 from reset state */
 271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI6, DISABLE);
 272:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 273:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 274:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
  58              		.loc 1 274 1
  59 0024 49E0     		b	.L8
  60              	.L2:
 236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
  61              		.loc 1 236 11
  62 0026 7B68     		ldr	r3, [r7, #4]
  63 0028 274A     		ldr	r2, .L9+4
  64 002a 9342     		cmp	r3, r2
  65 002c 0AD1     		bne	.L4
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI2 from reset state */
  66              		.loc 1 239 5
  67 002e 0121     		movs	r1, #1
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 7


  68 0030 4FF48040 		mov	r0, #16384
  69 0034 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
  70              		.loc 1 241 5
  71 0038 0021     		movs	r1, #0
  72 003a 4FF48040 		mov	r0, #16384
  73 003e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  74              		.loc 1 274 1
  75 0042 3AE0     		b	.L8
  76              	.L4:
 243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
  77              		.loc 1 243 11
  78 0044 7B68     		ldr	r3, [r7, #4]
  79 0046 214A     		ldr	r2, .L9+8
  80 0048 9342     		cmp	r3, r2
  81 004a 0AD1     		bne	.L5
 246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI3 from reset state */
  82              		.loc 1 246 5
  83 004c 0121     		movs	r1, #1
  84 004e 4FF40040 		mov	r0, #32768
  85 0052 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
  86              		.loc 1 248 5
  87 0056 0021     		movs	r1, #0
  88 0058 4FF40040 		mov	r0, #32768
  89 005c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  90              		.loc 1 274 1
  91 0060 2BE0     		b	.L8
  92              	.L5:
 250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
  93              		.loc 1 250 11
  94 0062 7B68     		ldr	r3, [r7, #4]
  95 0064 1A4A     		ldr	r2, .L9+12
  96 0066 9342     		cmp	r3, r2
  97 0068 0AD1     		bne	.L6
 253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI4 from reset state */
  98              		.loc 1 253 5
  99 006a 0121     		movs	r1, #1
 100 006c 4FF40050 		mov	r0, #8192
 101 0070 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 102              		.loc 1 255 5
 103 0074 0021     		movs	r1, #0
 104 0076 4FF40050 		mov	r0, #8192
 105 007a FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 106              		.loc 1 274 1
 107 007e 1CE0     		b	.L8
 108              	.L6:
 257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 109              		.loc 1 257 11
 110 0080 7B68     		ldr	r3, [r7, #4]
 111 0082 144A     		ldr	r2, .L9+16
 112 0084 9342     		cmp	r3, r2
 113 0086 0AD1     		bne	.L7
 260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI5 from reset state */
 114              		.loc 1 260 5
 115 0088 0121     		movs	r1, #1
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 8


 116 008a 4FF48010 		mov	r0, #1048576
 117 008e FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 118              		.loc 1 262 5
 119 0092 0021     		movs	r1, #0
 120 0094 4FF48010 		mov	r0, #1048576
 121 0098 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 122              		.loc 1 274 1
 123 009c 0DE0     		b	.L8
 124              	.L7:
 266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 125              		.loc 1 266 8
 126 009e 7B68     		ldr	r3, [r7, #4]
 127 00a0 0D4A     		ldr	r2, .L9+20
 128 00a2 9342     		cmp	r3, r2
 129 00a4 09D1     		bne	.L8
 269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Release SPI6 from reset state */
 130              		.loc 1 269 7
 131 00a6 0121     		movs	r1, #1
 132 00a8 4FF40010 		mov	r0, #2097152
 133 00ac FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 134              		.loc 1 271 7
 135 00b0 0021     		movs	r1, #0
 136 00b2 4FF40010 		mov	r0, #2097152
 137 00b6 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
 138              	.L8:
 139              		.loc 1 274 1
 140 00ba 00BF     		nop
 141 00bc 0837     		adds	r7, r7, #8
 142              	.LCFI3:
 143              		.cfi_def_cfa_offset 8
 144 00be BD46     		mov	sp, r7
 145              	.LCFI4:
 146              		.cfi_def_cfa_register 13
 147              		@ sp needed
 148 00c0 80BD     		pop	{r7, pc}
 149              	.L10:
 150 00c2 00BF     		.align	2
 151              	.L9:
 152 00c4 00300140 		.word	1073819648
 153 00c8 00380040 		.word	1073756160
 154 00cc 003C0040 		.word	1073757184
 155 00d0 00340140 		.word	1073820672
 156 00d4 00500140 		.word	1073827840
 157 00d8 00540140 		.word	1073828864
 158              		.cfi_endproc
 159              	.LFE130:
 161              		.section	.text.SPI_Init,"ax",%progbits
 162              		.align	1
 163              		.global	SPI_Init
 164              		.syntax unified
 165              		.thumb
 166              		.thumb_func
 168              	SPI_Init:
 169              	.LFB131:
 275:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 9


 276:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 277:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 278:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         parameters in the SPI_InitStruct.
 279:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 280:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure that
 281:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified SPI peripheral.
 282:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 283:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 284:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_Init(SPI_TypeDef* SPIx, SPI_InitTypeDef* SPI_InitStruct)
 285:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 170              		.loc 1 285 1
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 16
 173              		@ frame_needed = 1, uses_anonymous_args = 0
 174              		@ link register save eliminated.
 175 0000 80B4     		push	{r7}
 176              	.LCFI5:
 177              		.cfi_def_cfa_offset 4
 178              		.cfi_offset 7, -4
 179 0002 85B0     		sub	sp, sp, #20
 180              	.LCFI6:
 181              		.cfi_def_cfa_offset 24
 182 0004 00AF     		add	r7, sp, #0
 183              	.LCFI7:
 184              		.cfi_def_cfa_register 7
 185 0006 7860     		str	r0, [r7, #4]
 186 0008 3960     		str	r1, [r7]
 286:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0;
 187              		.loc 1 286 12
 188 000a 0023     		movs	r3, #0
 189 000c FB81     		strh	r3, [r7, #14]	@ movhi
 287:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 288:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* check the parameters */
 289:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 290:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 291:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the SPI parameters */
 292:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DIRECTION_MODE(SPI_InitStruct->SPI_Direction));
 293:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_MODE(SPI_InitStruct->SPI_Mode));
 294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_InitStruct->SPI_DataSize));
 295:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CPOL(SPI_InitStruct->SPI_CPOL));
 296:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CPHA(SPI_InitStruct->SPI_CPHA));
 297:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_NSS(SPI_InitStruct->SPI_NSS));
 298:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(SPI_InitStruct->SPI_BaudRatePrescaler));
 299:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_FIRST_BIT(SPI_InitStruct->SPI_FirstBit));
 300:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CRC_POLYNOMIAL(SPI_InitStruct->SPI_CRCPolynomial));
 301:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 302:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*---------------------------- SPIx CR1 Configuration ------------------------*/
 303:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPIx CR1 value */
 304:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = SPIx->CR1;
 190              		.loc 1 304 10
 191 000e 7B68     		ldr	r3, [r7, #4]
 192 0010 1B88     		ldrh	r3, [r3]	@ movhi
 193 0012 FB81     		strh	r3, [r7, #14]	@ movhi
 305:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear BIDIMode, BIDIOE, RxONLY, SSM, SSI, LSBFirst, BR, MSTR, CPOL and CPHA bits */
 306:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg &= CR1_CLEAR_MASK;
 194              		.loc 1 306 10
 195 0014 FB89     		ldrh	r3, [r7, #14]	@ movhi
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 10


 196 0016 03F44153 		and	r3, r3, #12352
 197 001a FB81     		strh	r3, [r7, #14]	@ movhi
 307:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 308:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      master/salve mode, CPOL and CPHA */
 309:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set BIDImode, BIDIOE and RxONLY bits according to SPI_Direction value */
 310:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set SSM, SSI and MSTR bits according to SPI_Mode and SPI_NSS values */
 311:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set LSBFirst bit according to SPI_FirstBit value */
 312:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set BR bits according to SPI_BaudRatePrescaler value */
 313:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set CPOL bit according to SPI_CPOL value */
 314:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set CPHA bit according to SPI_CPHA value */
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint32_t)SPI_InitStruct->SPI_Direction | SPI_InitStruct->SPI_Mode |
 198              		.loc 1 315 48
 199 001c 3B68     		ldr	r3, [r7]
 200 001e 1A88     		ldrh	r2, [r3]
 201              		.loc 1 315 80
 202 0020 3B68     		ldr	r3, [r7]
 203 0022 5B88     		ldrh	r3, [r3, #2]
 204              		.loc 1 315 13
 205 0024 1343     		orrs	r3, r3, r2
 206 0026 9AB2     		uxth	r2, r3
 316:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 207              		.loc 1 316 33
 208 0028 3B68     		ldr	r3, [r7]
 209 002a 9B88     		ldrh	r3, [r3, #4]
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 210              		.loc 1 315 13
 211 002c 1343     		orrs	r3, r3, r2
 212 002e 9AB2     		uxth	r2, r3
 213              		.loc 1 316 64
 214 0030 3B68     		ldr	r3, [r7]
 215 0032 DB88     		ldrh	r3, [r3, #6]
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 216              		.loc 1 315 13
 217 0034 1343     		orrs	r3, r3, r2
 218 0036 9AB2     		uxth	r2, r3
 317:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_CPHA | SPI_InitStruct->SPI_NSS |  
 219              		.loc 1 317 33
 220 0038 3B68     		ldr	r3, [r7]
 221 003a 1B89     		ldrh	r3, [r3, #8]
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 222              		.loc 1 315 13
 223 003c 1343     		orrs	r3, r3, r2
 224 003e 9AB2     		uxth	r2, r3
 225              		.loc 1 317 60
 226 0040 3B68     		ldr	r3, [r7]
 227 0042 5B89     		ldrh	r3, [r3, #10]
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 228              		.loc 1 315 13
 229 0044 1343     		orrs	r3, r3, r2
 230 0046 9AB2     		uxth	r2, r3
 318:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_BaudRatePrescaler | SPI_InitStruct->SPI_FirstBit);
 231              		.loc 1 318 33
 232 0048 3B68     		ldr	r3, [r7]
 233 004a 9B89     		ldrh	r3, [r3, #12]
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 234              		.loc 1 315 13
 235 004c 1343     		orrs	r3, r3, r2
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 11


 236 004e 9AB2     		uxth	r2, r3
 237              		.loc 1 318 73
 238 0050 3B68     		ldr	r3, [r7]
 239 0052 DB89     		ldrh	r3, [r3, #14]
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 240              		.loc 1 315 13
 241 0054 1343     		orrs	r3, r3, r2
 242 0056 9AB2     		uxth	r2, r3
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 243              		.loc 1 315 10
 244 0058 FB89     		ldrh	r3, [r7, #14]	@ movhi
 245 005a 1343     		orrs	r3, r3, r2
 246 005c FB81     		strh	r3, [r7, #14]	@ movhi
 319:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx CR1 */
 320:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 = tmpreg;
 247              		.loc 1 320 13
 248 005e 7B68     		ldr	r3, [r7, #4]
 249 0060 FA89     		ldrh	r2, [r7, #14]	@ movhi
 250 0062 1A80     		strh	r2, [r3]	@ movhi
 321:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 322:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Activate the SPI mode (Reset I2SMOD bit in I2SCFGR register) */
 323:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR &= (uint16_t)~((uint16_t)SPI_I2SCFGR_I2SMOD);
 251              		.loc 1 323 17
 252 0064 7B68     		ldr	r3, [r7, #4]
 253 0066 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 254 0068 9BB2     		uxth	r3, r3
 255 006a 23F40063 		bic	r3, r3, #2048
 256 006e 9AB2     		uxth	r2, r3
 257 0070 7B68     		ldr	r3, [r7, #4]
 258 0072 9A83     		strh	r2, [r3, #28]	@ movhi
 324:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*---------------------------- SPIx CRCPOLY Configuration --------------------*/
 325:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx CRCPOLY */
 326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CRCPR = SPI_InitStruct->SPI_CRCPolynomial;
 259              		.loc 1 326 31
 260 0074 3B68     		ldr	r3, [r7]
 261 0076 1A8A     		ldrh	r2, [r3, #16]
 262              		.loc 1 326 15
 263 0078 7B68     		ldr	r3, [r7, #4]
 264 007a 1A82     		strh	r2, [r3, #16]	@ movhi
 327:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 265              		.loc 1 327 1
 266 007c 00BF     		nop
 267 007e 1437     		adds	r7, r7, #20
 268              	.LCFI8:
 269              		.cfi_def_cfa_offset 4
 270 0080 BD46     		mov	sp, r7
 271              	.LCFI9:
 272              		.cfi_def_cfa_register 13
 273              		@ sp needed
 274 0082 5DF8047B 		ldr	r7, [sp], #4
 275              	.LCFI10:
 276              		.cfi_restore 7
 277              		.cfi_def_cfa_offset 0
 278 0086 7047     		bx	lr
 279              		.cfi_endproc
 280              	.LFE131:
 282              		.section	.text.I2S_Init,"ax",%progbits
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 12


 283              		.align	1
 284              		.global	I2S_Init
 285              		.syntax unified
 286              		.thumb
 287              		.thumb_func
 289              	I2S_Init:
 290              	.LFB132:
 328:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 329:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 330:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 331:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         parameters in the I2S_InitStruct.
 332:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be  2 or 3 to select the SPI peripheral (configured in I2S mode).
 333:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 334:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified SPI peripheral
 335:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         configured in I2S mode.
 336:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           
 337:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The function calculates the optimal prescaler needed to obtain the most 
 338:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         accurate audio frequency (depending on the I2S clock source, the PLL values 
 339:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         and the product configuration). But in case the prescaler value is greater 
 340:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         than 511, the default value (0x02) will be configured instead.    
 341:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 342:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   if an external clock is used as source clock for the I2S, then the define
 343:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         I2S_EXTERNAL_CLOCK_VAL in file stm32f4xx_conf.h should be enabled and set
 344:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         to the value of the source clock frequency (in Hz).
 345:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
 346:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 347:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 348:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_Init(SPI_TypeDef* SPIx, I2S_InitTypeDef* I2S_InitStruct)
 349:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 291              		.loc 1 349 1
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 40
 294              		@ frame_needed = 1, uses_anonymous_args = 0
 295              		@ link register save eliminated.
 296 0000 80B4     		push	{r7}
 297              	.LCFI11:
 298              		.cfi_def_cfa_offset 4
 299              		.cfi_offset 7, -4
 300 0002 8BB0     		sub	sp, sp, #44
 301              	.LCFI12:
 302              		.cfi_def_cfa_offset 48
 303 0004 00AF     		add	r7, sp, #0
 304              	.LCFI13:
 305              		.cfi_def_cfa_register 7
 306 0006 7860     		str	r0, [r7, #4]
 307 0008 3960     		str	r1, [r7]
 350:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 308              		.loc 1 350 12
 309 000a 0023     		movs	r3, #0
 310 000c FB82     		strh	r3, [r7, #22]	@ movhi
 311              		.loc 1 350 24
 312 000e 0223     		movs	r3, #2
 313 0010 FB84     		strh	r3, [r7, #38]	@ movhi
 314              		.loc 1 350 36
 315 0012 0023     		movs	r3, #0
 316 0014 BB84     		strh	r3, [r7, #36]	@ movhi
 317              		.loc 1 350 48
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 13


 318 0016 0123     		movs	r3, #1
 319 0018 7B84     		strh	r3, [r7, #34]	@ movhi
 351:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint32_t tmp = 0, i2sclk = 0;
 320              		.loc 1 351 12
 321 001a 0023     		movs	r3, #0
 322 001c FB61     		str	r3, [r7, #28]
 323              		.loc 1 351 21
 324 001e 0023     		movs	r3, #0
 325 0020 BB61     		str	r3, [r7, #24]
 352:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #ifndef I2S_EXTERNAL_CLOCK_VAL
 353:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint32_t pllm = 0, plln = 0, pllr = 0;
 326              		.loc 1 353 12
 327 0022 0023     		movs	r3, #0
 328 0024 3B61     		str	r3, [r7, #16]
 329              		.loc 1 353 22
 330 0026 0023     		movs	r3, #0
 331 0028 FB60     		str	r3, [r7, #12]
 332              		.loc 1 353 32
 333 002a 0023     		movs	r3, #0
 334 002c BB60     		str	r3, [r7, #8]
 354:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #endif /* I2S_EXTERNAL_CLOCK_VAL */
 355:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 356:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the I2S parameters */
 357:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 358:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 359:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 360:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 361:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MCLK_OUTPUT(I2S_InitStruct->I2S_MCLKOutput));
 362:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_AUDIO_FREQ(I2S_InitStruct->I2S_AudioFreq));
 363:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 364:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 365:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
 366:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 367:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR &= I2SCFGR_CLEAR_MASK; 
 335              		.loc 1 367 17
 336 002e 7B68     		ldr	r3, [r7, #4]
 337 0030 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 338 0032 9BB2     		uxth	r3, r3
 339 0034 23F47B63 		bic	r3, r3, #4016
 340 0038 23F00F03 		bic	r3, r3, #15
 341 003c 9AB2     		uxth	r2, r3
 342 003e 7B68     		ldr	r3, [r7, #4]
 343 0040 9A83     		strh	r2, [r3, #28]	@ movhi
 368:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SPR = 0x0002;
 344              		.loc 1 368 15
 345 0042 7B68     		ldr	r3, [r7, #4]
 346 0044 0222     		movs	r2, #2
 347 0046 1A84     		strh	r2, [r3, #32]	@ movhi
 369:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 370:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the I2SCFGR register value */
 371:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = SPIx->I2SCFGR;
 348              		.loc 1 371 10
 349 0048 7B68     		ldr	r3, [r7, #4]
 350 004a 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 351 004c FB82     		strh	r3, [r7, #22]	@ movhi
 372:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 373:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* If the default value has to be written, reinitialize i2sdiv and i2sodd*/
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 14


 374:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if(I2S_InitStruct->I2S_AudioFreq == I2S_AudioFreq_Default)
 352              		.loc 1 374 20
 353 004e 3B68     		ldr	r3, [r7]
 354 0050 9B68     		ldr	r3, [r3, #8]
 355              		.loc 1 374 5
 356 0052 022B     		cmp	r3, #2
 357 0054 04D1     		bne	.L13
 375:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 376:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t)0;
 358              		.loc 1 376 12
 359 0056 0023     		movs	r3, #0
 360 0058 BB84     		strh	r3, [r7, #36]	@ movhi
 377:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = (uint16_t)2;   
 361              		.loc 1 377 12
 362 005a 0223     		movs	r3, #2
 363 005c FB84     		strh	r3, [r7, #38]	@ movhi
 364 005e 80E0     		b	.L14
 365              	.L13:
 378:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 379:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* If the requested audio frequency is not the default, compute the prescaler */
 380:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 381:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 382:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Check the frame length (For the Prescaler computing) *******************/
 383:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if(I2S_InitStruct->I2S_DataFormat == I2S_DataFormat_16b)
 366              		.loc 1 383 22
 367 0060 3B68     		ldr	r3, [r7]
 368 0062 9B88     		ldrh	r3, [r3, #4]
 369              		.loc 1 383 7
 370 0064 002B     		cmp	r3, #0
 371 0066 02D1     		bne	.L15
 384:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 385:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Packet length is 16 bits */
 386:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       packetlength = 1;
 372              		.loc 1 386 20
 373 0068 0123     		movs	r3, #1
 374 006a 7B84     		strh	r3, [r7, #34]	@ movhi
 375 006c 01E0     		b	.L16
 376              	.L15:
 387:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 388:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     else
 389:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 390:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Packet length is 32 bits */
 391:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       packetlength = 2;
 377              		.loc 1 391 20
 378 006e 0223     		movs	r3, #2
 379 0070 7B84     		strh	r3, [r7, #34]	@ movhi
 380              	.L16:
 392:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 393:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 394:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get I2S source Clock frequency  ****************************************/
 395:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       
 396:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* If an external I2S clock has to be used, this define should be set  
 397:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        in the project configuration or in the stm32f4xx_conf.h file */
 398:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #ifdef I2S_EXTERNAL_CLOCK_VAL     
 399:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set external clock as I2S clock source */
 400:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((RCC->CFGR & RCC_CFGR_I2SSRC) == 0)
 401:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 15


 402:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC->CFGR |= (uint32_t)RCC_CFGR_I2SSRC;
 403:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 404:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 405:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the I2S clock to the external clock  value */
 406:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sclk = I2S_EXTERNAL_CLOCK_VAL;
 407:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 408:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #else /* There is no define for External I2S clock source */
 409:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set PLLI2S as I2S clock source */
 410:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((RCC->CFGR & RCC_CFGR_I2SSRC) != 0)
 381              		.loc 1 410 13
 382 0072 544B     		ldr	r3, .L24
 383 0074 9B68     		ldr	r3, [r3, #8]
 384              		.loc 1 410 20
 385 0076 03F40003 		and	r3, r3, #8388608
 386              		.loc 1 410 8
 387 007a 002B     		cmp	r3, #0
 388 007c 05D0     		beq	.L17
 411:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 412:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC->CFGR &= ~(uint32_t)RCC_CFGR_I2SSRC;
 389              		.loc 1 412 17
 390 007e 514B     		ldr	r3, .L24
 391 0080 9B68     		ldr	r3, [r3, #8]
 392 0082 504A     		ldr	r2, .L24
 393 0084 23F40003 		bic	r3, r3, #8388608
 394 0088 9360     		str	r3, [r2, #8]
 395              	.L17:
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }    
 414:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 415:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLI2SN value */
 416:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     plln = (uint32_t)(((RCC->PLLI2SCFGR & RCC_PLLI2SCFGR_PLLI2SN) >> 6) & \
 396              		.loc 1 416 28
 397 008a 4E4B     		ldr	r3, .L24
 398 008c D3F88430 		ldr	r3, [r3, #132]
 399              		.loc 1 416 67
 400 0090 9B09     		lsrs	r3, r3, #6
 401              		.loc 1 416 10
 402 0092 C3F30803 		ubfx	r3, r3, #0, #9
 403 0096 FB60     		str	r3, [r7, #12]
 417:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                       (RCC_PLLI2SCFGR_PLLI2SN >> 6));
 418:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 419:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLI2SR value */
 420:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     pllr = (uint32_t)(((RCC->PLLI2SCFGR & RCC_PLLI2SCFGR_PLLI2SR) >> 28) & \
 404              		.loc 1 420 28
 405 0098 4A4B     		ldr	r3, .L24
 406 009a D3F88430 		ldr	r3, [r3, #132]
 407              		.loc 1 420 67
 408 009e 1B0F     		lsrs	r3, r3, #28
 409              		.loc 1 420 10
 410 00a0 03F00703 		and	r3, r3, #7
 411 00a4 BB60     		str	r3, [r7, #8]
 421:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                       (RCC_PLLI2SCFGR_PLLI2SR >> 28));
 422:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 423:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLM value */
 424:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     pllm = (uint32_t)(RCC->PLLCFGR & RCC_PLLCFGR_PLLM);
 412              		.loc 1 424 26
 413 00a6 474B     		ldr	r3, .L24
 414 00a8 5B68     		ldr	r3, [r3, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 16


 415              		.loc 1 424 10
 416 00aa 03F03F03 		and	r3, r3, #63
 417 00ae 3B61     		str	r3, [r7, #16]
 425:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 426:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if((RCC->PLLCFGR & RCC_PLLCFGR_PLLSRC) == RCC_PLLCFGR_PLLSRC_HSE)
 418              		.loc 1 426 12
 419 00b0 444B     		ldr	r3, .L24
 420 00b2 5B68     		ldr	r3, [r3, #4]
 421              		.loc 1 426 22
 422 00b4 03F48003 		and	r3, r3, #4194304
 423              		.loc 1 426 7
 424 00b8 B3F5800F 		cmp	r3, #4194304
 425 00bc 0BD1     		bne	.L18
 427:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 428:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Get the I2S source clock value */
 429:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       i2sclk = (uint32_t)(((HSE_VALUE / pllm) * plln) / pllr);
 426              		.loc 1 429 39
 427 00be 424A     		ldr	r2, .L24+4
 428 00c0 3B69     		ldr	r3, [r7, #16]
 429 00c2 B2FBF3F3 		udiv	r3, r2, r3
 430              		.loc 1 429 47
 431 00c6 FA68     		ldr	r2, [r7, #12]
 432 00c8 03FB02F2 		mul	r2, r3, r2
 433              		.loc 1 429 14
 434 00cc BB68     		ldr	r3, [r7, #8]
 435 00ce B2FBF3F3 		udiv	r3, r2, r3
 436 00d2 BB61     		str	r3, [r7, #24]
 437 00d4 0AE0     		b	.L19
 438              	.L18:
 430:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 431:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     else
 432:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     { /* Get the I2S source clock value */
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       i2sclk = (uint32_t)(((HSI_VALUE / pllm) * plln) / pllr);
 439              		.loc 1 433 39
 440 00d6 3D4A     		ldr	r2, .L24+8
 441 00d8 3B69     		ldr	r3, [r7, #16]
 442 00da B2FBF3F3 		udiv	r3, r2, r3
 443              		.loc 1 433 47
 444 00de FA68     		ldr	r2, [r7, #12]
 445 00e0 03FB02F2 		mul	r2, r3, r2
 446              		.loc 1 433 14
 447 00e4 BB68     		ldr	r3, [r7, #8]
 448 00e6 B2FBF3F3 		udiv	r3, r2, r3
 449 00ea BB61     		str	r3, [r7, #24]
 450              	.L19:
 434:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 435:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #endif /* I2S_EXTERNAL_CLOCK_VAL */
 436:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 437:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Compute the Real divider depending on the MCLK output state, with a floating point */
 438:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if(I2S_InitStruct->I2S_MCLKOutput == I2S_MCLKOutput_Enable)
 451              		.loc 1 438 22
 452 00ec 3B68     		ldr	r3, [r7]
 453 00ee DB88     		ldrh	r3, [r3, #6]
 454              		.loc 1 438 7
 455 00f0 B3F5007F 		cmp	r3, #512
 456 00f4 0FD1     		bne	.L20
 439:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 17


 440:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* MCLK output is enabled */
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = (uint16_t)(((((i2sclk / 256) * 10) / I2S_InitStruct->I2S_AudioFreq)) + 5);
 457              		.loc 1 441 35
 458 00f6 BB69     		ldr	r3, [r7, #24]
 459 00f8 1A0A     		lsrs	r2, r3, #8
 460              		.loc 1 441 42
 461 00fa 1346     		mov	r3, r2
 462 00fc 9B00     		lsls	r3, r3, #2
 463 00fe 1344     		add	r3, r3, r2
 464 0100 5B00     		lsls	r3, r3, #1
 465 0102 1A46     		mov	r2, r3
 466              		.loc 1 441 64
 467 0104 3B68     		ldr	r3, [r7]
 468 0106 9B68     		ldr	r3, [r3, #8]
 469              		.loc 1 441 48
 470 0108 B2FBF3F3 		udiv	r3, r2, r3
 471              		.loc 1 441 13
 472 010c 9BB2     		uxth	r3, r3
 473 010e 0533     		adds	r3, r3, #5
 474 0110 9BB2     		uxth	r3, r3
 475              		.loc 1 441 11
 476 0112 FB61     		str	r3, [r7, #28]
 477 0114 12E0     		b	.L21
 478              	.L20:
 442:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 443:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     else
 444:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 445:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* MCLK output is disabled */
 446:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = (uint16_t)(((((i2sclk / (32 * packetlength)) *10 ) / I2S_InitStruct->I2S_AudioFreq)) + 
 479              		.loc 1 446 41
 480 0116 7B8C     		ldrh	r3, [r7, #34]
 481 0118 5B01     		lsls	r3, r3, #5
 482 011a 1A46     		mov	r2, r3
 483              		.loc 1 446 35
 484 011c BB69     		ldr	r3, [r7, #24]
 485 011e B3FBF2F2 		udiv	r2, r3, r2
 486              		.loc 1 446 58
 487 0122 1346     		mov	r3, r2
 488 0124 9B00     		lsls	r3, r3, #2
 489 0126 1344     		add	r3, r3, r2
 490 0128 5B00     		lsls	r3, r3, #1
 491 012a 1A46     		mov	r2, r3
 492              		.loc 1 446 80
 493 012c 3B68     		ldr	r3, [r7]
 494 012e 9B68     		ldr	r3, [r3, #8]
 495              		.loc 1 446 64
 496 0130 B2FBF3F3 		udiv	r3, r2, r3
 497              		.loc 1 446 13
 498 0134 9BB2     		uxth	r3, r3
 499 0136 0533     		adds	r3, r3, #5
 500 0138 9BB2     		uxth	r3, r3
 501              		.loc 1 446 11
 502 013a FB61     		str	r3, [r7, #28]
 503              	.L21:
 447:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 448:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 449:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Remove the flatting point */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 18


 450:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     tmp = tmp / 10;  
 504              		.loc 1 450 9
 505 013c FB69     		ldr	r3, [r7, #28]
 506 013e 244A     		ldr	r2, .L24+12
 507 0140 A2FB0323 		umull	r2, r3, r2, r3
 508 0144 DB08     		lsrs	r3, r3, #3
 509 0146 FB61     		str	r3, [r7, #28]
 451:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       
 452:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Check the parity of the divider */
 453:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t)(tmp & (uint16_t)0x0001);
 510              		.loc 1 453 14
 511 0148 FB69     		ldr	r3, [r7, #28]
 512 014a 9BB2     		uxth	r3, r3
 513              		.loc 1 453 12
 514 014c 03F00103 		and	r3, r3, #1
 515 0150 BB84     		strh	r3, [r7, #36]	@ movhi
 454:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
 455:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Compute the i2sdiv prescaler */
 456:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = (uint16_t)((tmp - i2sodd) / 2);
 516              		.loc 1 456 30
 517 0152 BB8C     		ldrh	r3, [r7, #36]
 518 0154 FA69     		ldr	r2, [r7, #28]
 519 0156 D31A     		subs	r3, r2, r3
 520              		.loc 1 456 40
 521 0158 5B08     		lsrs	r3, r3, #1
 522              		.loc 1 456 12
 523 015a FB84     		strh	r3, [r7, #38]	@ movhi
 457:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
 458:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Mask for the Odd bit (SPI_I2SPR[8]) register */
 459:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t) (i2sodd << 8);
 524              		.loc 1 459 12
 525 015c BB8C     		ldrh	r3, [r7, #36]	@ movhi
 526 015e 1B02     		lsls	r3, r3, #8
 527 0160 BB84     		strh	r3, [r7, #36]	@ movhi
 528              	.L14:
 460:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 461:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 462:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Test if the divider is 1 or 0 or greater than 0xFF */
 463:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((i2sdiv < 2) || (i2sdiv > 0xFF))
 529              		.loc 1 463 6
 530 0162 FB8C     		ldrh	r3, [r7, #38]
 531 0164 012B     		cmp	r3, #1
 532 0166 02D9     		bls	.L22
 533              		.loc 1 463 20 discriminator 1
 534 0168 FB8C     		ldrh	r3, [r7, #38]
 535 016a FF2B     		cmp	r3, #255
 536 016c 03D9     		bls	.L23
 537              	.L22:
 464:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 465:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the default values */
 466:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = 2;
 538              		.loc 1 466 12
 539 016e 0223     		movs	r3, #2
 540 0170 FB84     		strh	r3, [r7, #38]	@ movhi
 467:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = 0;
 541              		.loc 1 467 12
 542 0172 0023     		movs	r3, #0
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 19


 543 0174 BB84     		strh	r3, [r7, #36]	@ movhi
 544              	.L23:
 468:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 469:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 470:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SPR register the computed value */
 471:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SPR = (uint16_t)((uint16_t)i2sdiv | (uint16_t)(i2sodd | (uint16_t)I2S_InitStruct->I2S_MCL
 545              		.loc 1 471 91
 546 0176 3B68     		ldr	r3, [r7]
 547 0178 DA88     		ldrh	r2, [r3, #6]
 548              		.loc 1 471 47
 549 017a BB8C     		ldrh	r3, [r7, #36]	@ movhi
 550 017c 1343     		orrs	r3, r3, r2
 551 017e 9AB2     		uxth	r2, r3
 552              		.loc 1 471 17
 553 0180 FB8C     		ldrh	r3, [r7, #38]	@ movhi
 554 0182 1343     		orrs	r3, r3, r2
 555 0184 9AB2     		uxth	r2, r3
 556              		.loc 1 471 15
 557 0186 7B68     		ldr	r3, [r7, #4]
 558 0188 1A84     		strh	r2, [r3, #32]	@ movhi
 472:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 473:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint16_t)SPI_I2SCFGR_I2SMOD | (uint16_t)(I2S_InitStruct->I2S_Mode | \
 559              		.loc 1 474 80
 560 018a 3B68     		ldr	r3, [r7]
 561 018c 1A88     		ldrh	r2, [r3]
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 562              		.loc 1 475 44
 563 018e 3B68     		ldr	r3, [r7]
 564 0190 5988     		ldrh	r1, [r3, #2]
 565              		.loc 1 475 86
 566 0192 3B68     		ldr	r3, [r7]
 567 0194 9888     		ldrh	r0, [r3, #4]
 476:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 568              		.loc 1 476 43
 569 0196 3B68     		ldr	r3, [r7]
 570 0198 9B89     		ldrh	r3, [r3, #12]
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 571              		.loc 1 475 61
 572 019a 0343     		orrs	r3, r3, r0
 573 019c 9BB2     		uxth	r3, r3
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 574              		.loc 1 475 19
 575 019e 0B43     		orrs	r3, r3, r1
 576 01a0 9BB2     		uxth	r3, r3
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 577              		.loc 1 474 55
 578 01a2 1343     		orrs	r3, r3, r2
 579 01a4 9AB2     		uxth	r2, r3
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 580              		.loc 1 474 10
 581 01a6 FB8A     		ldrh	r3, [r7, #22]	@ movhi
 582 01a8 1343     		orrs	r3, r3, r2
 583 01aa 9BB2     		uxth	r3, r3
 584 01ac 43F40063 		orr	r3, r3, #2048
 585 01b0 FB82     		strh	r3, [r7, #22]	@ movhi
 477:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 20


 478:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #if defined(SPI_I2SCFGR_ASTRTEN)
 479:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if((I2S_InitStruct->I2S_Standard  == I2S_Standard_PCMShort) || (I2S_InitStruct->I2S_Standard  == 
 480:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 481:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Write to SPIx I2SCFGR */  
 482:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->I2SCFGR = tmpreg | SPI_I2SCFGR_ASTRTEN;
 483:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 484:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #else
 485:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SCFGR */  
 486:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR = tmpreg ;
 586              		.loc 1 486 17
 587 01b2 7B68     		ldr	r3, [r7, #4]
 588 01b4 FA8A     		ldrh	r2, [r7, #22]	@ movhi
 589 01b6 9A83     		strh	r2, [r3, #28]	@ movhi
 487:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #endif 
 488:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 590              		.loc 1 488 1
 591 01b8 00BF     		nop
 592 01ba 2C37     		adds	r7, r7, #44
 593              	.LCFI14:
 594              		.cfi_def_cfa_offset 4
 595 01bc BD46     		mov	sp, r7
 596              	.LCFI15:
 597              		.cfi_def_cfa_register 13
 598              		@ sp needed
 599 01be 5DF8047B 		ldr	r7, [sp], #4
 600              	.LCFI16:
 601              		.cfi_restore 7
 602              		.cfi_def_cfa_offset 0
 603 01c2 7047     		bx	lr
 604              	.L25:
 605              		.align	2
 606              	.L24:
 607 01c4 00380240 		.word	1073887232
 608 01c8 00127A00 		.word	8000000
 609 01cc 0024F400 		.word	16000000
 610 01d0 CDCCCCCC 		.word	-858993459
 611              		.cfi_endproc
 612              	.LFE132:
 614              		.section	.text.SPI_StructInit,"ax",%progbits
 615              		.align	1
 616              		.global	SPI_StructInit
 617              		.syntax unified
 618              		.thumb
 619              		.thumb_func
 621              	SPI_StructInit:
 622              	.LFB133:
 489:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 490:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 491:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Fills each SPI_InitStruct member with its default value.
 492:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure which will be initialized.
 493:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 494:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 495:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_StructInit(SPI_InitTypeDef* SPI_InitStruct)
 496:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 623              		.loc 1 496 1
 624              		.cfi_startproc
 625              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 21


 626              		@ frame_needed = 1, uses_anonymous_args = 0
 627              		@ link register save eliminated.
 628 0000 80B4     		push	{r7}
 629              	.LCFI17:
 630              		.cfi_def_cfa_offset 4
 631              		.cfi_offset 7, -4
 632 0002 83B0     		sub	sp, sp, #12
 633              	.LCFI18:
 634              		.cfi_def_cfa_offset 16
 635 0004 00AF     		add	r7, sp, #0
 636              	.LCFI19:
 637              		.cfi_def_cfa_register 7
 638 0006 7860     		str	r0, [r7, #4]
 497:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*--------------- Reset SPI init structure parameters values -----------------*/
 498:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_Direction member */
 499:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_Direction = SPI_Direction_2Lines_FullDuplex;
 639              		.loc 1 499 33
 640 0008 7B68     		ldr	r3, [r7, #4]
 641 000a 0022     		movs	r2, #0
 642 000c 1A80     		strh	r2, [r3]	@ movhi
 500:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* initialize the SPI_Mode member */
 501:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_Mode = SPI_Mode_Slave;
 643              		.loc 1 501 28
 644 000e 7B68     		ldr	r3, [r7, #4]
 645 0010 0022     		movs	r2, #0
 646 0012 5A80     		strh	r2, [r3, #2]	@ movhi
 502:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* initialize the SPI_DataSize member */
 503:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_DataSize = SPI_DataSize_8b;
 647              		.loc 1 503 32
 648 0014 7B68     		ldr	r3, [r7, #4]
 649 0016 0022     		movs	r2, #0
 650 0018 9A80     		strh	r2, [r3, #4]	@ movhi
 504:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CPOL member */
 505:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CPOL = SPI_CPOL_Low;
 651              		.loc 1 505 28
 652 001a 7B68     		ldr	r3, [r7, #4]
 653 001c 0022     		movs	r2, #0
 654 001e DA80     		strh	r2, [r3, #6]	@ movhi
 506:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CPHA member */
 507:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CPHA = SPI_CPHA_1Edge;
 655              		.loc 1 507 28
 656 0020 7B68     		ldr	r3, [r7, #4]
 657 0022 0022     		movs	r2, #0
 658 0024 1A81     		strh	r2, [r3, #8]	@ movhi
 508:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_NSS member */
 509:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_NSS = SPI_NSS_Hard;
 659              		.loc 1 509 27
 660 0026 7B68     		ldr	r3, [r7, #4]
 661 0028 0022     		movs	r2, #0
 662 002a 5A81     		strh	r2, [r3, #10]	@ movhi
 510:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_BaudRatePrescaler member */
 511:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_2;
 663              		.loc 1 511 41
 664 002c 7B68     		ldr	r3, [r7, #4]
 665 002e 0022     		movs	r2, #0
 666 0030 9A81     		strh	r2, [r3, #12]	@ movhi
 512:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_FirstBit member */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 22


 513:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_FirstBit = SPI_FirstBit_MSB;
 667              		.loc 1 513 32
 668 0032 7B68     		ldr	r3, [r7, #4]
 669 0034 0022     		movs	r2, #0
 670 0036 DA81     		strh	r2, [r3, #14]	@ movhi
 514:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CRCPolynomial member */
 515:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CRCPolynomial = 7;
 671              		.loc 1 515 37
 672 0038 7B68     		ldr	r3, [r7, #4]
 673 003a 0722     		movs	r2, #7
 674 003c 1A82     		strh	r2, [r3, #16]	@ movhi
 516:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 675              		.loc 1 516 1
 676 003e 00BF     		nop
 677 0040 0C37     		adds	r7, r7, #12
 678              	.LCFI20:
 679              		.cfi_def_cfa_offset 4
 680 0042 BD46     		mov	sp, r7
 681              	.LCFI21:
 682              		.cfi_def_cfa_register 13
 683              		@ sp needed
 684 0044 5DF8047B 		ldr	r7, [sp], #4
 685              	.LCFI22:
 686              		.cfi_restore 7
 687              		.cfi_def_cfa_offset 0
 688 0048 7047     		bx	lr
 689              		.cfi_endproc
 690              	.LFE133:
 692              		.section	.text.I2S_StructInit,"ax",%progbits
 693              		.align	1
 694              		.global	I2S_StructInit
 695              		.syntax unified
 696              		.thumb
 697              		.thumb_func
 699              	I2S_StructInit:
 700              	.LFB134:
 517:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 518:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 519:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Fills each I2S_InitStruct member with its default value.
 520:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to a I2S_InitTypeDef structure which will be initialized.
 521:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 522:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 523:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_StructInit(I2S_InitTypeDef* I2S_InitStruct)
 524:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 701              		.loc 1 524 1
 702              		.cfi_startproc
 703              		@ args = 0, pretend = 0, frame = 8
 704              		@ frame_needed = 1, uses_anonymous_args = 0
 705              		@ link register save eliminated.
 706 0000 80B4     		push	{r7}
 707              	.LCFI23:
 708              		.cfi_def_cfa_offset 4
 709              		.cfi_offset 7, -4
 710 0002 83B0     		sub	sp, sp, #12
 711              	.LCFI24:
 712              		.cfi_def_cfa_offset 16
 713 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 23


 714              	.LCFI25:
 715              		.cfi_def_cfa_register 7
 716 0006 7860     		str	r0, [r7, #4]
 525:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*--------------- Reset I2S init structure parameters values -----------------*/
 526:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_Mode member */
 527:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_Mode = I2S_Mode_SlaveTx;
 717              		.loc 1 527 28
 718 0008 7B68     		ldr	r3, [r7, #4]
 719 000a 0022     		movs	r2, #0
 720 000c 1A80     		strh	r2, [r3]	@ movhi
 528:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 529:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_Standard member */
 530:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_Standard = I2S_Standard_Phillips;
 721              		.loc 1 530 32
 722 000e 7B68     		ldr	r3, [r7, #4]
 723 0010 0022     		movs	r2, #0
 724 0012 5A80     		strh	r2, [r3, #2]	@ movhi
 531:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 532:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_DataFormat member */
 533:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_DataFormat = I2S_DataFormat_16b;
 725              		.loc 1 533 34
 726 0014 7B68     		ldr	r3, [r7, #4]
 727 0016 0022     		movs	r2, #0
 728 0018 9A80     		strh	r2, [r3, #4]	@ movhi
 534:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 535:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_MCLKOutput member */
 536:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_MCLKOutput = I2S_MCLKOutput_Disable;
 729              		.loc 1 536 34
 730 001a 7B68     		ldr	r3, [r7, #4]
 731 001c 0022     		movs	r2, #0
 732 001e DA80     		strh	r2, [r3, #6]	@ movhi
 537:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 538:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_AudioFreq member */
 539:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_AudioFreq = I2S_AudioFreq_Default;
 733              		.loc 1 539 33
 734 0020 7B68     		ldr	r3, [r7, #4]
 735 0022 0222     		movs	r2, #2
 736 0024 9A60     		str	r2, [r3, #8]
 540:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 541:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_CPOL member */
 542:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_CPOL = I2S_CPOL_Low;
 737              		.loc 1 542 28
 738 0026 7B68     		ldr	r3, [r7, #4]
 739 0028 0022     		movs	r2, #0
 740 002a 9A81     		strh	r2, [r3, #12]	@ movhi
 543:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 741              		.loc 1 543 1
 742 002c 00BF     		nop
 743 002e 0C37     		adds	r7, r7, #12
 744              	.LCFI26:
 745              		.cfi_def_cfa_offset 4
 746 0030 BD46     		mov	sp, r7
 747              	.LCFI27:
 748              		.cfi_def_cfa_register 13
 749              		@ sp needed
 750 0032 5DF8047B 		ldr	r7, [sp], #4
 751              	.LCFI28:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 24


 752              		.cfi_restore 7
 753              		.cfi_def_cfa_offset 0
 754 0036 7047     		bx	lr
 755              		.cfi_endproc
 756              	.LFE134:
 758              		.section	.text.SPI_Cmd,"ax",%progbits
 759              		.align	1
 760              		.global	SPI_Cmd
 761              		.syntax unified
 762              		.thumb
 763              		.thumb_func
 765              	SPI_Cmd:
 766              	.LFB135:
 544:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 545:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 546:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI peripheral.
 547:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 548:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 549:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 550:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 551:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 552:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 553:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 767              		.loc 1 553 1
 768              		.cfi_startproc
 769              		@ args = 0, pretend = 0, frame = 8
 770              		@ frame_needed = 1, uses_anonymous_args = 0
 771              		@ link register save eliminated.
 772 0000 80B4     		push	{r7}
 773              	.LCFI29:
 774              		.cfi_def_cfa_offset 4
 775              		.cfi_offset 7, -4
 776 0002 83B0     		sub	sp, sp, #12
 777              	.LCFI30:
 778              		.cfi_def_cfa_offset 16
 779 0004 00AF     		add	r7, sp, #0
 780              	.LCFI31:
 781              		.cfi_def_cfa_register 7
 782 0006 7860     		str	r0, [r7, #4]
 783 0008 0B46     		mov	r3, r1
 784 000a FB70     		strb	r3, [r7, #3]
 554:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 555:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 556:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 557:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 785              		.loc 1 557 6
 786 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 787 000e 002B     		cmp	r3, #0
 788 0010 08D0     		beq	.L29
 558:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 559:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI peripheral */
 560:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_CR1_SPE;
 789              		.loc 1 560 15
 790 0012 7B68     		ldr	r3, [r7, #4]
 791 0014 1B88     		ldrh	r3, [r3]	@ movhi
 792 0016 9BB2     		uxth	r3, r3
 793 0018 43F04003 		orr	r3, r3, #64
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 25


 794 001c 9AB2     		uxth	r2, r3
 795 001e 7B68     		ldr	r3, [r7, #4]
 796 0020 1A80     		strh	r2, [r3]	@ movhi
 561:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 562:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 563:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 564:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI peripheral */
 565:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_SPE);
 566:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 567:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 797              		.loc 1 567 1
 798 0022 07E0     		b	.L31
 799              	.L29:
 565:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 800              		.loc 1 565 15
 801 0024 7B68     		ldr	r3, [r7, #4]
 802 0026 1B88     		ldrh	r3, [r3]	@ movhi
 803 0028 9BB2     		uxth	r3, r3
 804 002a 23F04003 		bic	r3, r3, #64
 805 002e 9AB2     		uxth	r2, r3
 806 0030 7B68     		ldr	r3, [r7, #4]
 807 0032 1A80     		strh	r2, [r3]	@ movhi
 808              	.L31:
 809              		.loc 1 567 1
 810 0034 00BF     		nop
 811 0036 0C37     		adds	r7, r7, #12
 812              	.LCFI32:
 813              		.cfi_def_cfa_offset 4
 814 0038 BD46     		mov	sp, r7
 815              	.LCFI33:
 816              		.cfi_def_cfa_register 13
 817              		@ sp needed
 818 003a 5DF8047B 		ldr	r7, [sp], #4
 819              	.LCFI34:
 820              		.cfi_restore 7
 821              		.cfi_def_cfa_offset 0
 822 003e 7047     		bx	lr
 823              		.cfi_endproc
 824              	.LFE135:
 826              		.section	.text.I2S_Cmd,"ax",%progbits
 827              		.align	1
 828              		.global	I2S_Cmd
 829              		.syntax unified
 830              		.thumb
 831              		.thumb_func
 833              	I2S_Cmd:
 834              	.LFB136:
 568:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 569:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 570:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI peripheral (in I2S mode).
 571:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 2 or 3 to select the SPI peripheral (or I2Sxext 
 572:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         for full duplex mode).
 573:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 574:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
 575:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 576:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 577:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 26


 578:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 835              		.loc 1 578 1
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 8
 838              		@ frame_needed = 1, uses_anonymous_args = 0
 839              		@ link register save eliminated.
 840 0000 80B4     		push	{r7}
 841              	.LCFI35:
 842              		.cfi_def_cfa_offset 4
 843              		.cfi_offset 7, -4
 844 0002 83B0     		sub	sp, sp, #12
 845              	.LCFI36:
 846              		.cfi_def_cfa_offset 16
 847 0004 00AF     		add	r7, sp, #0
 848              	.LCFI37:
 849              		.cfi_def_cfa_register 7
 850 0006 7860     		str	r0, [r7, #4]
 851 0008 0B46     		mov	r3, r1
 852 000a FB70     		strb	r3, [r7, #3]
 579:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 580:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_23_PERIPH_EXT(SPIx));
 581:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 582:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 583:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 853              		.loc 1 583 6
 854 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 855 000e 002B     		cmp	r3, #0
 856 0010 08D0     		beq	.L33
 584:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 585:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI peripheral (in I2S mode) */
 586:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->I2SCFGR |= SPI_I2SCFGR_I2SE;
 857              		.loc 1 586 19
 858 0012 7B68     		ldr	r3, [r7, #4]
 859 0014 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 860 0016 9BB2     		uxth	r3, r3
 861 0018 43F48063 		orr	r3, r3, #1024
 862 001c 9AB2     		uxth	r2, r3
 863 001e 7B68     		ldr	r3, [r7, #4]
 864 0020 9A83     		strh	r2, [r3, #28]	@ movhi
 587:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 588:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 589:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 590:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI peripheral in I2S mode */
 591:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->I2SCFGR &= (uint16_t)~((uint16_t)SPI_I2SCFGR_I2SE);
 592:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 593:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 865              		.loc 1 593 1
 866 0022 07E0     		b	.L35
 867              	.L33:
 591:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 868              		.loc 1 591 19
 869 0024 7B68     		ldr	r3, [r7, #4]
 870 0026 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 871 0028 9BB2     		uxth	r3, r3
 872 002a 23F48063 		bic	r3, r3, #1024
 873 002e 9AB2     		uxth	r2, r3
 874 0030 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 27


 875 0032 9A83     		strh	r2, [r3, #28]	@ movhi
 876              	.L35:
 877              		.loc 1 593 1
 878 0034 00BF     		nop
 879 0036 0C37     		adds	r7, r7, #12
 880              	.LCFI38:
 881              		.cfi_def_cfa_offset 4
 882 0038 BD46     		mov	sp, r7
 883              	.LCFI39:
 884              		.cfi_def_cfa_register 13
 885              		@ sp needed
 886 003a 5DF8047B 		ldr	r7, [sp], #4
 887              	.LCFI40:
 888              		.cfi_restore 7
 889              		.cfi_def_cfa_offset 0
 890 003e 7047     		bx	lr
 891              		.cfi_endproc
 892              	.LFE136:
 894              		.section	.text.SPI_DataSizeConfig,"ax",%progbits
 895              		.align	1
 896              		.global	SPI_DataSizeConfig
 897              		.syntax unified
 898              		.thumb
 899              		.thumb_func
 901              	SPI_DataSizeConfig:
 902              	.LFB137:
 594:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 595:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 596:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures the data size for the selected SPI.
 597:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 598:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_DataSize: specifies the SPI data size.
 599:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 600:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_DataSize_16b: Set data frame format to 16bit
 601:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_DataSize_8b: Set data frame format to 8bit
 602:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 603:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 604:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_DataSizeConfig(SPI_TypeDef* SPIx, uint16_t SPI_DataSize)
 605:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 903              		.loc 1 605 1
 904              		.cfi_startproc
 905              		@ args = 0, pretend = 0, frame = 8
 906              		@ frame_needed = 1, uses_anonymous_args = 0
 907              		@ link register save eliminated.
 908 0000 80B4     		push	{r7}
 909              	.LCFI41:
 910              		.cfi_def_cfa_offset 4
 911              		.cfi_offset 7, -4
 912 0002 83B0     		sub	sp, sp, #12
 913              	.LCFI42:
 914              		.cfi_def_cfa_offset 16
 915 0004 00AF     		add	r7, sp, #0
 916              	.LCFI43:
 917              		.cfi_def_cfa_register 7
 918 0006 7860     		str	r0, [r7, #4]
 919 0008 0B46     		mov	r3, r1
 920 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 606:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 28


 607:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 608:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_DataSize));
 609:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear DFF bit */
 610:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 &= (uint16_t)~SPI_DataSize_16b;
 921              		.loc 1 610 13
 922 000c 7B68     		ldr	r3, [r7, #4]
 923 000e 1B88     		ldrh	r3, [r3]	@ movhi
 924 0010 9BB2     		uxth	r3, r3
 925 0012 23F40063 		bic	r3, r3, #2048
 926 0016 9AB2     		uxth	r2, r3
 927 0018 7B68     		ldr	r3, [r7, #4]
 928 001a 1A80     		strh	r2, [r3]	@ movhi
 611:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set new DFF bit value */
 612:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 |= SPI_DataSize;
 929              		.loc 1 612 13
 930 001c 7B68     		ldr	r3, [r7, #4]
 931 001e 1B88     		ldrh	r3, [r3]	@ movhi
 932 0020 9AB2     		uxth	r2, r3
 933 0022 7B88     		ldrh	r3, [r7, #2]	@ movhi
 934 0024 1343     		orrs	r3, r3, r2
 935 0026 9AB2     		uxth	r2, r3
 936 0028 7B68     		ldr	r3, [r7, #4]
 937 002a 1A80     		strh	r2, [r3]	@ movhi
 613:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 938              		.loc 1 613 1
 939 002c 00BF     		nop
 940 002e 0C37     		adds	r7, r7, #12
 941              	.LCFI44:
 942              		.cfi_def_cfa_offset 4
 943 0030 BD46     		mov	sp, r7
 944              	.LCFI45:
 945              		.cfi_def_cfa_register 13
 946              		@ sp needed
 947 0032 5DF8047B 		ldr	r7, [sp], #4
 948              	.LCFI46:
 949              		.cfi_restore 7
 950              		.cfi_def_cfa_offset 0
 951 0036 7047     		bx	lr
 952              		.cfi_endproc
 953              	.LFE137:
 955              		.section	.text.SPI_BiDirectionalLineConfig,"ax",%progbits
 956              		.align	1
 957              		.global	SPI_BiDirectionalLineConfig
 958              		.syntax unified
 959              		.thumb
 960              		.thumb_func
 962              	SPI_BiDirectionalLineConfig:
 963              	.LFB138:
 614:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 615:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 616:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Selects the data transfer direction in bidirectional mode for the specified SPI.
 617:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 618:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_Direction: specifies the data transfer direction in bidirectional mode. 
 619:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 620:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_Direction_Tx: Selects Tx transmission direction
 621:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_Direction_Rx: Selects Rx receive direction
 622:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 29


 623:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 624:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_BiDirectionalLineConfig(SPI_TypeDef* SPIx, uint16_t SPI_Direction)
 625:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 964              		.loc 1 625 1
 965              		.cfi_startproc
 966              		@ args = 0, pretend = 0, frame = 8
 967              		@ frame_needed = 1, uses_anonymous_args = 0
 968              		@ link register save eliminated.
 969 0000 80B4     		push	{r7}
 970              	.LCFI47:
 971              		.cfi_def_cfa_offset 4
 972              		.cfi_offset 7, -4
 973 0002 83B0     		sub	sp, sp, #12
 974              	.LCFI48:
 975              		.cfi_def_cfa_offset 16
 976 0004 00AF     		add	r7, sp, #0
 977              	.LCFI49:
 978              		.cfi_def_cfa_register 7
 979 0006 7860     		str	r0, [r7, #4]
 980 0008 0B46     		mov	r3, r1
 981 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 626:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 627:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 628:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DIRECTION(SPI_Direction));
 629:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_Direction == SPI_Direction_Tx)
 982              		.loc 1 629 6
 983 000c 7B88     		ldrh	r3, [r7, #2]
 984 000e B3F5804F 		cmp	r3, #16384
 985 0012 08D1     		bne	.L38
 630:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 631:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the Tx only mode */
 632:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_Direction_Tx;
 986              		.loc 1 632 15
 987 0014 7B68     		ldr	r3, [r7, #4]
 988 0016 1B88     		ldrh	r3, [r3]	@ movhi
 989 0018 9BB2     		uxth	r3, r3
 990 001a 43F48043 		orr	r3, r3, #16384
 991 001e 9AB2     		uxth	r2, r3
 992 0020 7B68     		ldr	r3, [r7, #4]
 993 0022 1A80     		strh	r2, [r3]	@ movhi
 633:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 634:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 635:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 636:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the Rx only mode */
 637:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= SPI_Direction_Rx;
 638:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 639:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 994              		.loc 1 639 1
 995 0024 07E0     		b	.L40
 996              	.L38:
 637:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 997              		.loc 1 637 15
 998 0026 7B68     		ldr	r3, [r7, #4]
 999 0028 1B88     		ldrh	r3, [r3]	@ movhi
 1000 002a 9BB2     		uxth	r3, r3
 1001 002c 23F48043 		bic	r3, r3, #16384
 1002 0030 9AB2     		uxth	r2, r3
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 30


 1003 0032 7B68     		ldr	r3, [r7, #4]
 1004 0034 1A80     		strh	r2, [r3]	@ movhi
 1005              	.L40:
 1006              		.loc 1 639 1
 1007 0036 00BF     		nop
 1008 0038 0C37     		adds	r7, r7, #12
 1009              	.LCFI50:
 1010              		.cfi_def_cfa_offset 4
 1011 003a BD46     		mov	sp, r7
 1012              	.LCFI51:
 1013              		.cfi_def_cfa_register 13
 1014              		@ sp needed
 1015 003c 5DF8047B 		ldr	r7, [sp], #4
 1016              	.LCFI52:
 1017              		.cfi_restore 7
 1018              		.cfi_def_cfa_offset 0
 1019 0040 7047     		bx	lr
 1020              		.cfi_endproc
 1021              	.LFE138:
 1023              		.section	.text.SPI_NSSInternalSoftwareConfig,"ax",%progbits
 1024              		.align	1
 1025              		.global	SPI_NSSInternalSoftwareConfig
 1026              		.syntax unified
 1027              		.thumb
 1028              		.thumb_func
 1030              	SPI_NSSInternalSoftwareConfig:
 1031              	.LFB139:
 640:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 641:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 642:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures internally by software the NSS pin for the selected SPI.
 643:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 644:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_NSSInternalSoft: specifies the SPI NSS internal state.
 645:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 646:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_NSSInternalSoft_Set: Set NSS pin internally
 647:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_NSSInternalSoft_Reset: Reset NSS pin internally
 648:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 649:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 650:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_NSSInternalSoftwareConfig(SPI_TypeDef* SPIx, uint16_t SPI_NSSInternalSoft)
 651:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1032              		.loc 1 651 1
 1033              		.cfi_startproc
 1034              		@ args = 0, pretend = 0, frame = 8
 1035              		@ frame_needed = 1, uses_anonymous_args = 0
 1036              		@ link register save eliminated.
 1037 0000 80B4     		push	{r7}
 1038              	.LCFI53:
 1039              		.cfi_def_cfa_offset 4
 1040              		.cfi_offset 7, -4
 1041 0002 83B0     		sub	sp, sp, #12
 1042              	.LCFI54:
 1043              		.cfi_def_cfa_offset 16
 1044 0004 00AF     		add	r7, sp, #0
 1045              	.LCFI55:
 1046              		.cfi_def_cfa_register 7
 1047 0006 7860     		str	r0, [r7, #4]
 1048 0008 0B46     		mov	r3, r1
 1049 000a 7B80     		strh	r3, [r7, #2]	@ movhi
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 31


 652:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 653:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 654:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_NSS_INTERNAL(SPI_NSSInternalSoft));
 655:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_NSSInternalSoft != SPI_NSSInternalSoft_Reset)
 1050              		.loc 1 655 6
 1051 000c 7B88     		ldrh	r3, [r7, #2]
 1052 000e 4FF6FF62 		movw	r2, #65279
 1053 0012 9342     		cmp	r3, r2
 1054 0014 08D0     		beq	.L42
 656:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 657:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set NSS pin internally by software */
 658:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_NSSInternalSoft_Set;
 1055              		.loc 1 658 15
 1056 0016 7B68     		ldr	r3, [r7, #4]
 1057 0018 1B88     		ldrh	r3, [r3]	@ movhi
 1058 001a 9BB2     		uxth	r3, r3
 1059 001c 43F48073 		orr	r3, r3, #256
 1060 0020 9AB2     		uxth	r2, r3
 1061 0022 7B68     		ldr	r3, [r7, #4]
 1062 0024 1A80     		strh	r2, [r3]	@ movhi
 659:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 660:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 661:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 662:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Reset NSS pin internally by software */
 663:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= SPI_NSSInternalSoft_Reset;
 664:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 665:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1063              		.loc 1 665 1
 1064 0026 07E0     		b	.L44
 1065              	.L42:
 663:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1066              		.loc 1 663 15
 1067 0028 7B68     		ldr	r3, [r7, #4]
 1068 002a 1B88     		ldrh	r3, [r3]	@ movhi
 1069 002c 9BB2     		uxth	r3, r3
 1070 002e 23F48073 		bic	r3, r3, #256
 1071 0032 9AB2     		uxth	r2, r3
 1072 0034 7B68     		ldr	r3, [r7, #4]
 1073 0036 1A80     		strh	r2, [r3]	@ movhi
 1074              	.L44:
 1075              		.loc 1 665 1
 1076 0038 00BF     		nop
 1077 003a 0C37     		adds	r7, r7, #12
 1078              	.LCFI56:
 1079              		.cfi_def_cfa_offset 4
 1080 003c BD46     		mov	sp, r7
 1081              	.LCFI57:
 1082              		.cfi_def_cfa_register 13
 1083              		@ sp needed
 1084 003e 5DF8047B 		ldr	r7, [sp], #4
 1085              	.LCFI58:
 1086              		.cfi_restore 7
 1087              		.cfi_def_cfa_offset 0
 1088 0042 7047     		bx	lr
 1089              		.cfi_endproc
 1090              	.LFE139:
 1092              		.section	.text.SPI_SSOutputCmd,"ax",%progbits
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 32


 1093              		.align	1
 1094              		.global	SPI_SSOutputCmd
 1095              		.syntax unified
 1096              		.thumb
 1097              		.thumb_func
 1099              	SPI_SSOutputCmd:
 1100              	.LFB140:
 666:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 667:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 668:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SS output for the selected SPI.
 669:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 670:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx SS output. 
 671:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 672:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 673:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 674:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_SSOutputCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 675:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1101              		.loc 1 675 1
 1102              		.cfi_startproc
 1103              		@ args = 0, pretend = 0, frame = 8
 1104              		@ frame_needed = 1, uses_anonymous_args = 0
 1105              		@ link register save eliminated.
 1106 0000 80B4     		push	{r7}
 1107              	.LCFI59:
 1108              		.cfi_def_cfa_offset 4
 1109              		.cfi_offset 7, -4
 1110 0002 83B0     		sub	sp, sp, #12
 1111              	.LCFI60:
 1112              		.cfi_def_cfa_offset 16
 1113 0004 00AF     		add	r7, sp, #0
 1114              	.LCFI61:
 1115              		.cfi_def_cfa_register 7
 1116 0006 7860     		str	r0, [r7, #4]
 1117 0008 0B46     		mov	r3, r1
 1118 000a FB70     		strb	r3, [r7, #3]
 676:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 677:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 678:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 679:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1119              		.loc 1 679 6
 1120 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1121 000e 002B     		cmp	r3, #0
 1122 0010 08D0     		beq	.L46
 680:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 681:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI SS output */
 682:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= (uint16_t)SPI_CR2_SSOE;
 1123              		.loc 1 682 15
 1124 0012 7B68     		ldr	r3, [r7, #4]
 1125 0014 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1126 0016 9BB2     		uxth	r3, r3
 1127 0018 43F00403 		orr	r3, r3, #4
 1128 001c 9AB2     		uxth	r2, r3
 1129 001e 7B68     		ldr	r3, [r7, #4]
 1130 0020 9A80     		strh	r2, [r3, #4]	@ movhi
 683:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 684:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 685:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 33


 686:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI SS output */
 687:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~((uint16_t)SPI_CR2_SSOE);
 688:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 689:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1131              		.loc 1 689 1
 1132 0022 07E0     		b	.L48
 1133              	.L46:
 687:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1134              		.loc 1 687 15
 1135 0024 7B68     		ldr	r3, [r7, #4]
 1136 0026 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1137 0028 9BB2     		uxth	r3, r3
 1138 002a 23F00403 		bic	r3, r3, #4
 1139 002e 9AB2     		uxth	r2, r3
 1140 0030 7B68     		ldr	r3, [r7, #4]
 1141 0032 9A80     		strh	r2, [r3, #4]	@ movhi
 1142              	.L48:
 1143              		.loc 1 689 1
 1144 0034 00BF     		nop
 1145 0036 0C37     		adds	r7, r7, #12
 1146              	.LCFI62:
 1147              		.cfi_def_cfa_offset 4
 1148 0038 BD46     		mov	sp, r7
 1149              	.LCFI63:
 1150              		.cfi_def_cfa_register 13
 1151              		@ sp needed
 1152 003a 5DF8047B 		ldr	r7, [sp], #4
 1153              	.LCFI64:
 1154              		.cfi_restore 7
 1155              		.cfi_def_cfa_offset 0
 1156 003e 7047     		bx	lr
 1157              		.cfi_endproc
 1158              	.LFE140:
 1160              		.section	.text.SPI_TIModeCmd,"ax",%progbits
 1161              		.align	1
 1162              		.global	SPI_TIModeCmd
 1163              		.syntax unified
 1164              		.thumb
 1165              		.thumb_func
 1167              	SPI_TIModeCmd:
 1168              	.LFB141:
 690:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 691:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 692:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
 693:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *   
 694:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   This function can be called only after the SPI_Init() function has 
 695:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         been called. 
 696:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   When TI mode is selected, the control bits SSM, SSI, CPOL and CPHA 
 697:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         are not taken into consideration and are configured by hardware
 698:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         respectively to the TI mode requirements.  
 699:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 700:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 
 701:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the selected SPI TI communication mode.
 702:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 703:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 704:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 705:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_TIModeCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 34


 706:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1169              		.loc 1 706 1
 1170              		.cfi_startproc
 1171              		@ args = 0, pretend = 0, frame = 8
 1172              		@ frame_needed = 1, uses_anonymous_args = 0
 1173              		@ link register save eliminated.
 1174 0000 80B4     		push	{r7}
 1175              	.LCFI65:
 1176              		.cfi_def_cfa_offset 4
 1177              		.cfi_offset 7, -4
 1178 0002 83B0     		sub	sp, sp, #12
 1179              	.LCFI66:
 1180              		.cfi_def_cfa_offset 16
 1181 0004 00AF     		add	r7, sp, #0
 1182              	.LCFI67:
 1183              		.cfi_def_cfa_register 7
 1184 0006 7860     		str	r0, [r7, #4]
 1185 0008 0B46     		mov	r3, r1
 1186 000a FB70     		strb	r3, [r7, #3]
 707:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 708:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 709:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 710:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 711:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1187              		.loc 1 711 6
 1188 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1189 000e 002B     		cmp	r3, #0
 1190 0010 08D0     		beq	.L50
 712:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 713:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the TI mode for the selected SPI peripheral */
 714:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= SPI_CR2_FRF;
 1191              		.loc 1 714 15
 1192 0012 7B68     		ldr	r3, [r7, #4]
 1193 0014 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1194 0016 9BB2     		uxth	r3, r3
 1195 0018 43F01003 		orr	r3, r3, #16
 1196 001c 9AB2     		uxth	r2, r3
 1197 001e 7B68     		ldr	r3, [r7, #4]
 1198 0020 9A80     		strh	r2, [r3, #4]	@ movhi
 715:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 716:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 717:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 718:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the TI mode for the selected SPI peripheral */
 719:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_CR2_FRF;
 720:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 721:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1199              		.loc 1 721 1
 1200 0022 07E0     		b	.L52
 1201              	.L50:
 719:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1202              		.loc 1 719 15
 1203 0024 7B68     		ldr	r3, [r7, #4]
 1204 0026 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1205 0028 9BB2     		uxth	r3, r3
 1206 002a 23F01003 		bic	r3, r3, #16
 1207 002e 9AB2     		uxth	r2, r3
 1208 0030 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 35


 1209 0032 9A80     		strh	r2, [r3, #4]	@ movhi
 1210              	.L52:
 1211              		.loc 1 721 1
 1212 0034 00BF     		nop
 1213 0036 0C37     		adds	r7, r7, #12
 1214              	.LCFI68:
 1215              		.cfi_def_cfa_offset 4
 1216 0038 BD46     		mov	sp, r7
 1217              	.LCFI69:
 1218              		.cfi_def_cfa_register 13
 1219              		@ sp needed
 1220 003a 5DF8047B 		ldr	r7, [sp], #4
 1221              	.LCFI70:
 1222              		.cfi_restore 7
 1223              		.cfi_def_cfa_offset 0
 1224 003e 7047     		bx	lr
 1225              		.cfi_endproc
 1226              	.LFE141:
 1228              		.section	.text.I2S_FullDuplexConfig,"ax",%progbits
 1229              		.align	1
 1230              		.global	I2S_FullDuplexConfig
 1231              		.syntax unified
 1232              		.thumb
 1233              		.thumb_func
 1235              	I2S_FullDuplexConfig:
 1236              	.LFB142:
 722:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 723:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 724:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures the full duplex mode for the I2Sx peripheral using its
 725:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         extension I2Sxext according to the specified parameters in the 
 726:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         I2S_InitStruct.
 727:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2Sxext: where x can be  2 or 3 to select the I2S peripheral extension block.
 728:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 729:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified I2S peripheral
 730:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         extension.
 731:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 732:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The structure pointed by I2S_InitStruct parameter should be the same
 733:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         used for the master I2S peripheral. In this case, if the master is 
 734:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         configured as transmitter, the slave will be receiver and vice versa.
 735:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         Or you can force a different mode by modifying the field I2S_Mode to the
 736:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         value I2S_SlaveRx or I2S_SlaveTx independently of the master configuration.    
 737:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         
 738:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The I2S full duplex extension can be configured in slave mode only.    
 739:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
 740:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 741:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 742:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_FullDuplexConfig(SPI_TypeDef* I2Sxext, I2S_InitTypeDef* I2S_InitStruct)
 743:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1237              		.loc 1 743 1
 1238              		.cfi_startproc
 1239              		@ args = 0, pretend = 0, frame = 16
 1240              		@ frame_needed = 1, uses_anonymous_args = 0
 1241              		@ link register save eliminated.
 1242 0000 80B4     		push	{r7}
 1243              	.LCFI71:
 1244              		.cfi_def_cfa_offset 4
 1245              		.cfi_offset 7, -4
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 36


 1246 0002 85B0     		sub	sp, sp, #20
 1247              	.LCFI72:
 1248              		.cfi_def_cfa_offset 24
 1249 0004 00AF     		add	r7, sp, #0
 1250              	.LCFI73:
 1251              		.cfi_def_cfa_register 7
 1252 0006 7860     		str	r0, [r7, #4]
 1253 0008 3960     		str	r1, [r7]
 744:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0, tmp = 0;
 1254              		.loc 1 744 12
 1255 000a 0023     		movs	r3, #0
 1256 000c BB81     		strh	r3, [r7, #12]	@ movhi
 1257              		.loc 1 744 24
 1258 000e 0023     		movs	r3, #0
 1259 0010 FB81     		strh	r3, [r7, #14]	@ movhi
 745:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 746:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the I2S parameters */
 747:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_EXT_PERIPH(I2Sxext));
 748:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 749:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 750:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 751:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 752:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 753:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
 754:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 755:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SCFGR &= I2SCFGR_CLEAR_MASK; 
 1260              		.loc 1 755 20
 1261 0012 7B68     		ldr	r3, [r7, #4]
 1262 0014 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 1263 0016 9BB2     		uxth	r3, r3
 1264 0018 23F47B63 		bic	r3, r3, #4016
 1265 001c 23F00F03 		bic	r3, r3, #15
 1266 0020 9AB2     		uxth	r2, r3
 1267 0022 7B68     		ldr	r3, [r7, #4]
 1268 0024 9A83     		strh	r2, [r3, #28]	@ movhi
 756:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SPR = 0x0002;
 1269              		.loc 1 756 18
 1270 0026 7B68     		ldr	r3, [r7, #4]
 1271 0028 0222     		movs	r2, #2
 1272 002a 1A84     		strh	r2, [r3, #32]	@ movhi
 757:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 758:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the I2SCFGR register value */
 759:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = I2Sxext->I2SCFGR;
 1273              		.loc 1 759 10
 1274 002c 7B68     		ldr	r3, [r7, #4]
 1275 002e 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 1276 0030 BB81     		strh	r3, [r7, #12]	@ movhi
 760:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 761:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the mode to be configured for the extended I2S */
 762:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((I2S_InitStruct->I2S_Mode == I2S_Mode_MasterTx) || (I2S_InitStruct->I2S_Mode == I2S_Mode_Slav
 1277              		.loc 1 762 22
 1278 0032 3B68     		ldr	r3, [r7]
 1279 0034 1B88     		ldrh	r3, [r3]
 1280              		.loc 1 762 6
 1281 0036 B3F5007F 		cmp	r3, #512
 1282 003a 03D0     		beq	.L54
 1283              		.loc 1 762 73 discriminator 1
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 37


 1284 003c 3B68     		ldr	r3, [r7]
 1285 003e 1B88     		ldrh	r3, [r3]
 1286              		.loc 1 762 55 discriminator 1
 1287 0040 002B     		cmp	r3, #0
 1288 0042 03D1     		bne	.L55
 1289              	.L54:
 763:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 764:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     tmp = I2S_Mode_SlaveRx;
 1290              		.loc 1 764 9
 1291 0044 4FF48073 		mov	r3, #256
 1292 0048 FB81     		strh	r3, [r7, #14]	@ movhi
 1293 004a 0BE0     		b	.L56
 1294              	.L55:
 765:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 766:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 767:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 768:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((I2S_InitStruct->I2S_Mode == I2S_Mode_MasterRx) || (I2S_InitStruct->I2S_Mode == I2S_Mode_Sl
 1295              		.loc 1 768 24
 1296 004c 3B68     		ldr	r3, [r7]
 1297 004e 1B88     		ldrh	r3, [r3]
 1298              		.loc 1 768 8
 1299 0050 B3F5407F 		cmp	r3, #768
 1300 0054 04D0     		beq	.L57
 1301              		.loc 1 768 75 discriminator 1
 1302 0056 3B68     		ldr	r3, [r7]
 1303 0058 1B88     		ldrh	r3, [r3]
 1304              		.loc 1 768 57 discriminator 1
 1305 005a B3F5807F 		cmp	r3, #256
 1306 005e 01D1     		bne	.L56
 1307              	.L57:
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 770:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = I2S_Mode_SlaveTx;
 1308              		.loc 1 770 11
 1309 0060 0023     		movs	r3, #0
 1310 0062 FB81     		strh	r3, [r7, #14]	@ movhi
 1311              	.L56:
 771:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 772:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 773:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 774:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 775:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 776:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint16_t)SPI_I2SCFGR_I2SMOD | (uint16_t)(tmp | \
 777:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 1312              		.loc 1 777 44
 1313 0064 3B68     		ldr	r3, [r7]
 1314 0066 5A88     		ldrh	r2, [r3, #2]
 1315              		.loc 1 777 86
 1316 0068 3B68     		ldr	r3, [r7]
 1317 006a 9988     		ldrh	r1, [r3, #4]
 778:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 1318              		.loc 1 778 43
 1319 006c 3B68     		ldr	r3, [r7]
 1320 006e 9B89     		ldrh	r3, [r3, #12]
 777:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 1321              		.loc 1 777 61
 1322 0070 0B43     		orrs	r3, r3, r1
 1323 0072 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 38


 777:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 1324              		.loc 1 777 19
 1325 0074 1343     		orrs	r3, r3, r2
 1326 0076 9AB2     		uxth	r2, r3
 776:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 1327              		.loc 1 776 55
 1328 0078 FB89     		ldrh	r3, [r7, #14]	@ movhi
 1329 007a 1343     		orrs	r3, r3, r2
 1330 007c 9AB2     		uxth	r2, r3
 776:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 1331              		.loc 1 776 10
 1332 007e BB89     		ldrh	r3, [r7, #12]	@ movhi
 1333 0080 1343     		orrs	r3, r3, r2
 1334 0082 9BB2     		uxth	r3, r3
 1335 0084 43F40063 		orr	r3, r3, #2048
 1336 0088 BB81     		strh	r3, [r7, #12]	@ movhi
 779:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 780:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SCFGR */  
 781:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SCFGR = tmpreg;
 1337              		.loc 1 781 20
 1338 008a 7B68     		ldr	r3, [r7, #4]
 1339 008c BA89     		ldrh	r2, [r7, #12]	@ movhi
 1340 008e 9A83     		strh	r2, [r3, #28]	@ movhi
 782:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1341              		.loc 1 782 1
 1342 0090 00BF     		nop
 1343 0092 1437     		adds	r7, r7, #20
 1344              	.LCFI74:
 1345              		.cfi_def_cfa_offset 4
 1346 0094 BD46     		mov	sp, r7
 1347              	.LCFI75:
 1348              		.cfi_def_cfa_register 13
 1349              		@ sp needed
 1350 0096 5DF8047B 		ldr	r7, [sp], #4
 1351              	.LCFI76:
 1352              		.cfi_restore 7
 1353              		.cfi_def_cfa_offset 0
 1354 009a 7047     		bx	lr
 1355              		.cfi_endproc
 1356              	.LFE142:
 1358              		.section	.text.SPI_I2S_ReceiveData,"ax",%progbits
 1359              		.align	1
 1360              		.global	SPI_I2S_ReceiveData
 1361              		.syntax unified
 1362              		.thumb
 1363              		.thumb_func
 1365              	SPI_I2S_ReceiveData:
 1366              	.LFB143:
 783:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 784:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 785:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 786:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 787:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 788:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group2 Data transfers functions
 789:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Data transfers functions
 790:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 791:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 39


 792:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 793:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                       ##### Data transfers functions #####
 794:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 795:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 796:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] This section provides a set of functions allowing to manage the SPI data 
 797:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       transfers. In reception, data are received and then stored into an internal 
 798:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Rx buffer while. In transmission, data are first stored into an internal Tx 
 799:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       buffer before being transmitted.
 800:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 801:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] The read access of the SPI_DR register can be done using the SPI_I2S_ReceiveData()
 802:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       function and returns the Rx buffered value. Whereas a write access to the SPI_DR 
 803:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       can be done using SPI_I2S_SendData() function and stores the written data into 
 804:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       Tx buffer.
 805:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 806:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 807:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 808:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 809:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 810:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 811:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the most recent received data by the SPIx/I2Sx peripheral. 
 812:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
 813:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
 814:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The value of the received data.
 815:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 816:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_I2S_ReceiveData(SPI_TypeDef* SPIx)
 817:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1367              		.loc 1 817 1
 1368              		.cfi_startproc
 1369              		@ args = 0, pretend = 0, frame = 8
 1370              		@ frame_needed = 1, uses_anonymous_args = 0
 1371              		@ link register save eliminated.
 1372 0000 80B4     		push	{r7}
 1373              	.LCFI77:
 1374              		.cfi_def_cfa_offset 4
 1375              		.cfi_offset 7, -4
 1376 0002 83B0     		sub	sp, sp, #12
 1377              	.LCFI78:
 1378              		.cfi_def_cfa_offset 16
 1379 0004 00AF     		add	r7, sp, #0
 1380              	.LCFI79:
 1381              		.cfi_def_cfa_register 7
 1382 0006 7860     		str	r0, [r7, #4]
 818:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 819:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 820:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 821:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the data in the DR register */
 822:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return SPIx->DR;
 1383              		.loc 1 822 14
 1384 0008 7B68     		ldr	r3, [r7, #4]
 1385 000a 9B89     		ldrh	r3, [r3, #12]	@ movhi
 1386 000c 9BB2     		uxth	r3, r3
 823:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1387              		.loc 1 823 1
 1388 000e 1846     		mov	r0, r3
 1389 0010 0C37     		adds	r7, r7, #12
 1390              	.LCFI80:
 1391              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 40


 1392 0012 BD46     		mov	sp, r7
 1393              	.LCFI81:
 1394              		.cfi_def_cfa_register 13
 1395              		@ sp needed
 1396 0014 5DF8047B 		ldr	r7, [sp], #4
 1397              	.LCFI82:
 1398              		.cfi_restore 7
 1399              		.cfi_def_cfa_offset 0
 1400 0018 7047     		bx	lr
 1401              		.cfi_endproc
 1402              	.LFE143:
 1404              		.section	.text.SPI_I2S_SendData,"ax",%progbits
 1405              		.align	1
 1406              		.global	SPI_I2S_SendData
 1407              		.syntax unified
 1408              		.thumb
 1409              		.thumb_func
 1411              	SPI_I2S_SendData:
 1412              	.LFB144:
 824:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 825:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 826:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Transmits a Data through the SPIx/I2Sx peripheral.
 827:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
 828:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.     
 829:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  Data: Data to be transmitted.
 830:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 831:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 832:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_SendData(SPI_TypeDef* SPIx, uint16_t Data)
 833:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1413              		.loc 1 833 1
 1414              		.cfi_startproc
 1415              		@ args = 0, pretend = 0, frame = 8
 1416              		@ frame_needed = 1, uses_anonymous_args = 0
 1417              		@ link register save eliminated.
 1418 0000 80B4     		push	{r7}
 1419              	.LCFI83:
 1420              		.cfi_def_cfa_offset 4
 1421              		.cfi_offset 7, -4
 1422 0002 83B0     		sub	sp, sp, #12
 1423              	.LCFI84:
 1424              		.cfi_def_cfa_offset 16
 1425 0004 00AF     		add	r7, sp, #0
 1426              	.LCFI85:
 1427              		.cfi_def_cfa_register 7
 1428 0006 7860     		str	r0, [r7, #4]
 1429 0008 0B46     		mov	r3, r1
 1430 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 834:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 835:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 836:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 837:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write in the DR register the data to be sent */
 838:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->DR = Data;
 1431              		.loc 1 838 12
 1432 000c 7B68     		ldr	r3, [r7, #4]
 1433 000e 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1434 0010 9A81     		strh	r2, [r3, #12]	@ movhi
 839:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 41


 1435              		.loc 1 839 1
 1436 0012 00BF     		nop
 1437 0014 0C37     		adds	r7, r7, #12
 1438              	.LCFI86:
 1439              		.cfi_def_cfa_offset 4
 1440 0016 BD46     		mov	sp, r7
 1441              	.LCFI87:
 1442              		.cfi_def_cfa_register 13
 1443              		@ sp needed
 1444 0018 5DF8047B 		ldr	r7, [sp], #4
 1445              	.LCFI88:
 1446              		.cfi_restore 7
 1447              		.cfi_def_cfa_offset 0
 1448 001c 7047     		bx	lr
 1449              		.cfi_endproc
 1450              	.LFE144:
 1452              		.section	.text.SPI_CalculateCRC,"ax",%progbits
 1453              		.align	1
 1454              		.global	SPI_CalculateCRC
 1455              		.syntax unified
 1456              		.thumb
 1457              		.thumb_func
 1459              	SPI_CalculateCRC:
 1460              	.LFB145:
 840:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 841:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 842:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 843:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 844:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 845:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group3 Hardware CRC Calculation functions
 846:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Hardware CRC Calculation functions
 847:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 848:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 849:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 850:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                  ##### Hardware CRC Calculation functions #####
 851:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 852:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 853:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] This section provides a set of functions allowing to manage the SPI CRC hardware 
 854:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       calculation
 855:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 856:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] SPI communication using CRC is possible through the following procedure:
 857:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Program the Data direction, Polarity, Phase, First Data, Baud Rate Prescaler, 
 858:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        Slave Management, Peripheral Mode and CRC Polynomial values using the SPI_Init()
 859:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        function.
 860:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the CRC calculation using the SPI_CalculateCRC() function.
 861:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Enable the SPI using the SPI_Cmd() function
 862:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) Before writing the last data to the TX buffer, set the CRCNext bit using the 
 863:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        SPI_TransmitCRC() function to indicate that after transmission of the last 
 864:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        data, the CRC should be transmitted.
 865:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) After transmitting the last data, the SPI transmits the CRC. The SPI_CR1_CRCNEXT
 866:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         bit is reset. The CRC is also received and compared against the SPI_RXCRCR 
 867:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         value. 
 868:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         If the value does not match, the SPI_FLAG_CRCERR flag is set and an interrupt
 869:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         can be generated when the SPI_I2S_IT_ERR interrupt is enabled.
 870:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 871:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..]
 872:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) It is advised not to read the calculated CRC values during the communication.
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 42


 873:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 874:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) When the SPI is in slave mode, be careful to enable CRC calculation only 
 875:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        when the clock is stable, that is, when the clock is in the steady state. 
 876:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        If not, a wrong CRC calculation may be done. In fact, the CRC is sensitive 
 877:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        to the SCK slave input clock as soon as CRCEN is set, and this, whatever 
 878:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        the value of the SPE bit.
 879:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 880:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) With high bitrate frequencies, be careful when transmitting the CRC.
 881:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        As the number of used CPU cycles has to be as low as possible in the CRC 
 882:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        transfer phase, it is forbidden to call software functions in the CRC 
 883:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        transmission sequence to avoid errors in the last data and CRC reception. 
 884:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        In fact, CRCNEXT bit has to be written before the end of the transmission/reception 
 885:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        of the last data.
 886:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 887:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) For high bit rate frequencies, it is advised to use the DMA mode to avoid the
 888:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        degradation of the SPI speed performance due to CPU accesses impacting the 
 889:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        SPI bandwidth.
 890:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 891:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) When the STM32F4xx is configured as slave and the NSS hardware mode is 
 892:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        used, the NSS pin needs to be kept low between the data phase and the CRC 
 893:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        phase.
 894:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 895:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) When the SPI is configured in slave mode with the CRC feature enabled, CRC
 896:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        calculation takes place even if a high level is applied on the NSS pin. 
 897:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        This may happen for example in case of a multi-slave environment where the 
 898:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        communication master addresses slaves alternately.
 899:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 900:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) Between a slave de-selection (high level on NSS) and a new slave selection 
 901:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (low level on NSS), the CRC value should be cleared on both master and slave
 902:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        sides in order to resynchronize the master and slave for their respective 
 903:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        CRC calculation.
 904:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 905:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (@) To clear the CRC, follow the procedure below:
 906:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (#@) Disable SPI using the SPI_Cmd() function
 907:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (#@) Disable the CRC calculation using the SPI_CalculateCRC() function.
 908:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (#@) Enable the CRC calculation using the SPI_CalculateCRC() function.
 909:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (#@) Enable SPI using the SPI_Cmd() function.
 910:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 911:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 912:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 913:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 914:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 915:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 916:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the CRC value calculation of the transferred bytes.
 917:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 918:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx CRC value calculation.
 919:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 920:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 921:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 922:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_CalculateCRC(SPI_TypeDef* SPIx, FunctionalState NewState)
 923:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1461              		.loc 1 923 1
 1462              		.cfi_startproc
 1463              		@ args = 0, pretend = 0, frame = 8
 1464              		@ frame_needed = 1, uses_anonymous_args = 0
 1465              		@ link register save eliminated.
 1466 0000 80B4     		push	{r7}
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 43


 1467              	.LCFI89:
 1468              		.cfi_def_cfa_offset 4
 1469              		.cfi_offset 7, -4
 1470 0002 83B0     		sub	sp, sp, #12
 1471              	.LCFI90:
 1472              		.cfi_def_cfa_offset 16
 1473 0004 00AF     		add	r7, sp, #0
 1474              	.LCFI91:
 1475              		.cfi_def_cfa_register 7
 1476 0006 7860     		str	r0, [r7, #4]
 1477 0008 0B46     		mov	r3, r1
 1478 000a FB70     		strb	r3, [r7, #3]
 924:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 925:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 926:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 927:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1479              		.loc 1 927 6
 1480 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1481 000e 002B     		cmp	r3, #0
 1482 0010 08D0     		beq	.L62
 928:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 929:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI CRC calculation */
 930:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_CR1_CRCEN;
 1483              		.loc 1 930 15
 1484 0012 7B68     		ldr	r3, [r7, #4]
 1485 0014 1B88     		ldrh	r3, [r3]	@ movhi
 1486 0016 9BB2     		uxth	r3, r3
 1487 0018 43F40053 		orr	r3, r3, #8192
 1488 001c 9AB2     		uxth	r2, r3
 1489 001e 7B68     		ldr	r3, [r7, #4]
 1490 0020 1A80     		strh	r2, [r3]	@ movhi
 931:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 932:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 933:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 934:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI CRC calculation */
 935:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_CRCEN);
 936:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 937:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1491              		.loc 1 937 1
 1492 0022 07E0     		b	.L64
 1493              	.L62:
 935:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1494              		.loc 1 935 15
 1495 0024 7B68     		ldr	r3, [r7, #4]
 1496 0026 1B88     		ldrh	r3, [r3]	@ movhi
 1497 0028 9BB2     		uxth	r3, r3
 1498 002a 23F40053 		bic	r3, r3, #8192
 1499 002e 9AB2     		uxth	r2, r3
 1500 0030 7B68     		ldr	r3, [r7, #4]
 1501 0032 1A80     		strh	r2, [r3]	@ movhi
 1502              	.L64:
 1503              		.loc 1 937 1
 1504 0034 00BF     		nop
 1505 0036 0C37     		adds	r7, r7, #12
 1506              	.LCFI92:
 1507              		.cfi_def_cfa_offset 4
 1508 0038 BD46     		mov	sp, r7
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 44


 1509              	.LCFI93:
 1510              		.cfi_def_cfa_register 13
 1511              		@ sp needed
 1512 003a 5DF8047B 		ldr	r7, [sp], #4
 1513              	.LCFI94:
 1514              		.cfi_restore 7
 1515              		.cfi_def_cfa_offset 0
 1516 003e 7047     		bx	lr
 1517              		.cfi_endproc
 1518              	.LFE145:
 1520              		.section	.text.SPI_TransmitCRC,"ax",%progbits
 1521              		.align	1
 1522              		.global	SPI_TransmitCRC
 1523              		.syntax unified
 1524              		.thumb
 1525              		.thumb_func
 1527              	SPI_TransmitCRC:
 1528              	.LFB146:
 938:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 939:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 940:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Transmit the SPIx CRC value.
 941:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 942:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 943:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 944:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_TransmitCRC(SPI_TypeDef* SPIx)
 945:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1529              		.loc 1 945 1
 1530              		.cfi_startproc
 1531              		@ args = 0, pretend = 0, frame = 8
 1532              		@ frame_needed = 1, uses_anonymous_args = 0
 1533              		@ link register save eliminated.
 1534 0000 80B4     		push	{r7}
 1535              	.LCFI95:
 1536              		.cfi_def_cfa_offset 4
 1537              		.cfi_offset 7, -4
 1538 0002 83B0     		sub	sp, sp, #12
 1539              	.LCFI96:
 1540              		.cfi_def_cfa_offset 16
 1541 0004 00AF     		add	r7, sp, #0
 1542              	.LCFI97:
 1543              		.cfi_def_cfa_register 7
 1544 0006 7860     		str	r0, [r7, #4]
 946:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 947:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 948:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 949:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Enable the selected SPI CRC transmission */
 950:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 |= SPI_CR1_CRCNEXT;
 1545              		.loc 1 950 13
 1546 0008 7B68     		ldr	r3, [r7, #4]
 1547 000a 1B88     		ldrh	r3, [r3]	@ movhi
 1548 000c 9BB2     		uxth	r3, r3
 1549 000e 43F48053 		orr	r3, r3, #4096
 1550 0012 9AB2     		uxth	r2, r3
 1551 0014 7B68     		ldr	r3, [r7, #4]
 1552 0016 1A80     		strh	r2, [r3]	@ movhi
 951:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1553              		.loc 1 951 1
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 45


 1554 0018 00BF     		nop
 1555 001a 0C37     		adds	r7, r7, #12
 1556              	.LCFI98:
 1557              		.cfi_def_cfa_offset 4
 1558 001c BD46     		mov	sp, r7
 1559              	.LCFI99:
 1560              		.cfi_def_cfa_register 13
 1561              		@ sp needed
 1562 001e 5DF8047B 		ldr	r7, [sp], #4
 1563              	.LCFI100:
 1564              		.cfi_restore 7
 1565              		.cfi_def_cfa_offset 0
 1566 0022 7047     		bx	lr
 1567              		.cfi_endproc
 1568              	.LFE146:
 1570              		.section	.text.SPI_GetCRC,"ax",%progbits
 1571              		.align	1
 1572              		.global	SPI_GetCRC
 1573              		.syntax unified
 1574              		.thumb
 1575              		.thumb_func
 1577              	SPI_GetCRC:
 1578              	.LFB147:
 952:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 953:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 954:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the transmit or the receive CRC register value for the specified SPI.
 955:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 956:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_CRC: specifies the CRC register to be read.
 957:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 958:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_CRC_Tx: Selects Tx CRC register
 959:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_CRC_Rx: Selects Rx CRC register
 960:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The selected CRC register value..
 961:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 962:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_GetCRC(SPI_TypeDef* SPIx, uint8_t SPI_CRC)
 963:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1579              		.loc 1 963 1
 1580              		.cfi_startproc
 1581              		@ args = 0, pretend = 0, frame = 16
 1582              		@ frame_needed = 1, uses_anonymous_args = 0
 1583              		@ link register save eliminated.
 1584 0000 80B4     		push	{r7}
 1585              	.LCFI101:
 1586              		.cfi_def_cfa_offset 4
 1587              		.cfi_offset 7, -4
 1588 0002 85B0     		sub	sp, sp, #20
 1589              	.LCFI102:
 1590              		.cfi_def_cfa_offset 24
 1591 0004 00AF     		add	r7, sp, #0
 1592              	.LCFI103:
 1593              		.cfi_def_cfa_register 7
 1594 0006 7860     		str	r0, [r7, #4]
 1595 0008 0B46     		mov	r3, r1
 1596 000a FB70     		strb	r3, [r7, #3]
 964:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t crcreg = 0;
 1597              		.loc 1 964 12
 1598 000c 0023     		movs	r3, #0
 1599 000e FB81     		strh	r3, [r7, #14]	@ movhi
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 46


 965:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 966:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 967:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CRC(SPI_CRC));
 968:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_CRC != SPI_CRC_Rx)
 1600              		.loc 1 968 6
 1601 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1602 0012 012B     		cmp	r3, #1
 1603 0014 03D0     		beq	.L67
 969:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 970:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Tx CRC register */
 971:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     crcreg = SPIx->TXCRCR;
 1604              		.loc 1 971 12
 1605 0016 7B68     		ldr	r3, [r7, #4]
 1606 0018 1B8B     		ldrh	r3, [r3, #24]	@ movhi
 1607 001a FB81     		strh	r3, [r7, #14]	@ movhi
 1608 001c 02E0     		b	.L68
 1609              	.L67:
 972:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 973:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 974:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 975:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Rx CRC register */
 976:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     crcreg = SPIx->RXCRCR;
 1610              		.loc 1 976 12
 1611 001e 7B68     		ldr	r3, [r7, #4]
 1612 0020 9B8A     		ldrh	r3, [r3, #20]	@ movhi
 1613 0022 FB81     		strh	r3, [r7, #14]	@ movhi
 1614              	.L68:
 977:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 978:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the selected CRC register */
 979:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return crcreg;
 1615              		.loc 1 979 10
 1616 0024 FB89     		ldrh	r3, [r7, #14]
 980:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1617              		.loc 1 980 1
 1618 0026 1846     		mov	r0, r3
 1619 0028 1437     		adds	r7, r7, #20
 1620              	.LCFI104:
 1621              		.cfi_def_cfa_offset 4
 1622 002a BD46     		mov	sp, r7
 1623              	.LCFI105:
 1624              		.cfi_def_cfa_register 13
 1625              		@ sp needed
 1626 002c 5DF8047B 		ldr	r7, [sp], #4
 1627              	.LCFI106:
 1628              		.cfi_restore 7
 1629              		.cfi_def_cfa_offset 0
 1630 0030 7047     		bx	lr
 1631              		.cfi_endproc
 1632              	.LFE147:
 1634              		.section	.text.SPI_GetCRCPolynomial,"ax",%progbits
 1635              		.align	1
 1636              		.global	SPI_GetCRCPolynomial
 1637              		.syntax unified
 1638              		.thumb
 1639              		.thumb_func
 1641              	SPI_GetCRCPolynomial:
 1642              	.LFB148:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 47


 981:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 982:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 983:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the CRC Polynomial register value for the specified SPI.
 984:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2, 3, 4, 5 or 6 to select the SPI peripheral.
 985:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The CRC Polynomial register value.
 986:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 987:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_GetCRCPolynomial(SPI_TypeDef* SPIx)
 988:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1643              		.loc 1 988 1
 1644              		.cfi_startproc
 1645              		@ args = 0, pretend = 0, frame = 8
 1646              		@ frame_needed = 1, uses_anonymous_args = 0
 1647              		@ link register save eliminated.
 1648 0000 80B4     		push	{r7}
 1649              	.LCFI107:
 1650              		.cfi_def_cfa_offset 4
 1651              		.cfi_offset 7, -4
 1652 0002 83B0     		sub	sp, sp, #12
 1653              	.LCFI108:
 1654              		.cfi_def_cfa_offset 16
 1655 0004 00AF     		add	r7, sp, #0
 1656              	.LCFI109:
 1657              		.cfi_def_cfa_register 7
 1658 0006 7860     		str	r0, [r7, #4]
 989:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 990:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 991:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 992:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the CRC polynomial register */
 993:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return SPIx->CRCPR;
 1659              		.loc 1 993 14
 1660 0008 7B68     		ldr	r3, [r7, #4]
 1661 000a 1B8A     		ldrh	r3, [r3, #16]	@ movhi
 1662 000c 9BB2     		uxth	r3, r3
 994:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1663              		.loc 1 994 1
 1664 000e 1846     		mov	r0, r3
 1665 0010 0C37     		adds	r7, r7, #12
 1666              	.LCFI110:
 1667              		.cfi_def_cfa_offset 4
 1668 0012 BD46     		mov	sp, r7
 1669              	.LCFI111:
 1670              		.cfi_def_cfa_register 13
 1671              		@ sp needed
 1672 0014 5DF8047B 		ldr	r7, [sp], #4
 1673              	.LCFI112:
 1674              		.cfi_restore 7
 1675              		.cfi_def_cfa_offset 0
 1676 0018 7047     		bx	lr
 1677              		.cfi_endproc
 1678              	.LFE148:
 1680              		.section	.text.SPI_I2S_DMACmd,"ax",%progbits
 1681              		.align	1
 1682              		.global	SPI_I2S_DMACmd
 1683              		.syntax unified
 1684              		.thumb
 1685              		.thumb_func
 1687              	SPI_I2S_DMACmd:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 48


 1688              	.LFB149:
 995:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 996:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 997:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 998:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 999:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1000:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group4 DMA transfers management functions
1001:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   DMA transfers management functions
1002:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
1003:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
1004:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
1005:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                    ##### DMA transfers management functions #####
1006:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
1007:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1008:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
1009:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
1010:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1011:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1012:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1013:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
1014:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1015:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1016:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_DMAReq: specifies the SPI DMA transfer request to be enabled or disabled. 
1017:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be any combination of the following values:
1018:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_DMAReq_Tx: Tx buffer DMA transfer request
1019:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_DMAReq_Rx: Rx buffer DMA transfer request
1020:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the selected SPI DMA transfer request.
1021:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
1022:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1023:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1024:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState)
1025:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1689              		.loc 1 1025 1
 1690              		.cfi_startproc
 1691              		@ args = 0, pretend = 0, frame = 8
 1692              		@ frame_needed = 1, uses_anonymous_args = 0
 1693              		@ link register save eliminated.
 1694 0000 80B4     		push	{r7}
 1695              	.LCFI113:
 1696              		.cfi_def_cfa_offset 4
 1697              		.cfi_offset 7, -4
 1698 0002 83B0     		sub	sp, sp, #12
 1699              	.LCFI114:
 1700              		.cfi_def_cfa_offset 16
 1701 0004 00AF     		add	r7, sp, #0
 1702              	.LCFI115:
 1703              		.cfi_def_cfa_register 7
 1704 0006 7860     		str	r0, [r7, #4]
 1705 0008 0B46     		mov	r3, r1
 1706 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 1707 000c 1346     		mov	r3, r2
 1708 000e 7B70     		strb	r3, [r7, #1]
1026:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1027:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
1028:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1029:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_DMAREQ(SPI_I2S_DMAReq));
1030:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 49


1031:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1709              		.loc 1 1031 6
 1710 0010 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 1711 0012 002B     		cmp	r3, #0
 1712 0014 08D0     		beq	.L73
1032:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1033:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI DMA requests */
1034:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= SPI_I2S_DMAReq;
 1713              		.loc 1 1034 15
 1714 0016 7B68     		ldr	r3, [r7, #4]
 1715 0018 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1716 001a 9AB2     		uxth	r2, r3
 1717 001c 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1718 001e 1343     		orrs	r3, r3, r2
 1719 0020 9AB2     		uxth	r2, r3
 1720 0022 7B68     		ldr	r3, [r7, #4]
 1721 0024 9A80     		strh	r2, [r3, #4]	@ movhi
1035:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1036:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1037:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1038:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI DMA requests */
1039:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_I2S_DMAReq;
1040:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1041:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1722              		.loc 1 1041 1
 1723 0026 09E0     		b	.L75
 1724              	.L73:
1039:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1725              		.loc 1 1039 15
 1726 0028 7B68     		ldr	r3, [r7, #4]
 1727 002a 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1728 002c 9AB2     		uxth	r2, r3
1039:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1729              		.loc 1 1039 18
 1730 002e 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1731 0030 DB43     		mvns	r3, r3
 1732 0032 9BB2     		uxth	r3, r3
1039:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1733              		.loc 1 1039 15
 1734 0034 1340     		ands	r3, r3, r2
 1735 0036 9AB2     		uxth	r2, r3
 1736 0038 7B68     		ldr	r3, [r7, #4]
 1737 003a 9A80     		strh	r2, [r3, #4]	@ movhi
 1738              	.L75:
 1739              		.loc 1 1041 1
 1740 003c 00BF     		nop
 1741 003e 0C37     		adds	r7, r7, #12
 1742              	.LCFI116:
 1743              		.cfi_def_cfa_offset 4
 1744 0040 BD46     		mov	sp, r7
 1745              	.LCFI117:
 1746              		.cfi_def_cfa_register 13
 1747              		@ sp needed
 1748 0042 5DF8047B 		ldr	r7, [sp], #4
 1749              	.LCFI118:
 1750              		.cfi_restore 7
 1751              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 50


 1752 0046 7047     		bx	lr
 1753              		.cfi_endproc
 1754              	.LFE149:
 1756              		.section	.text.SPI_I2S_ITConfig,"ax",%progbits
 1757              		.align	1
 1758              		.global	SPI_I2S_ITConfig
 1759              		.syntax unified
 1760              		.thumb
 1761              		.thumb_func
 1763              	SPI_I2S_ITConfig:
 1764              	.LFB150:
1042:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1043:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1044:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
1045:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1046:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1047:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group5 Interrupts and flags management functions
1048:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Interrupts and flags management functions
1049:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
1050:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
1051:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
1052:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             ##### Interrupts and flags management functions #####
1053:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
1054:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
1055:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] This section provides a set of functions allowing to configure the SPI Interrupts 
1056:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       sources and check or clear the flags or pending bits status.
1057:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       The user should identify which mode will be used in his application to manage 
1058:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       the communication: Polling mode, Interrupt mode or DMA mode. 
1059:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
1060:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *** Polling Mode ***
1061:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ====================
1062:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** [..] In Polling Mode, the SPI/I2S communication can be managed by 9 flags:
1063:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_I2S_FLAG_TXE : to indicate the status of the transmit buffer register
1064:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_I2S_FLAG_RXNE : to indicate the status of the receive buffer register
1065:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_I2S_FLAG_BSY : to indicate the state of the communication layer of the SPI.
1066:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_FLAG_CRCERR : to indicate if a CRC Calculation error occur              
1067:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_FLAG_MODF : to indicate if a Mode Fault error occur
1068:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) SPI_I2S_FLAG_OVR : to indicate if an Overrun error occur
1069:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) I2S_FLAG_TIFRFE: to indicate a Frame Format error occurs.
1070:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) I2S_FLAG_UDR: to indicate an Underrun error occurs.
1071:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (#) I2S_FLAG_CHSIDE: to indicate Channel Side.
1072:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1073:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (@) Do not use the BSY flag to handle each data transmission or reception. It is
1074:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       better to use the TXE and RXNE flags instead.
1075:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1076:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In this Mode it is advised to use the following functions:
1077:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
1078:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
1079:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1080:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *** Interrupt Mode ***
1081:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ======================
1082:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In Interrupt Mode, the SPI communication can be managed by 3 interrupt sources
1083:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       and 7 pending bits: 
1084:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) Pending Bits:
1085:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_TXE : to indicate the status of the transmit buffer register
1086:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_RXNE : to indicate the status of the receive buffer register
1087:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_IT_CRCERR : to indicate if a CRC Calculation error occur (available in SPI mode onl
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 51


1088:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_IT_MODF : to indicate if a Mode Fault error occur (available in SPI mode only)
1089:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_OVR : to indicate if an Overrun error occur
1090:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) I2S_IT_UDR : to indicate an Underrun Error occurs (available in I2S mode only).
1091:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) I2S_FLAG_TIFRFE : to indicate a Frame Format error occurs (available in TI mode only).
1092:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1093:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) Interrupt Source:
1094:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_TXE: specifies the interrupt source for the Tx buffer empty 
1095:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             interrupt.  
1096:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_RXNE : specifies the interrupt source for the Rx buffer not 
1097:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****             empty interrupt.
1098:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        (##) SPI_I2S_IT_ERR : specifies the interrupt source for the errors interrupt.
1099:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1100:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In this Mode it is advised to use the following functions:
1101:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState);
1102:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);
1103:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);
1104:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1105:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *** DMA Mode ***
1106:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ================
1107:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In DMA Mode, the SPI communication can be managed by 2 DMA Channel requests:
1108:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) SPI_I2S_DMAReq_Tx: specifies the Tx buffer DMA transfer request
1109:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (#) SPI_I2S_DMAReq_Rx: specifies the Rx buffer DMA transfer request
1110:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1111:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  [..] In this Mode it is advised to use the following function:
1112:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    (+) void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState 
1113:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        NewState);
1114:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1115:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
1116:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
1117:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1118:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1119:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1120:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI/I2S interrupts.
1121:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1122:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1123:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt source to be enabled or disabled. 
1124:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1125:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TXE: Tx buffer empty interrupt mask
1126:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_RXNE: Rx buffer not empty interrupt mask
1127:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_ERR: Error interrupt mask
1128:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the specified SPI interrupt.
1129:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
1130:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1131:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1132:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState)
1133:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1765              		.loc 1 1133 1
 1766              		.cfi_startproc
 1767              		@ args = 0, pretend = 0, frame = 16
 1768              		@ frame_needed = 1, uses_anonymous_args = 0
 1769              		@ link register save eliminated.
 1770 0000 80B4     		push	{r7}
 1771              	.LCFI119:
 1772              		.cfi_def_cfa_offset 4
 1773              		.cfi_offset 7, -4
 1774 0002 85B0     		sub	sp, sp, #20
 1775              	.LCFI120:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 52


 1776              		.cfi_def_cfa_offset 24
 1777 0004 00AF     		add	r7, sp, #0
 1778              	.LCFI121:
 1779              		.cfi_def_cfa_register 7
 1780 0006 7860     		str	r0, [r7, #4]
 1781 0008 0B46     		mov	r3, r1
 1782 000a FB70     		strb	r3, [r7, #3]
 1783 000c 1346     		mov	r3, r2
 1784 000e BB70     		strb	r3, [r7, #2]
1134:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0, itmask = 0 ;
 1785              		.loc 1 1134 12
 1786 0010 0023     		movs	r3, #0
 1787 0012 FB81     		strh	r3, [r7, #14]	@ movhi
 1788              		.loc 1 1134 23
 1789 0014 0023     		movs	r3, #0
 1790 0016 BB81     		strh	r3, [r7, #12]	@ movhi
1135:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
1136:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1137:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
1138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1139:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CONFIG_IT(SPI_I2S_IT));
1140:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1141:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI IT index */
1142:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = SPI_I2S_IT >> 4;
 1791              		.loc 1 1142 9
 1792 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1793 001a 1B09     		lsrs	r3, r3, #4
 1794 001c DBB2     		uxtb	r3, r3
 1795 001e FB81     		strh	r3, [r7, #14]	@ movhi
1143:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1144:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set the IT mask */
1145:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = (uint16_t)1 << (uint16_t)itpos;
 1796              		.loc 1 1145 27
 1797 0020 FB89     		ldrh	r3, [r7, #14]
 1798              		.loc 1 1145 24
 1799 0022 0122     		movs	r2, #1
 1800 0024 02FA03F3 		lsl	r3, r2, r3
 1801              		.loc 1 1145 10
 1802 0028 BB81     		strh	r3, [r7, #12]	@ movhi
1146:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1147:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1803              		.loc 1 1147 6
 1804 002a BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 1805 002c 002B     		cmp	r3, #0
 1806 002e 08D0     		beq	.L77
1148:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1149:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI interrupt */
1150:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= itmask;
 1807              		.loc 1 1150 15
 1808 0030 7B68     		ldr	r3, [r7, #4]
 1809 0032 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1810 0034 9AB2     		uxth	r2, r3
 1811 0036 BB89     		ldrh	r3, [r7, #12]	@ movhi
 1812 0038 1343     		orrs	r3, r3, r2
 1813 003a 9AB2     		uxth	r2, r3
 1814 003c 7B68     		ldr	r3, [r7, #4]
 1815 003e 9A80     		strh	r2, [r3, #4]	@ movhi
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 53


1151:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1152:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1153:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1154:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI interrupt */
1155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~itmask;
1156:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1157:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1816              		.loc 1 1157 1
 1817 0040 09E0     		b	.L79
 1818              	.L77:
1155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1819              		.loc 1 1155 15
 1820 0042 7B68     		ldr	r3, [r7, #4]
 1821 0044 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1822 0046 9AB2     		uxth	r2, r3
1155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1823              		.loc 1 1155 18
 1824 0048 BB89     		ldrh	r3, [r7, #12]	@ movhi
 1825 004a DB43     		mvns	r3, r3
 1826 004c 9BB2     		uxth	r3, r3
1155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1827              		.loc 1 1155 15
 1828 004e 1340     		ands	r3, r3, r2
 1829 0050 9AB2     		uxth	r2, r3
 1830 0052 7B68     		ldr	r3, [r7, #4]
 1831 0054 9A80     		strh	r2, [r3, #4]	@ movhi
 1832              	.L79:
 1833              		.loc 1 1157 1
 1834 0056 00BF     		nop
 1835 0058 1437     		adds	r7, r7, #20
 1836              	.LCFI122:
 1837              		.cfi_def_cfa_offset 4
 1838 005a BD46     		mov	sp, r7
 1839              	.LCFI123:
 1840              		.cfi_def_cfa_register 13
 1841              		@ sp needed
 1842 005c 5DF8047B 		ldr	r7, [sp], #4
 1843              	.LCFI124:
 1844              		.cfi_restore 7
 1845              		.cfi_def_cfa_offset 0
 1846 0060 7047     		bx	lr
 1847              		.cfi_endproc
 1848              	.LFE150:
 1850              		.section	.text.SPI_I2S_GetFlagStatus,"ax",%progbits
 1851              		.align	1
 1852              		.global	SPI_I2S_GetFlagStatus
 1853              		.syntax unified
 1854              		.thumb
 1855              		.thumb_func
 1857              	SPI_I2S_GetFlagStatus:
 1858              	.LFB151:
1158:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1159:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1160:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Checks whether the specified SPIx/I2Sx flag is set or not.
1161:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1162:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1163:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to check. 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 54


1164:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1165:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_TXE: Transmit buffer empty flag.
1166:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_RXNE: Receive buffer not empty flag.
1167:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_BSY: Busy flag.
1168:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_OVR: Overrun flag.
1169:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_MODF: Mode Fault flag.
1170:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_CRCERR: CRC Error flag.
1171:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_TIFRFE: Format Error.
1172:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_FLAG_UDR: Underrun Error flag.
1173:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_FLAG_CHSIDE: Channel Side flag.  
1174:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The new state of SPI_I2S_FLAG (SET or RESET).
1175:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1176:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
1177:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1859              		.loc 1 1177 1
 1860              		.cfi_startproc
 1861              		@ args = 0, pretend = 0, frame = 16
 1862              		@ frame_needed = 1, uses_anonymous_args = 0
 1863              		@ link register save eliminated.
 1864 0000 80B4     		push	{r7}
 1865              	.LCFI125:
 1866              		.cfi_def_cfa_offset 4
 1867              		.cfi_offset 7, -4
 1868 0002 85B0     		sub	sp, sp, #20
 1869              	.LCFI126:
 1870              		.cfi_def_cfa_offset 24
 1871 0004 00AF     		add	r7, sp, #0
 1872              	.LCFI127:
 1873              		.cfi_def_cfa_register 7
 1874 0006 7860     		str	r0, [r7, #4]
 1875 0008 0B46     		mov	r3, r1
 1876 000a 7B80     		strh	r3, [r7, #2]	@ movhi
1178:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   FlagStatus bitstatus = RESET;
 1877              		.loc 1 1178 14
 1878 000c 0023     		movs	r3, #0
 1879 000e FB73     		strb	r3, [r7, #15]
1179:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1180:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
1181:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_GET_FLAG(SPI_I2S_FLAG));
1182:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
1183:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the status of the specified SPI flag */
1184:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((SPIx->SR & SPI_I2S_FLAG) != (uint16_t)RESET)
 1880              		.loc 1 1184 12
 1881 0010 7B68     		ldr	r3, [r7, #4]
 1882 0012 1B89     		ldrh	r3, [r3, #8]	@ movhi
 1883 0014 9AB2     		uxth	r2, r3
 1884              		.loc 1 1184 33
 1885 0016 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1886 0018 1340     		ands	r3, r3, r2
 1887 001a 9BB2     		uxth	r3, r3
 1888              		.loc 1 1184 6
 1889 001c 002B     		cmp	r3, #0
 1890 001e 02D0     		beq	.L81
1185:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1186:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_FLAG is set */
1187:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = SET;
 1891              		.loc 1 1187 15
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 55


 1892 0020 0123     		movs	r3, #1
 1893 0022 FB73     		strb	r3, [r7, #15]
 1894 0024 01E0     		b	.L82
 1895              	.L81:
1188:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1189:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1190:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1191:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_FLAG is reset */
1192:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = RESET;
 1896              		.loc 1 1192 15
 1897 0026 0023     		movs	r3, #0
 1898 0028 FB73     		strb	r3, [r7, #15]
 1899              	.L82:
1193:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1194:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the SPI_I2S_FLAG status */
1195:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return  bitstatus;
 1900              		.loc 1 1195 11
 1901 002a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1196:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1902              		.loc 1 1196 1
 1903 002c 1846     		mov	r0, r3
 1904 002e 1437     		adds	r7, r7, #20
 1905              	.LCFI128:
 1906              		.cfi_def_cfa_offset 4
 1907 0030 BD46     		mov	sp, r7
 1908              	.LCFI129:
 1909              		.cfi_def_cfa_register 13
 1910              		@ sp needed
 1911 0032 5DF8047B 		ldr	r7, [sp], #4
 1912              	.LCFI130:
 1913              		.cfi_restore 7
 1914              		.cfi_def_cfa_offset 0
 1915 0036 7047     		bx	lr
 1916              		.cfi_endproc
 1917              	.LFE151:
 1919              		.section	.text.SPI_I2S_ClearFlag,"ax",%progbits
 1920              		.align	1
 1921              		.global	SPI_I2S_ClearFlag
 1922              		.syntax unified
 1923              		.thumb
 1924              		.thumb_func
 1926              	SPI_I2S_ClearFlag:
 1927              	.LFB152:
1197:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1198:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) flag.
1200:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1202:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to clear. 
1203:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This function clears only CRCERR flag.
1204:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_CRCERR: CRC Error flag.  
1205:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
1206:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   OVR (OverRun error) flag is cleared by software sequence: a read 
1207:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_DR register (SPI_I2S_ReceiveData()) followed by a read 
1208:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetFlagStatus()).
1209:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   UDR (UnderRun error) flag is cleared by a read operation to 
1210:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          SPI_SR register (SPI_I2S_GetFlagStatus()).   
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 56


1211:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   MODF (Mode Fault) flag is cleared by software sequence: a read/write 
1212:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetFlagStatus()) followed by a 
1213:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          write operation to SPI_CR1 register (SPI_Cmd() to enable the SPI).
1214:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
1215:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1216:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1217:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
1218:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1928              		.loc 1 1218 1
 1929              		.cfi_startproc
 1930              		@ args = 0, pretend = 0, frame = 8
 1931              		@ frame_needed = 1, uses_anonymous_args = 0
 1932              		@ link register save eliminated.
 1933 0000 80B4     		push	{r7}
 1934              	.LCFI131:
 1935              		.cfi_def_cfa_offset 4
 1936              		.cfi_offset 7, -4
 1937 0002 83B0     		sub	sp, sp, #12
 1938              	.LCFI132:
 1939              		.cfi_def_cfa_offset 16
 1940 0004 00AF     		add	r7, sp, #0
 1941              	.LCFI133:
 1942              		.cfi_def_cfa_register 7
 1943 0006 7860     		str	r0, [r7, #4]
 1944 0008 0B46     		mov	r3, r1
 1945 000a 7B80     		strh	r3, [r7, #2]	@ movhi
1219:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1220:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
1221:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_FLAG(SPI_I2S_FLAG));
1222:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
1223:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) flag */
1224:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->SR = (uint16_t)~SPI_I2S_FLAG;
 1946              		.loc 1 1224 14
 1947 000c 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1948 000e DB43     		mvns	r3, r3
 1949 0010 9AB2     		uxth	r2, r3
 1950              		.loc 1 1224 12
 1951 0012 7B68     		ldr	r3, [r7, #4]
 1952 0014 1A81     		strh	r2, [r3, #8]	@ movhi
1225:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1953              		.loc 1 1225 1
 1954 0016 00BF     		nop
 1955 0018 0C37     		adds	r7, r7, #12
 1956              	.LCFI134:
 1957              		.cfi_def_cfa_offset 4
 1958 001a BD46     		mov	sp, r7
 1959              	.LCFI135:
 1960              		.cfi_def_cfa_register 13
 1961              		@ sp needed
 1962 001c 5DF8047B 		ldr	r7, [sp], #4
 1963              	.LCFI136:
 1964              		.cfi_restore 7
 1965              		.cfi_def_cfa_offset 0
 1966 0020 7047     		bx	lr
 1967              		.cfi_endproc
 1968              	.LFE152:
 1970              		.section	.text.SPI_I2S_GetITStatus,"ax",%progbits
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 57


 1971              		.align	1
 1972              		.global	SPI_I2S_GetITStatus
 1973              		.syntax unified
 1974              		.thumb
 1975              		.thumb_func
 1977              	SPI_I2S_GetITStatus:
 1978              	.LFB153:
1226:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1227:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1228:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Checks whether the specified SPIx/I2Sx interrupt has occurred or not.
1229:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1230:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.  
1231:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt source to check. 
1232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1233:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TXE: Transmit buffer empty interrupt.
1234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_RXNE: Receive buffer not empty interrupt.
1235:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_OVR: Overrun interrupt.
1236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_MODF: Mode Fault interrupt.
1237:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_CRCERR: CRC Error interrupt.
1238:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_IT_UDR: Underrun interrupt.  
1239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TIFRFE: Format Error interrupt.  
1240:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The new state of SPI_I2S_IT (SET or RESET).
1241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1242:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
1243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1979              		.loc 1 1243 1
 1980              		.cfi_startproc
 1981              		@ args = 0, pretend = 0, frame = 16
 1982              		@ frame_needed = 1, uses_anonymous_args = 0
 1983              		@ link register save eliminated.
 1984 0000 80B4     		push	{r7}
 1985              	.LCFI137:
 1986              		.cfi_def_cfa_offset 4
 1987              		.cfi_offset 7, -4
 1988 0002 85B0     		sub	sp, sp, #20
 1989              	.LCFI138:
 1990              		.cfi_def_cfa_offset 24
 1991 0004 00AF     		add	r7, sp, #0
 1992              	.LCFI139:
 1993              		.cfi_def_cfa_register 7
 1994 0006 7860     		str	r0, [r7, #4]
 1995 0008 0B46     		mov	r3, r1
 1996 000a FB70     		strb	r3, [r7, #3]
1244:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ITStatus bitstatus = RESET;
 1997              		.loc 1 1244 12
 1998 000c 0023     		movs	r3, #0
 1999 000e FB73     		strb	r3, [r7, #15]
1245:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0, itmask = 0, enablestatus = 0;
 2000              		.loc 1 1245 12
 2001 0010 0023     		movs	r3, #0
 2002 0012 BB81     		strh	r3, [r7, #12]	@ movhi
 2003              		.loc 1 1245 23
 2004 0014 0023     		movs	r3, #0
 2005 0016 7B81     		strh	r3, [r7, #10]	@ movhi
 2006              		.loc 1 1245 35
 2007 0018 0023     		movs	r3, #0
 2008 001a 3B81     		strh	r3, [r7, #8]	@ movhi
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 58


1246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1247:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
1249:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_GET_IT(SPI_I2S_IT));
1250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1251:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT index */
1252:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 2009              		.loc 1 1252 31
 2010 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2011 001e 03F00F03 		and	r3, r3, #15
 2012              		.loc 1 1252 16
 2013 0022 0122     		movs	r2, #1
 2014 0024 02FA03F3 		lsl	r3, r2, r3
 2015              		.loc 1 1252 9
 2016 0028 BB81     		strh	r3, [r7, #12]	@ movhi
1253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1254:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT IT mask */
1255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = SPI_I2S_IT >> 4;
 2017              		.loc 1 1255 10
 2018 002a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2019 002c 1B09     		lsrs	r3, r3, #4
 2020 002e DBB2     		uxtb	r3, r3
 2021 0030 7B81     		strh	r3, [r7, #10]	@ movhi
1256:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set the IT mask */
1258:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = 0x01 << itmask;
 2022              		.loc 1 1258 17
 2023 0032 7B89     		ldrh	r3, [r7, #10]
 2024 0034 0122     		movs	r2, #1
 2025 0036 02FA03F3 		lsl	r3, r2, r3
 2026              		.loc 1 1258 10
 2027 003a 7B81     		strh	r3, [r7, #10]	@ movhi
1259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT enable bit status */
1261:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   enablestatus = (SPIx->CR2 & itmask) ;
 2028              		.loc 1 1261 23
 2029 003c 7B68     		ldr	r3, [r7, #4]
 2030 003e 9B88     		ldrh	r3, [r3, #4]	@ movhi
 2031 0040 9AB2     		uxth	r2, r3
 2032              		.loc 1 1261 16
 2033 0042 7B89     		ldrh	r3, [r7, #10]	@ movhi
 2034 0044 1340     		ands	r3, r3, r2
 2035 0046 3B81     		strh	r3, [r7, #8]	@ movhi
1262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1263:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the status of the specified SPI interrupt */
1264:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (((SPIx->SR & itpos) != (uint16_t)RESET) && enablestatus)
 2036              		.loc 1 1264 13
 2037 0048 7B68     		ldr	r3, [r7, #4]
 2038 004a 1B89     		ldrh	r3, [r3, #8]	@ movhi
 2039 004c 9AB2     		uxth	r2, r3
 2040              		.loc 1 1264 27
 2041 004e BB89     		ldrh	r3, [r7, #12]	@ movhi
 2042 0050 1340     		ands	r3, r3, r2
 2043 0052 9BB2     		uxth	r3, r3
 2044              		.loc 1 1264 6
 2045 0054 002B     		cmp	r3, #0
 2046 0056 05D0     		beq	.L86
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 59


 2047              		.loc 1 1264 47 discriminator 1
 2048 0058 3B89     		ldrh	r3, [r7, #8]
 2049 005a 002B     		cmp	r3, #0
 2050 005c 02D0     		beq	.L86
1265:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_IT is set */
1267:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = SET;
 2051              		.loc 1 1267 15
 2052 005e 0123     		movs	r3, #1
 2053 0060 FB73     		strb	r3, [r7, #15]
 2054 0062 01E0     		b	.L87
 2055              	.L86:
1268:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1270:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_IT is reset */
1272:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = RESET;
 2056              		.loc 1 1272 15
 2057 0064 0023     		movs	r3, #0
 2058 0066 FB73     		strb	r3, [r7, #15]
 2059              	.L87:
1273:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1274:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the SPI_I2S_IT status */
1275:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return bitstatus;
 2060              		.loc 1 1275 10
 2061 0068 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1276:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 2062              		.loc 1 1276 1
 2063 006a 1846     		mov	r0, r3
 2064 006c 1437     		adds	r7, r7, #20
 2065              	.LCFI140:
 2066              		.cfi_def_cfa_offset 4
 2067 006e BD46     		mov	sp, r7
 2068              	.LCFI141:
 2069              		.cfi_def_cfa_register 13
 2070              		@ sp needed
 2071 0070 5DF8047B 		ldr	r7, [sp], #4
 2072              	.LCFI142:
 2073              		.cfi_restore 7
 2074              		.cfi_def_cfa_offset 0
 2075 0074 7047     		bx	lr
 2076              		.cfi_endproc
 2077              	.LFE153:
 2079              		.section	.text.SPI_I2S_ClearITPendingBit,"ax",%progbits
 2080              		.align	1
 2081              		.global	SPI_I2S_ClearITPendingBit
 2082              		.syntax unified
 2083              		.thumb
 2084              		.thumb_func
 2086              	SPI_I2S_ClearITPendingBit:
 2087              	.LFB154:
1277:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1278:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1279:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) interrupt pending bit.
1280:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2, 3, 4, 5 or 6 
1281:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.  
1282:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt pending bit to clear.
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 60


1283:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         This function clears only CRCERR interrupt pending bit.   
1284:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_CRCERR: CRC Error interrupt.
1285:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *   
1286:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   OVR (OverRun Error) interrupt pending bit is cleared by software 
1287:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          sequence: a read operation to SPI_DR register (SPI_I2S_ReceiveData()) 
1288:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          followed by a read operation to SPI_SR register (SPI_I2S_GetITStatus()).
1289:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   UDR (UnderRun Error) interrupt pending bit is cleared by a read 
1290:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetITStatus()).   
1291:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   MODF (Mode Fault) interrupt pending bit is cleared by software sequence:
1292:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          a read/write operation to SPI_SR register (SPI_I2S_GetITStatus()) 
1293:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          followed by a write operation to SPI_CR1 register (SPI_Cmd() to enable 
1294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          the SPI).
1295:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1296:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1297:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
1298:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 2088              		.loc 1 1298 1
 2089              		.cfi_startproc
 2090              		@ args = 0, pretend = 0, frame = 16
 2091              		@ frame_needed = 1, uses_anonymous_args = 0
 2092              		@ link register save eliminated.
 2093 0000 80B4     		push	{r7}
 2094              	.LCFI143:
 2095              		.cfi_def_cfa_offset 4
 2096              		.cfi_offset 7, -4
 2097 0002 85B0     		sub	sp, sp, #20
 2098              	.LCFI144:
 2099              		.cfi_def_cfa_offset 24
 2100 0004 00AF     		add	r7, sp, #0
 2101              	.LCFI145:
 2102              		.cfi_def_cfa_register 7
 2103 0006 7860     		str	r0, [r7, #4]
 2104 0008 0B46     		mov	r3, r1
 2105 000a FB70     		strb	r3, [r7, #3]
1299:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0;
 2106              		.loc 1 1299 12
 2107 000c 0023     		movs	r3, #0
 2108 000e FB81     		strh	r3, [r7, #14]	@ movhi
1300:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1301:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
1302:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_IT(SPI_I2S_IT));
1303:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1304:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S IT index */
1305:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 2109              		.loc 1 1305 31
 2110 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2111 0012 03F00F03 		and	r3, r3, #15
 2112              		.loc 1 1305 16
 2113 0016 0122     		movs	r2, #1
 2114 0018 02FA03F3 		lsl	r3, r2, r3
 2115              		.loc 1 1305 9
 2116 001c FB81     		strh	r3, [r7, #14]	@ movhi
1306:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1307:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) interrupt pending bit */
1308:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->SR = (uint16_t)~itpos;
 2117              		.loc 1 1308 14
 2118 001e FB89     		ldrh	r3, [r7, #14]	@ movhi
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 61


 2119 0020 DB43     		mvns	r3, r3
 2120 0022 9AB2     		uxth	r2, r3
 2121              		.loc 1 1308 12
 2122 0024 7B68     		ldr	r3, [r7, #4]
 2123 0026 1A81     		strh	r2, [r3, #8]	@ movhi
1309:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 2124              		.loc 1 1309 1
 2125 0028 00BF     		nop
 2126 002a 1437     		adds	r7, r7, #20
 2127              	.LCFI146:
 2128              		.cfi_def_cfa_offset 4
 2129 002c BD46     		mov	sp, r7
 2130              	.LCFI147:
 2131              		.cfi_def_cfa_register 13
 2132              		@ sp needed
 2133 002e 5DF8047B 		ldr	r7, [sp], #4
 2134              	.LCFI148:
 2135              		.cfi_restore 7
 2136              		.cfi_def_cfa_offset 0
 2137 0032 7047     		bx	lr
 2138              		.cfi_endproc
 2139              	.LFE154:
 2141              		.text
 2142              	.Letext0:
 2143              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2144              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2145              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 2146              		.file 5 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_spi.h"
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 62


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4xx_spi.c
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:20     .text.SPI_I2S_DeInit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:26     .text.SPI_I2S_DeInit:00000000 SPI_I2S_DeInit
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:152    .text.SPI_I2S_DeInit:000000c4 $d
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:162    .text.SPI_Init:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:168    .text.SPI_Init:00000000 SPI_Init
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:283    .text.I2S_Init:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:289    .text.I2S_Init:00000000 I2S_Init
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:607    .text.I2S_Init:000001c4 $d
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:615    .text.SPI_StructInit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:621    .text.SPI_StructInit:00000000 SPI_StructInit
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:693    .text.I2S_StructInit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:699    .text.I2S_StructInit:00000000 I2S_StructInit
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:759    .text.SPI_Cmd:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:765    .text.SPI_Cmd:00000000 SPI_Cmd
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:827    .text.I2S_Cmd:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:833    .text.I2S_Cmd:00000000 I2S_Cmd
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:895    .text.SPI_DataSizeConfig:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:901    .text.SPI_DataSizeConfig:00000000 SPI_DataSizeConfig
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:956    .text.SPI_BiDirectionalLineConfig:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:962    .text.SPI_BiDirectionalLineConfig:00000000 SPI_BiDirectionalLineConfig
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1024   .text.SPI_NSSInternalSoftwareConfig:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1030   .text.SPI_NSSInternalSoftwareConfig:00000000 SPI_NSSInternalSoftwareConfig
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1093   .text.SPI_SSOutputCmd:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1099   .text.SPI_SSOutputCmd:00000000 SPI_SSOutputCmd
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1161   .text.SPI_TIModeCmd:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1167   .text.SPI_TIModeCmd:00000000 SPI_TIModeCmd
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1229   .text.I2S_FullDuplexConfig:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1235   .text.I2S_FullDuplexConfig:00000000 I2S_FullDuplexConfig
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1359   .text.SPI_I2S_ReceiveData:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1365   .text.SPI_I2S_ReceiveData:00000000 SPI_I2S_ReceiveData
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1405   .text.SPI_I2S_SendData:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1411   .text.SPI_I2S_SendData:00000000 SPI_I2S_SendData
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1453   .text.SPI_CalculateCRC:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1459   .text.SPI_CalculateCRC:00000000 SPI_CalculateCRC
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1521   .text.SPI_TransmitCRC:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1527   .text.SPI_TransmitCRC:00000000 SPI_TransmitCRC
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1571   .text.SPI_GetCRC:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1577   .text.SPI_GetCRC:00000000 SPI_GetCRC
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1635   .text.SPI_GetCRCPolynomial:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1641   .text.SPI_GetCRCPolynomial:00000000 SPI_GetCRCPolynomial
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1681   .text.SPI_I2S_DMACmd:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1687   .text.SPI_I2S_DMACmd:00000000 SPI_I2S_DMACmd
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1757   .text.SPI_I2S_ITConfig:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1763   .text.SPI_I2S_ITConfig:00000000 SPI_I2S_ITConfig
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1851   .text.SPI_I2S_GetFlagStatus:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1857   .text.SPI_I2S_GetFlagStatus:00000000 SPI_I2S_GetFlagStatus
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1920   .text.SPI_I2S_ClearFlag:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1926   .text.SPI_I2S_ClearFlag:00000000 SPI_I2S_ClearFlag
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1971   .text.SPI_I2S_GetITStatus:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:1977   .text.SPI_I2S_GetITStatus:00000000 SPI_I2S_GetITStatus
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:2080   .text.SPI_I2S_ClearITPendingBit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s:2086   .text.SPI_I2S_ClearITPendingBit:00000000 SPI_I2S_ClearITPendingBit

UNDEFINED SYMBOLS
RCC_APB2PeriphResetCmd
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccLgEiGf.s 			page 63


RCC_APB1PeriphResetCmd
