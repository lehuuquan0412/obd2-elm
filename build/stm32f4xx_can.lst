ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4xx_can.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.CAN_DeInit,"ax",%progbits
  20              		.align	1
  21              		.global	CAN_DeInit
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	CAN_DeInit:
  27              	.LFB130:
  28              		.file 1 "Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c"
   1:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
   2:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @file    stm32f4xx_can.c
   4:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @version V1.8.0
   6:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @date    04-November-2016
   7:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief   This file provides firmware functions to manage the following 
   8:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          functionalities of the Controller area network (CAN) peripheral:
   9:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *           + Initialization and Configuration 
  10:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *           + CAN Frames Transmission
  11:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *           + CAN Frames Reception
  12:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *           + Operation modes switch
  13:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *           + Error management
  14:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *           + Interrupts and flags
  15:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *
  16:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @verbatim
  17:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================
  18:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                         ##### How to use this driver #####
  19:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================
  20:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..]
  21:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) Enable the CAN controller interface clock using 
  22:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           RCC_APB1PeriphClockCmd(RCC_APB1Periph_CAN1, ENABLE); for CAN1 
  23:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           and RCC_APB1PeriphClockCmd(RCC_APB1Periph_CAN2, ENABLE); for CAN2
  24:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       -@- In case you are using CAN2 only, you have to enable the CAN1 clock.
  25:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        
  26:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) CAN pins configuration
  27:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) Enable the clock for the CAN GPIOs using the following function:
  28:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOx, ENABLE);   
  29:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) Connect the involved CAN pins to AF9 using the following function 
  30:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              GPIO_PinAFConfig(GPIOx, GPIO_PinSourcex, GPIO_AF_CANx); 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 2


  31:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) Configure these CAN pins in alternate function mode by calling
  32:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              the function  GPIO_Init();
  33:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       
  34:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) Initialize and configure the CAN using CAN_Init() and 
  35:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           CAN_FilterInit() functions.   
  36:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                  
  37:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) Transmit the desired CAN frame using CAN_Transmit() function.
  38:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****            
  39:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) Check the transmission of a CAN frame using CAN_TransmitStatus()
  40:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           function.
  41:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                  
  42:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) Cancel the transmission of a CAN frame using CAN_CancelTransmit()
  43:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           function.  
  44:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****               
  45:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) Receive a CAN frame using CAN_Receive() function.
  46:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****            
  47:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) Release the receive FIFOs using CAN_FIFORelease() function.
  48:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                  
  49:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) Return the number of pending received frames using 
  50:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           CAN_MessagePending() function.            
  51:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                      
  52:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) To control CAN events you can use one of the following two methods:
  53:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) Check on CAN flags using the CAN_GetFlagStatus() function.  
  54:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) Use CAN interrupts through the function CAN_ITConfig() at 
  55:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              initialization phase and CAN_GetITStatus() function into 
  56:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              interrupt routines to check if the event has occurred or not.
  57:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              After checking on a flag you should clear it using CAN_ClearFlag()
  58:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              function. And after checking on an interrupt event you should 
  59:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              clear it using CAN_ClearITPendingBit() function.            
  60:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
  61:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @endverbatim
  62:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****            
  63:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   ******************************************************************************
  64:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @attention
  65:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *
  66:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * <h2><center>&copy; COPYRIGHT 2016 STMicroelectronics</center></h2>
  67:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *
  68:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  69:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * You may not use this file except in compliance with the License.
  70:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * You may obtain a copy of the License at:
  71:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *
  72:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  73:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *
  74:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * Unless required by applicable law or agreed to in writing, software 
  75:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  76:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  77:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * See the License for the specific language governing permissions and
  78:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * limitations under the License.
  79:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *
  80:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   ******************************************************************************  
  81:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
  82:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
  83:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Includes ------------------------------------------------------------------*/
  84:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #include "stm32f4xx_can.h"
  85:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #include "stm32f4xx_rcc.h"
  86:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
  87:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @addtogroup STM32F4xx_StdPeriph_Driver
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 3


  88:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
  89:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
  90:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
  91:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @defgroup CAN 
  92:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief CAN driver modules
  93:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
  94:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */ 
  95:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Private typedef -----------------------------------------------------------*/
  96:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Private define ------------------------------------------------------------*/
  97:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
  98:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* CAN Master Control Register bits */
  99:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define MCR_DBF           ((uint32_t)0x00010000) /* software master reset */
 100:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 101:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* CAN Mailbox Transmit Request */
 102:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define TMIDxR_TXRQ       ((uint32_t)0x00000001) /* Transmit mailbox request */
 103:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 104:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* CAN Filter Master Register bits */
 105:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define FMR_FINIT         ((uint32_t)0x00000001) /* Filter init mode */
 106:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 107:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Time out for INAK bit */
 108:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define INAK_TIMEOUT      ((uint32_t)0x0000FFFF)
 109:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Time out for SLAK bit */
 110:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define SLAK_TIMEOUT      ((uint32_t)0x0000FFFF)
 111:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 112:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Flags in TSR register */
 113:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_FLAGS_TSR     ((uint32_t)0x08000000) 
 114:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Flags in RF1R register */
 115:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_FLAGS_RF1R    ((uint32_t)0x04000000) 
 116:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Flags in RF0R register */
 117:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_FLAGS_RF0R    ((uint32_t)0x02000000) 
 118:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Flags in MSR register */
 119:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_FLAGS_MSR     ((uint32_t)0x01000000) 
 120:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Flags in ESR register */
 121:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_FLAGS_ESR     ((uint32_t)0x00F00000) 
 122:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 123:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Mailboxes definition */
 124:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_TXMAILBOX_0   ((uint8_t)0x00)
 125:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_TXMAILBOX_1   ((uint8_t)0x01)
 126:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_TXMAILBOX_2   ((uint8_t)0x02) 
 127:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 128:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #define CAN_MODE_MASK     ((uint32_t) 0x00000003)
 129:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 130:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Private macro -------------------------------------------------------------*/
 131:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Private variables ---------------------------------------------------------*/
 132:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Private function prototypes -----------------------------------------------*/
 133:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /* Private functions ---------------------------------------------------------*/
 134:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit);
 135:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 136:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @defgroup CAN_Private_Functions
 137:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
 138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 139:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 140:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @defgroup CAN_Group1 Initialization and Configuration functions
 141:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *  @brief    Initialization and Configuration functions 
 142:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *
 143:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @verbatim    
 144:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 4


 145:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****               ##### Initialization and Configuration functions #####
 146:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================  
 147:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..] This section provides functions allowing to 
 148:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Initialize the CAN peripherals : Prescaler, operating mode, the maximum 
 149:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           number of time quanta to perform resynchronization, the number of time 
 150:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           quanta in Bit Segment 1 and 2 and many other modes. 
 151:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           Refer to  @ref CAN_InitTypeDef  for more details.
 152:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Configures the CAN reception filter.                                      
 153:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Select the start bank filter for slave CAN.
 154:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Enables or disables the Debug Freeze mode for CAN
 155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+)Enables or disables the CAN Time Trigger Operation communication mode
 156:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    
 157:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @endverbatim
 158:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
 159:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 160:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 161:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 162:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Deinitializes the CAN peripheral registers to their default reset values.
 163:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 164:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 165:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None.
 166:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 167:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_DeInit(CAN_TypeDef* CANx)
 168:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
  29              		.loc 1 168 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 82B0     		sub	sp, sp, #8
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
 169:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 170:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 171:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  
 172:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CANx == CAN1)
  45              		.loc 1 172 6
  46 0008 7B68     		ldr	r3, [r7, #4]
  47 000a 0E4A     		ldr	r2, .L5
  48 000c 9342     		cmp	r3, r2
  49 000e 0AD1     		bne	.L2
 173:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 174:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Enable CAN1 reset state */
 175:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, ENABLE);
  50              		.loc 1 175 5
  51 0010 0121     		movs	r1, #1
  52 0012 4FF00070 		mov	r0, #33554432
  53 0016 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 176:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Release CAN1 from reset state */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 5


 177:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, DISABLE);
  54              		.loc 1 177 5
  55 001a 0021     		movs	r1, #0
  56 001c 4FF00070 		mov	r0, #33554432
  57 0020 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 178:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 179:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #if defined(STM32F413_423xx)
 180:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else if(CANx == CAN2)
 181:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {  
 182:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Enable CAN2 reset state */
 183:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, ENABLE);
 184:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Release CAN2 from reset state */
 185:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, DISABLE);
 186:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 187:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 188:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else /* CAN3 available only for STM32F413_423xx */
 189:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 190:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Enable CAN3 reset state */
 191:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN3, ENABLE);
 192:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Release CAN3 from reset state */
 193:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN3, DISABLE); 
 194:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 195:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #else
 196:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
 197:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 198:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Enable CAN2 reset state */
 199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, ENABLE);
 200:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Release CAN2 from reset state */
 201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, DISABLE);
 202:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 203:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #endif /* STM32F413_423xx */
 204:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
  58              		.loc 1 204 1
  59 0024 09E0     		b	.L4
  60              	.L2:
 199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Release CAN2 from reset state */
  61              		.loc 1 199 5
  62 0026 0121     		movs	r1, #1
  63 0028 4FF08060 		mov	r0, #67108864
  64 002c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
  65              		.loc 1 201 5
  66 0030 0021     		movs	r1, #0
  67 0032 4FF08060 		mov	r0, #67108864
  68 0036 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  69              	.L4:
  70              		.loc 1 204 1
  71 003a 00BF     		nop
  72 003c 0837     		adds	r7, r7, #8
  73              	.LCFI3:
  74              		.cfi_def_cfa_offset 8
  75 003e BD46     		mov	sp, r7
  76              	.LCFI4:
  77              		.cfi_def_cfa_register 13
  78              		@ sp needed
  79 0040 80BD     		pop	{r7, pc}
  80              	.L6:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 6


  81 0042 00BF     		.align	2
  82              	.L5:
  83 0044 00640040 		.word	1073767424
  84              		.cfi_endproc
  85              	.LFE130:
  87              		.section	.text.CAN_Init,"ax",%progbits
  88              		.align	1
  89              		.global	CAN_Init
  90              		.syntax unified
  91              		.thumb
  92              		.thumb_func
  94              	CAN_Init:
  95              	.LFB131:
 205:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 206:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 207:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 208:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         parameters in the CAN_InitStruct.
 209:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 210:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure that contains
 211:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         the configuration information for the CAN peripheral.
 212:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 213:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval Constant indicates initialization succeed which will be 
 214:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         CAN_InitStatus_Failed or CAN_InitStatus_Success.
 215:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 216:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_Init(CAN_TypeDef* CANx, CAN_InitTypeDef* CAN_InitStruct)
 217:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
  96              		.loc 1 217 1
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 16
  99              		@ frame_needed = 1, uses_anonymous_args = 0
 100              		@ link register save eliminated.
 101 0000 80B4     		push	{r7}
 102              	.LCFI5:
 103              		.cfi_def_cfa_offset 4
 104              		.cfi_offset 7, -4
 105 0002 85B0     		sub	sp, sp, #20
 106              	.LCFI6:
 107              		.cfi_def_cfa_offset 24
 108 0004 00AF     		add	r7, sp, #0
 109              	.LCFI7:
 110              		.cfi_def_cfa_register 7
 111 0006 7860     		str	r0, [r7, #4]
 112 0008 3960     		str	r1, [r7]
 218:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t InitStatus = CAN_InitStatus_Failed;
 113              		.loc 1 218 11
 114 000a 0023     		movs	r3, #0
 115 000c FB73     		strb	r3, [r7, #15]
 219:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint32_t wait_ack = 0x00000000;
 116              		.loc 1 219 12
 117 000e 0023     		movs	r3, #0
 118 0010 BB60     		str	r3, [r7, #8]
 220:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 221:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 222:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TTCM));
 223:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_ABOM));
 224:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_AWUM));
 225:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_NART));
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 7


 226:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_RFLM));
 227:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TXFP));
 228:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_MODE(CAN_InitStruct->CAN_Mode));
 229:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_SJW(CAN_InitStruct->CAN_SJW));
 230:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_BS1(CAN_InitStruct->CAN_BS1));
 231:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_BS2(CAN_InitStruct->CAN_BS2));
 232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_PRESCALER(CAN_InitStruct->CAN_Prescaler));
 233:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Exit from sleep mode */
 235:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->MCR &= (~(uint32_t)CAN_MCR_SLEEP);
 119              		.loc 1 235 13
 120 0012 7B68     		ldr	r3, [r7, #4]
 121 0014 1B68     		ldr	r3, [r3]
 122 0016 23F00202 		bic	r2, r3, #2
 123 001a 7B68     		ldr	r3, [r7, #4]
 124 001c 1A60     		str	r2, [r3]
 236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 237:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Request initialisation */
 238:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->MCR |= CAN_MCR_INRQ ;
 125              		.loc 1 238 13
 126 001e 7B68     		ldr	r3, [r7, #4]
 127 0020 1B68     		ldr	r3, [r3]
 128 0022 43F00102 		orr	r2, r3, #1
 129 0026 7B68     		ldr	r3, [r7, #4]
 130 0028 1A60     		str	r2, [r3]
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 240:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Wait the acknowledge */
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   while (((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 131              		.loc 1 241 9
 132 002a 02E0     		b	.L8
 133              	.L10:
 242:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     wait_ack++;
 134              		.loc 1 243 13
 135 002c BB68     		ldr	r3, [r7, #8]
 136 002e 0133     		adds	r3, r3, #1
 137 0030 BB60     		str	r3, [r7, #8]
 138              	.L8:
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 139              		.loc 1 241 16
 140 0032 7B68     		ldr	r3, [r7, #4]
 141 0034 5B68     		ldr	r3, [r3, #4]
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 142              		.loc 1 241 22
 143 0036 03F00103 		and	r3, r3, #1
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 144              		.loc 1 241 9
 145 003a 012B     		cmp	r3, #1
 146 003c 04D0     		beq	.L9
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 147              		.loc 1 241 55 discriminator 1
 148 003e BB68     		ldr	r3, [r7, #8]
 149 0040 4FF6FF72 		movw	r2, #65535
 150 0044 9342     		cmp	r3, r2
 151 0046 F1D1     		bne	.L10
 152              	.L9:
 244:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 8


 245:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check acknowledge */
 247:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if ((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK)
 153              		.loc 1 247 12
 154 0048 7B68     		ldr	r3, [r7, #4]
 155 004a 5B68     		ldr	r3, [r3, #4]
 156              		.loc 1 247 18
 157 004c 03F00103 		and	r3, r3, #1
 158              		.loc 1 247 6
 159 0050 012B     		cmp	r3, #1
 160 0052 02D0     		beq	.L11
 248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 249:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     InitStatus = CAN_InitStatus_Failed;
 161              		.loc 1 249 16
 162 0054 0023     		movs	r3, #0
 163 0056 FB73     		strb	r3, [r7, #15]
 164 0058 9CE0     		b	.L12
 165              	.L11:
 250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 251:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else 
 252:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set the time triggered communication mode */
 254:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if (CAN_InitStruct->CAN_TTCM == ENABLE)
 166              		.loc 1 254 23
 167 005a 3B68     		ldr	r3, [r7]
 168 005c 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 169              		.loc 1 254 8
 170 005e 012B     		cmp	r3, #1
 171 0060 06D1     		bne	.L13
 255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 256:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR |= CAN_MCR_TTCM;
 172              		.loc 1 256 17
 173 0062 7B68     		ldr	r3, [r7, #4]
 174 0064 1B68     		ldr	r3, [r3]
 175 0066 43F08002 		orr	r2, r3, #128
 176 006a 7B68     		ldr	r3, [r7, #4]
 177 006c 1A60     		str	r2, [r3]
 178 006e 05E0     		b	.L14
 179              	.L13:
 257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 258:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
 259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TTCM;
 180              		.loc 1 260 17
 181 0070 7B68     		ldr	r3, [r7, #4]
 182 0072 1B68     		ldr	r3, [r3]
 183 0074 23F08002 		bic	r2, r3, #128
 184 0078 7B68     		ldr	r3, [r7, #4]
 185 007a 1A60     		str	r2, [r3]
 186              	.L14:
 261:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 263:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set the automatic bus-off management */
 264:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if (CAN_InitStruct->CAN_ABOM == ENABLE)
 187              		.loc 1 264 23
 188 007c 3B68     		ldr	r3, [r7]
 189 007e DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 9


 190              		.loc 1 264 8
 191 0080 012B     		cmp	r3, #1
 192 0082 06D1     		bne	.L15
 265:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR |= CAN_MCR_ABOM;
 193              		.loc 1 266 17
 194 0084 7B68     		ldr	r3, [r7, #4]
 195 0086 1B68     		ldr	r3, [r3]
 196 0088 43F04002 		orr	r2, r3, #64
 197 008c 7B68     		ldr	r3, [r7, #4]
 198 008e 1A60     		str	r2, [r3]
 199 0090 05E0     		b	.L16
 200              	.L15:
 267:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 268:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
 269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 270:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_ABOM;
 201              		.loc 1 270 17
 202 0092 7B68     		ldr	r3, [r7, #4]
 203 0094 1B68     		ldr	r3, [r3]
 204 0096 23F04002 		bic	r2, r3, #64
 205 009a 7B68     		ldr	r3, [r7, #4]
 206 009c 1A60     		str	r2, [r3]
 207              	.L16:
 271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 272:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 273:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set the automatic wake-up mode */
 274:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if (CAN_InitStruct->CAN_AWUM == ENABLE)
 208              		.loc 1 274 23
 209 009e 3B68     		ldr	r3, [r7]
 210 00a0 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 211              		.loc 1 274 8
 212 00a2 012B     		cmp	r3, #1
 213 00a4 06D1     		bne	.L17
 275:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 276:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR |= CAN_MCR_AWUM;
 214              		.loc 1 276 17
 215 00a6 7B68     		ldr	r3, [r7, #4]
 216 00a8 1B68     		ldr	r3, [r3]
 217 00aa 43F02002 		orr	r2, r3, #32
 218 00ae 7B68     		ldr	r3, [r7, #4]
 219 00b0 1A60     		str	r2, [r3]
 220 00b2 05E0     		b	.L18
 221              	.L17:
 277:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 278:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
 279:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 280:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_AWUM;
 222              		.loc 1 280 17
 223 00b4 7B68     		ldr	r3, [r7, #4]
 224 00b6 1B68     		ldr	r3, [r3]
 225 00b8 23F02002 		bic	r2, r3, #32
 226 00bc 7B68     		ldr	r3, [r7, #4]
 227 00be 1A60     		str	r2, [r3]
 228              	.L18:
 281:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 282:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 10


 283:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set the no automatic retransmission */
 284:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if (CAN_InitStruct->CAN_NART == ENABLE)
 229              		.loc 1 284 23
 230 00c0 3B68     		ldr	r3, [r7]
 231 00c2 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 232              		.loc 1 284 8
 233 00c4 012B     		cmp	r3, #1
 234 00c6 06D1     		bne	.L19
 285:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 286:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR |= CAN_MCR_NART;
 235              		.loc 1 286 17
 236 00c8 7B68     		ldr	r3, [r7, #4]
 237 00ca 1B68     		ldr	r3, [r3]
 238 00cc 43F01002 		orr	r2, r3, #16
 239 00d0 7B68     		ldr	r3, [r7, #4]
 240 00d2 1A60     		str	r2, [r3]
 241 00d4 05E0     		b	.L20
 242              	.L19:
 287:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 288:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
 289:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 290:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_NART;
 243              		.loc 1 290 17
 244 00d6 7B68     		ldr	r3, [r7, #4]
 245 00d8 1B68     		ldr	r3, [r3]
 246 00da 23F01002 		bic	r2, r3, #16
 247 00de 7B68     		ldr	r3, [r7, #4]
 248 00e0 1A60     		str	r2, [r3]
 249              	.L20:
 291:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 292:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 293:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set the receive FIFO locked mode */
 294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if (CAN_InitStruct->CAN_RFLM == ENABLE)
 250              		.loc 1 294 23
 251 00e2 3B68     		ldr	r3, [r7]
 252 00e4 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 253              		.loc 1 294 8
 254 00e6 012B     		cmp	r3, #1
 255 00e8 06D1     		bne	.L21
 295:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 296:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR |= CAN_MCR_RFLM;
 256              		.loc 1 296 17
 257 00ea 7B68     		ldr	r3, [r7, #4]
 258 00ec 1B68     		ldr	r3, [r3]
 259 00ee 43F00802 		orr	r2, r3, #8
 260 00f2 7B68     		ldr	r3, [r7, #4]
 261 00f4 1A60     		str	r2, [r3]
 262 00f6 05E0     		b	.L22
 263              	.L21:
 297:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 298:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
 299:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 300:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_RFLM;
 264              		.loc 1 300 17
 265 00f8 7B68     		ldr	r3, [r7, #4]
 266 00fa 1B68     		ldr	r3, [r3]
 267 00fc 23F00802 		bic	r2, r3, #8
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 11


 268 0100 7B68     		ldr	r3, [r7, #4]
 269 0102 1A60     		str	r2, [r3]
 270              	.L22:
 301:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 302:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 303:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set the transmit FIFO priority */
 304:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if (CAN_InitStruct->CAN_TXFP == ENABLE)
 271              		.loc 1 304 23
 272 0104 3B68     		ldr	r3, [r7]
 273 0106 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 274              		.loc 1 304 8
 275 0108 012B     		cmp	r3, #1
 276 010a 06D1     		bne	.L23
 305:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 306:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR |= CAN_MCR_TXFP;
 277              		.loc 1 306 17
 278 010c 7B68     		ldr	r3, [r7, #4]
 279 010e 1B68     		ldr	r3, [r3]
 280 0110 43F00402 		orr	r2, r3, #4
 281 0114 7B68     		ldr	r3, [r7, #4]
 282 0116 1A60     		str	r2, [r3]
 283 0118 05E0     		b	.L24
 284              	.L23:
 307:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 308:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
 309:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 310:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TXFP;
 285              		.loc 1 310 17
 286 011a 7B68     		ldr	r3, [r7, #4]
 287 011c 1B68     		ldr	r3, [r3]
 288 011e 23F00402 		bic	r2, r3, #4
 289 0122 7B68     		ldr	r3, [r7, #4]
 290 0124 1A60     		str	r2, [r3]
 291              	.L24:
 311:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 312:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 313:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set the bit timing register */
 314:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->BTR = (uint32_t)((uint32_t)CAN_InitStruct->CAN_Mode << 30) | \
 292              		.loc 1 314 52
 293 0126 3B68     		ldr	r3, [r7]
 294 0128 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 295              		.loc 1 314 17
 296 012a 9A07     		lsls	r2, r3, #30
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 297              		.loc 1 315 42
 298 012c 3B68     		ldr	r3, [r7]
 299 012e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 300              		.loc 1 315 52
 301 0130 1B06     		lsls	r3, r3, #24
 314:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 302              		.loc 1 314 70
 303 0132 1A43     		orrs	r2, r2, r3
 316:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 304              		.loc 1 316 42
 305 0134 3B68     		ldr	r3, [r7]
 306 0136 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 307              		.loc 1 316 52
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 12


 308 0138 1B04     		lsls	r3, r3, #16
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 309              		.loc 1 315 59
 310 013a 1A43     		orrs	r2, r2, r3
 317:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 311              		.loc 1 317 42
 312 013c 3B68     		ldr	r3, [r7]
 313 013e 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 314              		.loc 1 317 52
 315 0140 1B05     		lsls	r3, r3, #20
 316:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 316              		.loc 1 316 59
 317 0142 1A43     		orrs	r2, r2, r3
 318:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                ((uint32_t)CAN_InitStruct->CAN_Prescaler - 1);
 318              		.loc 1 318 41
 319 0144 3B68     		ldr	r3, [r7]
 320 0146 1B88     		ldrh	r3, [r3]
 321              		.loc 1 318 57
 322 0148 013B     		subs	r3, r3, #1
 317:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 323              		.loc 1 317 59
 324 014a 1A43     		orrs	r2, r2, r3
 314:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 325              		.loc 1 314 15
 326 014c 7B68     		ldr	r3, [r7, #4]
 327 014e DA61     		str	r2, [r3, #28]
 319:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 320:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Request leave initialisation */
 321:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->MCR &= ~(uint32_t)CAN_MCR_INRQ;
 328              		.loc 1 321 15
 329 0150 7B68     		ldr	r3, [r7, #4]
 330 0152 1B68     		ldr	r3, [r3]
 331 0154 23F00102 		bic	r2, r3, #1
 332 0158 7B68     		ldr	r3, [r7, #4]
 333 015a 1A60     		str	r2, [r3]
 322:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 323:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    /* Wait the acknowledge */
 324:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    wait_ack = 0;
 334              		.loc 1 324 13
 335 015c 0023     		movs	r3, #0
 336 015e BB60     		str	r3, [r7, #8]
 325:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    while (((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 337              		.loc 1 326 10
 338 0160 02E0     		b	.L25
 339              	.L27:
 327:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    {
 328:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****      wait_ack++;
 340              		.loc 1 328 14
 341 0162 BB68     		ldr	r3, [r7, #8]
 342 0164 0133     		adds	r3, r3, #1
 343 0166 BB60     		str	r3, [r7, #8]
 344              	.L25:
 326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    {
 345              		.loc 1 326 17
 346 0168 7B68     		ldr	r3, [r7, #4]
 347 016a 5B68     		ldr	r3, [r3, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 13


 326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    {
 348              		.loc 1 326 23
 349 016c 03F00103 		and	r3, r3, #1
 326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    {
 350              		.loc 1 326 10
 351 0170 012B     		cmp	r3, #1
 352 0172 04D1     		bne	.L26
 326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    {
 353              		.loc 1 326 56 discriminator 1
 354 0174 BB68     		ldr	r3, [r7, #8]
 355 0176 4FF6FF72 		movw	r2, #65535
 356 017a 9342     		cmp	r3, r2
 357 017c F1D1     		bne	.L27
 358              	.L26:
 329:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    }
 330:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 331:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* ...and check acknowledged */
 332:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK)
 359              		.loc 1 332 14
 360 017e 7B68     		ldr	r3, [r7, #4]
 361 0180 5B68     		ldr	r3, [r3, #4]
 362              		.loc 1 332 20
 363 0182 03F00103 		and	r3, r3, #1
 364              		.loc 1 332 8
 365 0186 012B     		cmp	r3, #1
 366 0188 02D1     		bne	.L28
 333:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 334:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       InitStatus = CAN_InitStatus_Failed;
 367              		.loc 1 334 18
 368 018a 0023     		movs	r3, #0
 369 018c FB73     		strb	r3, [r7, #15]
 370 018e 01E0     		b	.L12
 371              	.L28:
 335:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 336:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
 337:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 338:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       InitStatus = CAN_InitStatus_Success ;
 372              		.loc 1 338 18
 373 0190 0123     		movs	r3, #1
 374 0192 FB73     		strb	r3, [r7, #15]
 375              	.L12:
 339:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 340:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 341:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 342:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* At this step, return the status of initialization */
 343:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return InitStatus;
 376              		.loc 1 343 10
 377 0194 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 344:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 378              		.loc 1 344 1
 379 0196 1846     		mov	r0, r3
 380 0198 1437     		adds	r7, r7, #20
 381              	.LCFI8:
 382              		.cfi_def_cfa_offset 4
 383 019a BD46     		mov	sp, r7
 384              	.LCFI9:
 385              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 14


 386              		@ sp needed
 387 019c 5DF8047B 		ldr	r7, [sp], #4
 388              	.LCFI10:
 389              		.cfi_restore 7
 390              		.cfi_def_cfa_offset 0
 391 01a0 7047     		bx	lr
 392              		.cfi_endproc
 393              	.LFE131:
 395              		.section	.text.CAN_FilterInit,"ax",%progbits
 396              		.align	1
 397              		.global	CAN_FilterInit
 398              		.syntax unified
 399              		.thumb
 400              		.thumb_func
 402              	CAN_FilterInit:
 403              	.LFB132:
 345:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 346:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #if defined(STM32F413_423xx)
 347:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 348:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Configures the CAN reception filter according to the specified
 349:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         parameters in the CAN_FilterInitStruct.
 350:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1 or 3 to select the CAN peripheral.
 351:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_FilterInitStruct: pointer to a CAN_FilterInitTypeDef structure that
 352:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         contains the configuration information.
 353:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 354:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 355:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_FilterInit(CAN_TypeDef* CANx, CAN_FilterInitTypeDef* CAN_FilterInitStruct)
 356:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 357:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint32_t filter_number_bit_pos = 0;
 358:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 359:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FILTER_NUMBER(CAN_FilterInitStruct->CAN_FilterNumber));
 360:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FILTER_MODE(CAN_FilterInitStruct->CAN_FilterMode));
 361:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FILTER_SCALE(CAN_FilterInitStruct->CAN_FilterScale));
 362:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FILTER_FIFO(CAN_FilterInitStruct->CAN_FilterFIFOAssignment));
 363:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_FilterInitStruct->CAN_FilterActivation));
 364:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 365:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   filter_number_bit_pos = ((uint32_t)1) << CAN_FilterInitStruct->CAN_FilterNumber;
 366:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 367:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialisation mode for the filter */
 368:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->FMR |= FMR_FINIT;
 369:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 370:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter Deactivation */
 371:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->FA1R &= ~(uint32_t)filter_number_bit_pos;
 372:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 373:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter Scale */
 374:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_16bit)
 375:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 376:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* 16-bit scale for the filter */
 377:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->FS1R &= ~(uint32_t)filter_number_bit_pos;
 378:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 379:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* First 16-bit identifier and First 16-bit mask */
 380:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Or First 16-bit identifier and Second 16-bit identifier */
 381:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 382:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 383:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 384:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 385:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Second 16-bit identifier and Second 16-bit mask */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 15


 386:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Or Third 16-bit identifier and Fourth 16-bit identifier */
 387:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 388:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 389:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 390:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 391:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 392:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_32bit)
 393:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 394:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* 32-bit scale for the filter */
 395:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->FS1R |= filter_number_bit_pos;
 396:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 397:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 398:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 399:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 400:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* 32-bit mask or Second 32-bit identifier */
 401:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 402:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 403:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 404:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 405:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 406:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter Mode */
 407:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdMask)
 408:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 409:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /*Id/Mask mode for the filter*/
 410:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->FM1R &= ~(uint32_t)filter_number_bit_pos;
 411:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 412:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else /* CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdList */
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 414:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /*Identifier list mode for the filter*/
 415:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->FM1R |= (uint32_t)filter_number_bit_pos;
 416:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 417:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 418:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter FIFO assignment */
 419:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO0)
 420:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 421:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* FIFO 0 assignation for the filter */
 422:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->FFA1R &= ~(uint32_t)filter_number_bit_pos;
 423:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 424:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 425:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO1)
 426:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 427:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* FIFO 1 assignation for the filter */
 428:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->FFA1R |= (uint32_t)filter_number_bit_pos;
 429:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 430:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 431:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter activation */
 432:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterActivation == ENABLE)
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 434:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->FA1R |= filter_number_bit_pos;
 435:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 436:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 437:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Leave the initialisation mode for the filter */
 438:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->FMR &= ~FMR_FINIT;
 439:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 440:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #else
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 442:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Configures the CAN reception filter according to the specified
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 16


 443:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         parameters in the CAN_FilterInitStruct.
 444:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_FilterInitStruct: pointer to a CAN_FilterInitTypeDef structure that
 445:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         contains the configuration information.
 446:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 447:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 448:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_FilterInit(CAN_FilterInitTypeDef* CAN_FilterInitStruct)
 449:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 404              		.loc 1 449 1
 405              		.cfi_startproc
 406              		@ args = 0, pretend = 0, frame = 16
 407              		@ frame_needed = 1, uses_anonymous_args = 0
 408              		@ link register save eliminated.
 409 0000 90B4     		push	{r4, r7}
 410              	.LCFI11:
 411              		.cfi_def_cfa_offset 8
 412              		.cfi_offset 4, -8
 413              		.cfi_offset 7, -4
 414 0002 84B0     		sub	sp, sp, #16
 415              	.LCFI12:
 416              		.cfi_def_cfa_offset 24
 417 0004 00AF     		add	r7, sp, #0
 418              	.LCFI13:
 419              		.cfi_def_cfa_register 7
 420 0006 7860     		str	r0, [r7, #4]
 450:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint32_t filter_number_bit_pos = 0;
 421              		.loc 1 450 12
 422 0008 0023     		movs	r3, #0
 423 000a FB60     		str	r3, [r7, #12]
 451:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 452:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FILTER_NUMBER(CAN_FilterInitStruct->CAN_FilterNumber));
 453:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FILTER_MODE(CAN_FilterInitStruct->CAN_FilterMode));
 454:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FILTER_SCALE(CAN_FilterInitStruct->CAN_FilterScale));
 455:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FILTER_FIFO(CAN_FilterInitStruct->CAN_FilterFIFOAssignment));
 456:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_FilterInitStruct->CAN_FilterActivation));
 457:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 458:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   filter_number_bit_pos = ((uint32_t)1) << CAN_FilterInitStruct->CAN_FilterNumber;
 424              		.loc 1 458 64
 425 000c 7B68     		ldr	r3, [r7, #4]
 426 000e 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 427 0010 1A46     		mov	r2, r3
 428              		.loc 1 458 25
 429 0012 0123     		movs	r3, #1
 430 0014 9340     		lsls	r3, r3, r2
 431 0016 FB60     		str	r3, [r7, #12]
 459:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 460:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialisation mode for the filter */
 461:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN1->FMR |= FMR_FINIT;
 432              		.loc 1 461 13
 433 0018 594B     		ldr	r3, .L38
 434 001a D3F80032 		ldr	r3, [r3, #512]
 435 001e 584A     		ldr	r2, .L38
 436 0020 43F00103 		orr	r3, r3, #1
 437 0024 C2F80032 		str	r3, [r2, #512]
 462:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 463:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter Deactivation */
 464:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN1->FA1R &= ~(uint32_t)filter_number_bit_pos;
 438              		.loc 1 464 14
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 17


 439 0028 554B     		ldr	r3, .L38
 440 002a D3F81C22 		ldr	r2, [r3, #540]
 441              		.loc 1 464 17
 442 002e FB68     		ldr	r3, [r7, #12]
 443 0030 DB43     		mvns	r3, r3
 444              		.loc 1 464 14
 445 0032 5349     		ldr	r1, .L38
 446 0034 1340     		ands	r3, r3, r2
 447 0036 C1F81C32 		str	r3, [r1, #540]
 465:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 466:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter Scale */
 467:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_16bit)
 448              		.loc 1 467 27
 449 003a 7B68     		ldr	r3, [r7, #4]
 450 003c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 451              		.loc 1 467 6
 452 003e 002B     		cmp	r3, #0
 453 0040 29D1     		bne	.L31
 468:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 469:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* 16-bit scale for the filter */
 470:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->FS1R &= ~(uint32_t)filter_number_bit_pos;
 454              		.loc 1 470 16
 455 0042 4F4B     		ldr	r3, .L38
 456 0044 D3F80C22 		ldr	r2, [r3, #524]
 457              		.loc 1 470 19
 458 0048 FB68     		ldr	r3, [r7, #12]
 459 004a DB43     		mvns	r3, r3
 460              		.loc 1 470 16
 461 004c 4C49     		ldr	r1, .L38
 462 004e 1340     		ands	r3, r3, r2
 463 0050 C1F80C32 		str	r3, [r1, #524]
 471:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 472:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* First 16-bit identifier and First 16-bit mask */
 473:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Or First 16-bit identifier and Second 16-bit identifier */
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 464              		.loc 1 475 53
 465 0054 7B68     		ldr	r3, [r7, #4]
 466 0056 DB88     		ldrh	r3, [r3, #6]
 467              		.loc 1 475 76
 468 0058 1B04     		lsls	r3, r3, #16
 476:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 469              		.loc 1 476 53
 470 005a 7A68     		ldr	r2, [r7, #4]
 471 005c 5288     		ldrh	r2, [r2, #2]
 472              		.loc 1 476 21
 473 005e 1446     		mov	r4, r2
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 474              		.loc 1 474 9
 475 0060 4749     		ldr	r1, .L38
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 476              		.loc 1 474 47
 477 0062 7A68     		ldr	r2, [r7, #4]
 478 0064 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 479 0066 1046     		mov	r0, r2
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 480              		.loc 1 475 83
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 18


 481 0068 43EA0402 		orr	r2, r3, r4
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 482              		.loc 1 474 71
 483 006c 00F14803 		add	r3, r0, #72
 484 0070 41F83320 		str	r2, [r1, r3, lsl #3]
 477:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 478:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Second 16-bit identifier and Second 16-bit mask */
 479:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Or Third 16-bit identifier and Fourth 16-bit identifier */
 480:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 481:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 485              		.loc 1 481 53
 486 0074 7B68     		ldr	r3, [r7, #4]
 487 0076 9B88     		ldrh	r3, [r3, #4]
 488              		.loc 1 481 77
 489 0078 1B04     		lsls	r3, r3, #16
 482:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 490              		.loc 1 482 53
 491 007a 7A68     		ldr	r2, [r7, #4]
 492 007c 1288     		ldrh	r2, [r2]
 493              		.loc 1 482 21
 494 007e 1446     		mov	r4, r2
 480:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 495              		.loc 1 480 9
 496 0080 3F49     		ldr	r1, .L38
 480:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 497              		.loc 1 480 47
 498 0082 7A68     		ldr	r2, [r7, #4]
 499 0084 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 500 0086 1046     		mov	r0, r2
 481:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 501              		.loc 1 481 84
 502 0088 43EA0402 		orr	r2, r3, r4
 480:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 503              		.loc 1 480 71
 504 008c 00F14803 		add	r3, r0, #72
 505 0090 DB00     		lsls	r3, r3, #3
 506 0092 0B44     		add	r3, r3, r1
 507 0094 5A60     		str	r2, [r3, #4]
 508              	.L31:
 483:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 484:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 485:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_32bit)
 509              		.loc 1 485 27
 510 0096 7B68     		ldr	r3, [r7, #4]
 511 0098 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 512              		.loc 1 485 6
 513 009a 012B     		cmp	r3, #1
 514 009c 28D1     		bne	.L32
 486:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 487:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* 32-bit scale for the filter */
 488:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->FS1R |= filter_number_bit_pos;
 515              		.loc 1 488 16
 516 009e 384B     		ldr	r3, .L38
 517 00a0 D3F80C22 		ldr	r2, [r3, #524]
 518 00a4 3649     		ldr	r1, .L38
 519 00a6 FB68     		ldr	r3, [r7, #12]
 520 00a8 1343     		orrs	r3, r3, r2
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 19


 521 00aa C1F80C32 		str	r3, [r1, #524]
 489:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 490:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 491:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 522              		.loc 1 491 53
 523 00ae 7B68     		ldr	r3, [r7, #4]
 524 00b0 1B88     		ldrh	r3, [r3]
 525              		.loc 1 491 73
 526 00b2 1B04     		lsls	r3, r3, #16
 492:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 527              		.loc 1 492 53
 528 00b4 7A68     		ldr	r2, [r7, #4]
 529 00b6 5288     		ldrh	r2, [r2, #2]
 530              		.loc 1 492 21
 531 00b8 1446     		mov	r4, r2
 490:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 532              		.loc 1 490 9
 533 00ba 3149     		ldr	r1, .L38
 490:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 534              		.loc 1 490 47
 535 00bc 7A68     		ldr	r2, [r7, #4]
 536 00be 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 537 00c0 1046     		mov	r0, r2
 491:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 538              		.loc 1 491 80
 539 00c2 43EA0402 		orr	r2, r3, r4
 490:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 540              		.loc 1 490 71
 541 00c6 00F14803 		add	r3, r0, #72
 542 00ca 41F83320 		str	r2, [r1, r3, lsl #3]
 493:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* 32-bit mask or Second 32-bit identifier */
 494:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 495:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 543              		.loc 1 495 53
 544 00ce 7B68     		ldr	r3, [r7, #4]
 545 00d0 9B88     		ldrh	r3, [r3, #4]
 546              		.loc 1 495 77
 547 00d2 1B04     		lsls	r3, r3, #16
 496:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 548              		.loc 1 496 53
 549 00d4 7A68     		ldr	r2, [r7, #4]
 550 00d6 D288     		ldrh	r2, [r2, #6]
 551              		.loc 1 496 21
 552 00d8 1446     		mov	r4, r2
 494:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 553              		.loc 1 494 9
 554 00da 2949     		ldr	r1, .L38
 494:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 555              		.loc 1 494 47
 556 00dc 7A68     		ldr	r2, [r7, #4]
 557 00de 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 558 00e0 1046     		mov	r0, r2
 495:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 559              		.loc 1 495 84
 560 00e2 43EA0402 		orr	r2, r3, r4
 494:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 561              		.loc 1 494 71
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 20


 562 00e6 00F14803 		add	r3, r0, #72
 563 00ea DB00     		lsls	r3, r3, #3
 564 00ec 0B44     		add	r3, r3, r1
 565 00ee 5A60     		str	r2, [r3, #4]
 566              	.L32:
 497:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 498:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 499:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter Mode */
 500:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdMask)
 567              		.loc 1 500 27
 568 00f0 7B68     		ldr	r3, [r7, #4]
 569 00f2 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 570              		.loc 1 500 6
 571 00f4 002B     		cmp	r3, #0
 572 00f6 09D1     		bne	.L33
 501:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 502:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /*Id/Mask mode for the filter*/
 503:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->FM1R &= ~(uint32_t)filter_number_bit_pos;
 573              		.loc 1 503 16
 574 00f8 214B     		ldr	r3, .L38
 575 00fa D3F80422 		ldr	r2, [r3, #516]
 576              		.loc 1 503 19
 577 00fe FB68     		ldr	r3, [r7, #12]
 578 0100 DB43     		mvns	r3, r3
 579              		.loc 1 503 16
 580 0102 1F49     		ldr	r1, .L38
 581 0104 1340     		ands	r3, r3, r2
 582 0106 C1F80432 		str	r3, [r1, #516]
 583 010a 07E0     		b	.L34
 584              	.L33:
 504:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 505:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else /* CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdList */
 506:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 507:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /*Identifier list mode for the filter*/
 508:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->FM1R |= (uint32_t)filter_number_bit_pos;
 585              		.loc 1 508 16
 586 010c 1C4B     		ldr	r3, .L38
 587 010e D3F80422 		ldr	r2, [r3, #516]
 588 0112 1B49     		ldr	r1, .L38
 589 0114 FB68     		ldr	r3, [r7, #12]
 590 0116 1343     		orrs	r3, r3, r2
 591 0118 C1F80432 		str	r3, [r1, #516]
 592              	.L34:
 509:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 510:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 511:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter FIFO assignment */
 512:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO0)
 593              		.loc 1 512 27
 594 011c 7B68     		ldr	r3, [r7, #4]
 595 011e 1B89     		ldrh	r3, [r3, #8]
 596              		.loc 1 512 6
 597 0120 002B     		cmp	r3, #0
 598 0122 08D1     		bne	.L35
 513:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 514:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* FIFO 0 assignation for the filter */
 515:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->FFA1R &= ~(uint32_t)filter_number_bit_pos;
 599              		.loc 1 515 17
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 21


 600 0124 164B     		ldr	r3, .L38
 601 0126 D3F81422 		ldr	r2, [r3, #532]
 602              		.loc 1 515 20
 603 012a FB68     		ldr	r3, [r7, #12]
 604 012c DB43     		mvns	r3, r3
 605              		.loc 1 515 17
 606 012e 1449     		ldr	r1, .L38
 607 0130 1340     		ands	r3, r3, r2
 608 0132 C1F81432 		str	r3, [r1, #532]
 609              	.L35:
 516:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 517:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 518:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO1)
 610              		.loc 1 518 27
 611 0136 7B68     		ldr	r3, [r7, #4]
 612 0138 1B89     		ldrh	r3, [r3, #8]
 613              		.loc 1 518 6
 614 013a 012B     		cmp	r3, #1
 615 013c 07D1     		bne	.L36
 519:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 520:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* FIFO 1 assignation for the filter */
 521:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->FFA1R |= (uint32_t)filter_number_bit_pos;
 616              		.loc 1 521 17
 617 013e 104B     		ldr	r3, .L38
 618 0140 D3F81422 		ldr	r2, [r3, #532]
 619 0144 0E49     		ldr	r1, .L38
 620 0146 FB68     		ldr	r3, [r7, #12]
 621 0148 1343     		orrs	r3, r3, r2
 622 014a C1F81432 		str	r3, [r1, #532]
 623              	.L36:
 522:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 523:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 524:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Filter activation */
 525:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FilterInitStruct->CAN_FilterActivation == ENABLE)
 624              		.loc 1 525 27
 625 014e 7B68     		ldr	r3, [r7, #4]
 626 0150 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 627              		.loc 1 525 6
 628 0152 012B     		cmp	r3, #1
 629 0154 07D1     		bne	.L37
 526:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 527:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CAN1->FA1R |= filter_number_bit_pos;
 630              		.loc 1 527 16
 631 0156 0A4B     		ldr	r3, .L38
 632 0158 D3F81C22 		ldr	r2, [r3, #540]
 633 015c 0849     		ldr	r1, .L38
 634 015e FB68     		ldr	r3, [r7, #12]
 635 0160 1343     		orrs	r3, r3, r2
 636 0162 C1F81C32 		str	r3, [r1, #540]
 637              	.L37:
 528:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 529:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 530:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Leave the initialisation mode for the filter */
 531:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 638              		.loc 1 531 13
 639 0166 064B     		ldr	r3, .L38
 640 0168 D3F80032 		ldr	r3, [r3, #512]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 22


 641 016c 044A     		ldr	r2, .L38
 642 016e 23F00103 		bic	r3, r3, #1
 643 0172 C2F80032 		str	r3, [r2, #512]
 532:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 644              		.loc 1 532 1
 645 0176 00BF     		nop
 646 0178 1037     		adds	r7, r7, #16
 647              	.LCFI14:
 648              		.cfi_def_cfa_offset 8
 649 017a BD46     		mov	sp, r7
 650              	.LCFI15:
 651              		.cfi_def_cfa_register 13
 652              		@ sp needed
 653 017c 90BC     		pop	{r4, r7}
 654              	.LCFI16:
 655              		.cfi_restore 7
 656              		.cfi_restore 4
 657              		.cfi_def_cfa_offset 0
 658 017e 7047     		bx	lr
 659              	.L39:
 660              		.align	2
 661              	.L38:
 662 0180 00640040 		.word	1073767424
 663              		.cfi_endproc
 664              	.LFE132:
 666              		.section	.text.CAN_StructInit,"ax",%progbits
 667              		.align	1
 668              		.global	CAN_StructInit
 669              		.syntax unified
 670              		.thumb
 671              		.thumb_func
 673              	CAN_StructInit:
 674              	.LFB133:
 533:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #endif /* STM32F413_423xx */
 534:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 535:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 536:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Fills each CAN_InitStruct member with its default value.
 537:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure which ill be initialized.
 538:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 539:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 540:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_StructInit(CAN_InitTypeDef* CAN_InitStruct)
 541:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 675              		.loc 1 541 1
 676              		.cfi_startproc
 677              		@ args = 0, pretend = 0, frame = 8
 678              		@ frame_needed = 1, uses_anonymous_args = 0
 679              		@ link register save eliminated.
 680 0000 80B4     		push	{r7}
 681              	.LCFI17:
 682              		.cfi_def_cfa_offset 4
 683              		.cfi_offset 7, -4
 684 0002 83B0     		sub	sp, sp, #12
 685              	.LCFI18:
 686              		.cfi_def_cfa_offset 16
 687 0004 00AF     		add	r7, sp, #0
 688              	.LCFI19:
 689              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 23


 690 0006 7860     		str	r0, [r7, #4]
 542:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Reset CAN init structure parameters values */
 543:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 544:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the time triggered communication mode */
 545:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_TTCM = DISABLE;
 691              		.loc 1 545 28
 692 0008 7B68     		ldr	r3, [r7, #4]
 693 000a 0022     		movs	r2, #0
 694 000c 9A71     		strb	r2, [r3, #6]
 546:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 547:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the automatic bus-off management */
 548:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_ABOM = DISABLE;
 695              		.loc 1 548 28
 696 000e 7B68     		ldr	r3, [r7, #4]
 697 0010 0022     		movs	r2, #0
 698 0012 DA71     		strb	r2, [r3, #7]
 549:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 550:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the automatic wake-up mode */
 551:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_AWUM = DISABLE;
 699              		.loc 1 551 28
 700 0014 7B68     		ldr	r3, [r7, #4]
 701 0016 0022     		movs	r2, #0
 702 0018 1A72     		strb	r2, [r3, #8]
 552:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 553:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the no automatic retransmission */
 554:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_NART = DISABLE;
 703              		.loc 1 554 28
 704 001a 7B68     		ldr	r3, [r7, #4]
 705 001c 0022     		movs	r2, #0
 706 001e 5A72     		strb	r2, [r3, #9]
 555:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 556:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the receive FIFO locked mode */
 557:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_RFLM = DISABLE;
 707              		.loc 1 557 28
 708 0020 7B68     		ldr	r3, [r7, #4]
 709 0022 0022     		movs	r2, #0
 710 0024 9A72     		strb	r2, [r3, #10]
 558:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 559:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the transmit FIFO priority */
 560:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_TXFP = DISABLE;
 711              		.loc 1 560 28
 712 0026 7B68     		ldr	r3, [r7, #4]
 713 0028 0022     		movs	r2, #0
 714 002a DA72     		strb	r2, [r3, #11]
 561:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 562:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the CAN_Mode member */
 563:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_Mode = CAN_Mode_Normal;
 715              		.loc 1 563 28
 716 002c 7B68     		ldr	r3, [r7, #4]
 717 002e 0022     		movs	r2, #0
 718 0030 9A70     		strb	r2, [r3, #2]
 564:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 565:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the CAN_SJW member */
 566:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_SJW = CAN_SJW_1tq;
 719              		.loc 1 566 27
 720 0032 7B68     		ldr	r3, [r7, #4]
 721 0034 0022     		movs	r2, #0
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 24


 722 0036 DA70     		strb	r2, [r3, #3]
 567:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 568:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the CAN_BS1 member */
 569:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_BS1 = CAN_BS1_4tq;
 723              		.loc 1 569 27
 724 0038 7B68     		ldr	r3, [r7, #4]
 725 003a 0322     		movs	r2, #3
 726 003c 1A71     		strb	r2, [r3, #4]
 570:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 571:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the CAN_BS2 member */
 572:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_BS2 = CAN_BS2_3tq;
 727              		.loc 1 572 27
 728 003e 7B68     		ldr	r3, [r7, #4]
 729 0040 0222     		movs	r2, #2
 730 0042 5A71     		strb	r2, [r3, #5]
 573:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 574:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Initialize the CAN_Prescaler member */
 575:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN_InitStruct->CAN_Prescaler = 1;
 731              		.loc 1 575 33
 732 0044 7B68     		ldr	r3, [r7, #4]
 733 0046 0122     		movs	r2, #1
 734 0048 1A80     		strh	r2, [r3]	@ movhi
 576:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 735              		.loc 1 576 1
 736 004a 00BF     		nop
 737 004c 0C37     		adds	r7, r7, #12
 738              	.LCFI20:
 739              		.cfi_def_cfa_offset 4
 740 004e BD46     		mov	sp, r7
 741              	.LCFI21:
 742              		.cfi_def_cfa_register 13
 743              		@ sp needed
 744 0050 5DF8047B 		ldr	r7, [sp], #4
 745              	.LCFI22:
 746              		.cfi_restore 7
 747              		.cfi_def_cfa_offset 0
 748 0054 7047     		bx	lr
 749              		.cfi_endproc
 750              	.LFE133:
 752              		.section	.text.CAN_SlaveStartBank,"ax",%progbits
 753              		.align	1
 754              		.global	CAN_SlaveStartBank
 755              		.syntax unified
 756              		.thumb
 757              		.thumb_func
 759              	CAN_SlaveStartBank:
 760              	.LFB134:
 577:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 578:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #if defined(STM32F413_423xx)
 579:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 580:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Select the start bank filter for slave CAN.
 581:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1 or 3 to select the CAN peripheral.
 582:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_BankNumber: Select the start slave bank filter from 1..27.
 583:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 584:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 585:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_SlaveStartBank(CAN_TypeDef* CANx, uint8_t CAN_BankNumber) 
 586:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 25


 587:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 588:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_BANKNUMBER(CAN_BankNumber));
 589:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 590:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Enter Initialisation mode for the filter */
 591:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->FMR |= FMR_FINIT;
 592:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 593:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Select the start slave bank */
 594:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->FMR &= (uint32_t)0xFFFFC0F1 ;
 595:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->FMR |= (uint32_t)(CAN_BankNumber)<<8;
 596:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 597:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Leave Initialisation mode for the filter */
 598:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->FMR &= ~FMR_FINIT;
 599:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 600:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #else
 601:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 602:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Select the start bank filter for slave CAN.
 603:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_BankNumber: Select the start slave bank filter from 1..27.
 604:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 605:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 606:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_SlaveStartBank(uint8_t CAN_BankNumber) 
 607:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 761              		.loc 1 607 1
 762              		.cfi_startproc
 763              		@ args = 0, pretend = 0, frame = 8
 764              		@ frame_needed = 1, uses_anonymous_args = 0
 765              		@ link register save eliminated.
 766 0000 80B4     		push	{r7}
 767              	.LCFI23:
 768              		.cfi_def_cfa_offset 4
 769              		.cfi_offset 7, -4
 770 0002 83B0     		sub	sp, sp, #12
 771              	.LCFI24:
 772              		.cfi_def_cfa_offset 16
 773 0004 00AF     		add	r7, sp, #0
 774              	.LCFI25:
 775              		.cfi_def_cfa_register 7
 776 0006 0346     		mov	r3, r0
 777 0008 FB71     		strb	r3, [r7, #7]
 608:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 609:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_BANKNUMBER(CAN_BankNumber));
 610:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 611:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Enter Initialisation mode for the filter */
 612:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN1->FMR |= FMR_FINIT;
 778              		.loc 1 612 13
 779 000a 144B     		ldr	r3, .L42
 780 000c D3F80032 		ldr	r3, [r3, #512]
 781 0010 124A     		ldr	r2, .L42
 782 0012 43F00103 		orr	r3, r3, #1
 783 0016 C2F80032 		str	r3, [r2, #512]
 613:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 614:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Select the start slave bank */
 615:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN1->FMR &= (uint32_t)0xFFFFC0F1 ;
 784              		.loc 1 615 13
 785 001a 104B     		ldr	r3, .L42
 786 001c D3F80032 		ldr	r3, [r3, #512]
 787 0020 0E4A     		ldr	r2, .L42
 788 0022 23F47C53 		bic	r3, r3, #16128
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 26


 789 0026 23F00E03 		bic	r3, r3, #14
 790 002a C2F80032 		str	r3, [r2, #512]
 616:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN1->FMR |= (uint32_t)(CAN_BankNumber)<<8;
 791              		.loc 1 616 13
 792 002e 0B4B     		ldr	r3, .L42
 793 0030 D3F80022 		ldr	r2, [r3, #512]
 794              		.loc 1 616 16
 795 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 796              		.loc 1 616 42
 797 0036 1B02     		lsls	r3, r3, #8
 798              		.loc 1 616 13
 799 0038 0849     		ldr	r1, .L42
 800 003a 1343     		orrs	r3, r3, r2
 801 003c C1F80032 		str	r3, [r1, #512]
 617:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 618:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Leave Initialisation mode for the filter */
 619:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 802              		.loc 1 619 13
 803 0040 064B     		ldr	r3, .L42
 804 0042 D3F80032 		ldr	r3, [r3, #512]
 805 0046 054A     		ldr	r2, .L42
 806 0048 23F00103 		bic	r3, r3, #1
 807 004c C2F80032 		str	r3, [r2, #512]
 620:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 808              		.loc 1 620 1
 809 0050 00BF     		nop
 810 0052 0C37     		adds	r7, r7, #12
 811              	.LCFI26:
 812              		.cfi_def_cfa_offset 4
 813 0054 BD46     		mov	sp, r7
 814              	.LCFI27:
 815              		.cfi_def_cfa_register 13
 816              		@ sp needed
 817 0056 5DF8047B 		ldr	r7, [sp], #4
 818              	.LCFI28:
 819              		.cfi_restore 7
 820              		.cfi_def_cfa_offset 0
 821 005a 7047     		bx	lr
 822              	.L43:
 823              		.align	2
 824              	.L42:
 825 005c 00640040 		.word	1073767424
 826              		.cfi_endproc
 827              	.LFE134:
 829              		.section	.text.CAN_DBGFreeze,"ax",%progbits
 830              		.align	1
 831              		.global	CAN_DBGFreeze
 832              		.syntax unified
 833              		.thumb
 834              		.thumb_func
 836              	CAN_DBGFreeze:
 837              	.LFB135:
 621:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** #endif /* STM32F413_423xx */
 622:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 623:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Enables or disables the DBG Freeze for CAN.
 624:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 625:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  NewState: new state of the CAN peripheral. 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 27


 626:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          This parameter can be: ENABLE (CAN reception/transmission is frozen
 627:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          during debug. Reception FIFOs can still be accessed/controlled normally) 
 628:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          or DISABLE (CAN is working during debug).
 629:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 630:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 631:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 632:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_DBGFreeze(CAN_TypeDef* CANx, FunctionalState NewState)
 633:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 838              		.loc 1 633 1
 839              		.cfi_startproc
 840              		@ args = 0, pretend = 0, frame = 8
 841              		@ frame_needed = 1, uses_anonymous_args = 0
 842              		@ link register save eliminated.
 843 0000 80B4     		push	{r7}
 844              	.LCFI29:
 845              		.cfi_def_cfa_offset 4
 846              		.cfi_offset 7, -4
 847 0002 83B0     		sub	sp, sp, #12
 848              	.LCFI30:
 849              		.cfi_def_cfa_offset 16
 850 0004 00AF     		add	r7, sp, #0
 851              	.LCFI31:
 852              		.cfi_def_cfa_register 7
 853 0006 7860     		str	r0, [r7, #4]
 854 0008 0B46     		mov	r3, r1
 855 000a FB70     		strb	r3, [r7, #3]
 634:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 635:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 636:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 637:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 638:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (NewState != DISABLE)
 856              		.loc 1 638 6
 857 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 858 000e 002B     		cmp	r3, #0
 859 0010 06D0     		beq	.L45
 639:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 640:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Enable Debug Freeze  */
 641:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->MCR |= MCR_DBF;
 860              		.loc 1 641 15
 861 0012 7B68     		ldr	r3, [r7, #4]
 862 0014 1B68     		ldr	r3, [r3]
 863 0016 43F48032 		orr	r2, r3, #65536
 864 001a 7B68     		ldr	r3, [r7, #4]
 865 001c 1A60     		str	r2, [r3]
 642:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 643:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
 644:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 645:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Disable Debug Freeze */
 646:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->MCR &= ~MCR_DBF;
 647:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 648:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 866              		.loc 1 648 1
 867 001e 05E0     		b	.L47
 868              	.L45:
 646:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 869              		.loc 1 646 15
 870 0020 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 28


 871 0022 1B68     		ldr	r3, [r3]
 872 0024 23F48032 		bic	r2, r3, #65536
 873 0028 7B68     		ldr	r3, [r7, #4]
 874 002a 1A60     		str	r2, [r3]
 875              	.L47:
 876              		.loc 1 648 1
 877 002c 00BF     		nop
 878 002e 0C37     		adds	r7, r7, #12
 879              	.LCFI32:
 880              		.cfi_def_cfa_offset 4
 881 0030 BD46     		mov	sp, r7
 882              	.LCFI33:
 883              		.cfi_def_cfa_register 13
 884              		@ sp needed
 885 0032 5DF8047B 		ldr	r7, [sp], #4
 886              	.LCFI34:
 887              		.cfi_restore 7
 888              		.cfi_def_cfa_offset 0
 889 0036 7047     		bx	lr
 890              		.cfi_endproc
 891              	.LFE135:
 893              		.section	.text.CAN_TTComModeCmd,"ax",%progbits
 894              		.align	1
 895              		.global	CAN_TTComModeCmd
 896              		.syntax unified
 897              		.thumb
 898              		.thumb_func
 900              	CAN_TTComModeCmd:
 901              	.LFB136:
 649:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 650:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 651:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 652:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Enables or disables the CAN Time TriggerOperation communication mode.
 653:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   DLC must be programmed as 8 in order Time Stamp (2 bytes) to be 
 654:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         sent over the CAN bus.  
 655:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 656:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  NewState: Mode new state. This parameter can be: ENABLE or DISABLE.
 657:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         When enabled, Time stamp (TIME[15:0]) value is  sent in the last two
 658:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         data bytes of the 8-byte message: TIME[7:0] in data byte 6 and TIME[15:8] 
 659:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         in data byte 7.
 660:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 661:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 662:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 663:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_TTComModeCmd(CAN_TypeDef* CANx, FunctionalState NewState)
 664:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 902              		.loc 1 664 1
 903              		.cfi_startproc
 904              		@ args = 0, pretend = 0, frame = 8
 905              		@ frame_needed = 1, uses_anonymous_args = 0
 906              		@ link register save eliminated.
 907 0000 80B4     		push	{r7}
 908              	.LCFI35:
 909              		.cfi_def_cfa_offset 4
 910              		.cfi_offset 7, -4
 911 0002 83B0     		sub	sp, sp, #12
 912              	.LCFI36:
 913              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 29


 914 0004 00AF     		add	r7, sp, #0
 915              	.LCFI37:
 916              		.cfi_def_cfa_register 7
 917 0006 7860     		str	r0, [r7, #4]
 918 0008 0B46     		mov	r3, r1
 919 000a FB70     		strb	r3, [r7, #3]
 665:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 666:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 667:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 668:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (NewState != DISABLE)
 920              		.loc 1 668 6
 921 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 922 000e 002B     		cmp	r3, #0
 923 0010 1ED0     		beq	.L49
 669:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 670:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Enable the TTCM mode */
 671:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->MCR |= CAN_MCR_TTCM;
 924              		.loc 1 671 15
 925 0012 7B68     		ldr	r3, [r7, #4]
 926 0014 1B68     		ldr	r3, [r3]
 927 0016 43F08002 		orr	r2, r3, #128
 928 001a 7B68     		ldr	r3, [r7, #4]
 929 001c 1A60     		str	r2, [r3]
 672:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 673:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set TGT bits */
 674:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[0].TDTR |= ((uint32_t)CAN_TDT0R_TGT);
 930              		.loc 1 674 30
 931 001e 7B68     		ldr	r3, [r7, #4]
 932 0020 D3F88431 		ldr	r3, [r3, #388]
 933 0024 43F48072 		orr	r2, r3, #256
 934 0028 7B68     		ldr	r3, [r7, #4]
 935 002a C3F88421 		str	r2, [r3, #388]
 675:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[1].TDTR |= ((uint32_t)CAN_TDT1R_TGT);
 936              		.loc 1 675 30
 937 002e 7B68     		ldr	r3, [r7, #4]
 938 0030 D3F89431 		ldr	r3, [r3, #404]
 939 0034 43F48072 		orr	r2, r3, #256
 940 0038 7B68     		ldr	r3, [r7, #4]
 941 003a C3F89421 		str	r2, [r3, #404]
 676:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[2].TDTR |= ((uint32_t)CAN_TDT2R_TGT);
 942              		.loc 1 676 30
 943 003e 7B68     		ldr	r3, [r7, #4]
 944 0040 D3F8A431 		ldr	r3, [r3, #420]
 945 0044 43F48072 		orr	r2, r3, #256
 946 0048 7B68     		ldr	r3, [r7, #4]
 947 004a C3F8A421 		str	r2, [r3, #420]
 677:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 678:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
 679:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 680:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Disable the TTCM mode */
 681:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->MCR &= (uint32_t)(~(uint32_t)CAN_MCR_TTCM);
 682:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 683:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Reset TGT bits */
 684:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[0].TDTR &= ((uint32_t)~CAN_TDT0R_TGT);
 685:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[1].TDTR &= ((uint32_t)~CAN_TDT1R_TGT);
 686:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[2].TDTR &= ((uint32_t)~CAN_TDT2R_TGT);
 687:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 30


 688:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 948              		.loc 1 688 1
 949 004e 1DE0     		b	.L51
 950              	.L49:
 681:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 951              		.loc 1 681 15
 952 0050 7B68     		ldr	r3, [r7, #4]
 953 0052 1B68     		ldr	r3, [r3]
 954 0054 23F08002 		bic	r2, r3, #128
 955 0058 7B68     		ldr	r3, [r7, #4]
 956 005a 1A60     		str	r2, [r3]
 684:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[1].TDTR &= ((uint32_t)~CAN_TDT1R_TGT);
 957              		.loc 1 684 30
 958 005c 7B68     		ldr	r3, [r7, #4]
 959 005e D3F88431 		ldr	r3, [r3, #388]
 960 0062 23F48072 		bic	r2, r3, #256
 961 0066 7B68     		ldr	r3, [r7, #4]
 962 0068 C3F88421 		str	r2, [r3, #388]
 685:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[2].TDTR &= ((uint32_t)~CAN_TDT2R_TGT);
 963              		.loc 1 685 30
 964 006c 7B68     		ldr	r3, [r7, #4]
 965 006e D3F89431 		ldr	r3, [r3, #404]
 966 0072 23F48072 		bic	r2, r3, #256
 967 0076 7B68     		ldr	r3, [r7, #4]
 968 0078 C3F89421 		str	r2, [r3, #404]
 686:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 969              		.loc 1 686 30
 970 007c 7B68     		ldr	r3, [r7, #4]
 971 007e D3F8A431 		ldr	r3, [r3, #420]
 972 0082 23F48072 		bic	r2, r3, #256
 973 0086 7B68     		ldr	r3, [r7, #4]
 974 0088 C3F8A421 		str	r2, [r3, #420]
 975              	.L51:
 976              		.loc 1 688 1
 977 008c 00BF     		nop
 978 008e 0C37     		adds	r7, r7, #12
 979              	.LCFI38:
 980              		.cfi_def_cfa_offset 4
 981 0090 BD46     		mov	sp, r7
 982              	.LCFI39:
 983              		.cfi_def_cfa_register 13
 984              		@ sp needed
 985 0092 5DF8047B 		ldr	r7, [sp], #4
 986              	.LCFI40:
 987              		.cfi_restore 7
 988              		.cfi_def_cfa_offset 0
 989 0096 7047     		bx	lr
 990              		.cfi_endproc
 991              	.LFE136:
 993              		.section	.text.CAN_Transmit,"ax",%progbits
 994              		.align	1
 995              		.global	CAN_Transmit
 996              		.syntax unified
 997              		.thumb
 998              		.thumb_func
 1000              	CAN_Transmit:
 1001              	.LFB137:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 31


 689:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 690:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @}
 691:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 692:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 693:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 694:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @defgroup CAN_Group2 CAN Frames Transmission functions
 695:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *  @brief    CAN Frames Transmission functions 
 696:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *
 697:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @verbatim    
 698:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================
 699:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ##### CAN Frames Transmission functions #####
 700:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================  
 701:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..] This section provides functions allowing to 
 702:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Initiate and transmit a CAN frame message (if there is an empty mailbox).
 703:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Check the transmission status of a CAN Frame
 704:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Cancel a transmit request
 705:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    
 706:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @endverbatim
 707:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
 708:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 709:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 710:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 711:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Initiates and transmits a CAN frame message.
 712:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 713:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  TxMessage: pointer to a structure which contains CAN Id, CAN DLC and CAN data.
 714:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 715:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval The number of the mailbox that is used for transmission or
 716:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         CAN_TxStatus_NoMailBox if there is no empty mailbox.
 717:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 718:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_Transmit(CAN_TypeDef* CANx, CanTxMsg* TxMessage)
 719:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 1002              		.loc 1 719 1
 1003              		.cfi_startproc
 1004              		@ args = 0, pretend = 0, frame = 16
 1005              		@ frame_needed = 1, uses_anonymous_args = 0
 1006              		@ link register save eliminated.
 1007 0000 80B4     		push	{r7}
 1008              	.LCFI41:
 1009              		.cfi_def_cfa_offset 4
 1010              		.cfi_offset 7, -4
 1011 0002 85B0     		sub	sp, sp, #20
 1012              	.LCFI42:
 1013              		.cfi_def_cfa_offset 24
 1014 0004 00AF     		add	r7, sp, #0
 1015              	.LCFI43:
 1016              		.cfi_def_cfa_register 7
 1017 0006 7860     		str	r0, [r7, #4]
 1018 0008 3960     		str	r1, [r7]
 720:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t transmit_mailbox = 0;
 1019              		.loc 1 720 11
 1020 000a 0023     		movs	r3, #0
 1021 000c FB73     		strb	r3, [r7, #15]
 721:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 722:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 723:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_IDTYPE(TxMessage->IDE));
 724:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_RTR(TxMessage->RTR));
 725:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_DLC(TxMessage->DLC));
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 32


 726:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 727:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Select one empty transmit mailbox */
 728:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if ((CANx->TSR&CAN_TSR_TME0) == CAN_TSR_TME0)
 1022              		.loc 1 728 12
 1023 000e 7B68     		ldr	r3, [r7, #4]
 1024 0010 9B68     		ldr	r3, [r3, #8]
 1025              		.loc 1 728 17
 1026 0012 03F08063 		and	r3, r3, #67108864
 1027              		.loc 1 728 6
 1028 0016 B3F1806F 		cmp	r3, #67108864
 1029 001a 02D1     		bne	.L53
 729:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 730:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     transmit_mailbox = 0;
 1030              		.loc 1 730 22
 1031 001c 0023     		movs	r3, #0
 1032 001e FB73     		strb	r3, [r7, #15]
 1033 0020 15E0     		b	.L54
 1034              	.L53:
 731:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 732:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else if ((CANx->TSR&CAN_TSR_TME1) == CAN_TSR_TME1)
 1035              		.loc 1 732 17
 1036 0022 7B68     		ldr	r3, [r7, #4]
 1037 0024 9B68     		ldr	r3, [r3, #8]
 1038              		.loc 1 732 22
 1039 0026 03F00063 		and	r3, r3, #134217728
 1040              		.loc 1 732 11
 1041 002a B3F1006F 		cmp	r3, #134217728
 1042 002e 02D1     		bne	.L55
 733:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 734:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     transmit_mailbox = 1;
 1043              		.loc 1 734 22
 1044 0030 0123     		movs	r3, #1
 1045 0032 FB73     		strb	r3, [r7, #15]
 1046 0034 0BE0     		b	.L54
 1047              	.L55:
 735:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 736:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else if ((CANx->TSR&CAN_TSR_TME2) == CAN_TSR_TME2)
 1048              		.loc 1 736 17
 1049 0036 7B68     		ldr	r3, [r7, #4]
 1050 0038 9B68     		ldr	r3, [r3, #8]
 1051              		.loc 1 736 22
 1052 003a 03F08053 		and	r3, r3, #268435456
 1053              		.loc 1 736 11
 1054 003e B3F1805F 		cmp	r3, #268435456
 1055 0042 02D1     		bne	.L56
 737:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 738:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     transmit_mailbox = 2;
 1056              		.loc 1 738 22
 1057 0044 0223     		movs	r3, #2
 1058 0046 FB73     		strb	r3, [r7, #15]
 1059 0048 01E0     		b	.L54
 1060              	.L56:
 739:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 740:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
 741:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 742:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     transmit_mailbox = CAN_TxStatus_NoMailBox;
 1061              		.loc 1 742 22
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 33


 1062 004a 0423     		movs	r3, #4
 1063 004c FB73     		strb	r3, [r7, #15]
 1064              	.L54:
 743:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 744:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 745:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (transmit_mailbox != CAN_TxStatus_NoMailBox)
 1065              		.loc 1 745 6
 1066 004e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1067 0050 042B     		cmp	r3, #4
 1068 0052 00F09F80 		beq	.L57
 746:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 747:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set up the Id */
 748:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR &= TMIDxR_TXRQ;
 1069              		.loc 1 748 44
 1070 0056 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1071 0058 7A68     		ldr	r2, [r7, #4]
 1072 005a 1833     		adds	r3, r3, #24
 1073 005c 1B01     		lsls	r3, r3, #4
 1074 005e 1344     		add	r3, r3, r2
 1075 0060 1A68     		ldr	r2, [r3]
 1076 0062 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1077 0064 02F00102 		and	r2, r2, #1
 1078 0068 7968     		ldr	r1, [r7, #4]
 1079 006a 1833     		adds	r3, r3, #24
 1080 006c 1B01     		lsls	r3, r3, #4
 1081 006e 0B44     		add	r3, r3, r1
 1082 0070 1A60     		str	r2, [r3]
 749:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if (TxMessage->IDE == CAN_Id_Standard)
 1083              		.loc 1 749 18
 1084 0072 3B68     		ldr	r3, [r7]
 1085 0074 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1086              		.loc 1 749 8
 1087 0076 002B     		cmp	r3, #0
 1088 0078 13D1     		bne	.L58
 750:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 751:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       assert_param(IS_CAN_STDID(TxMessage->StdId));  
 752:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->StdId << 21) | \
 1089              		.loc 1 752 46
 1090 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1091 007c 7A68     		ldr	r2, [r7, #4]
 1092 007e 1833     		adds	r3, r3, #24
 1093 0080 1B01     		lsls	r3, r3, #4
 1094 0082 1344     		add	r3, r3, r2
 1095 0084 1968     		ldr	r1, [r3]
 1096              		.loc 1 752 60
 1097 0086 3B68     		ldr	r3, [r7]
 1098 0088 1B68     		ldr	r3, [r3]
 1099              		.loc 1 752 68
 1100 008a 5B05     		lsls	r3, r3, #21
 753:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                                   TxMessage->RTR);
 1101              		.loc 1 753 60
 1102 008c 3A68     		ldr	r2, [r7]
 1103 008e 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 752:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                                   TxMessage->RTR);
 1104              		.loc 1 752 75
 1105 0090 1A43     		orrs	r2, r2, r3
 752:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                                   TxMessage->RTR);
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 34


 1106              		.loc 1 752 46
 1107 0092 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1108 0094 0A43     		orrs	r2, r2, r1
 1109 0096 7968     		ldr	r1, [r7, #4]
 1110 0098 1833     		adds	r3, r3, #24
 1111 009a 1B01     		lsls	r3, r3, #4
 1112 009c 0B44     		add	r3, r3, r1
 1113 009e 1A60     		str	r2, [r3]
 1114 00a0 15E0     		b	.L59
 1115              	.L58:
 754:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 755:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
 756:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 757:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       assert_param(IS_CAN_EXTID(TxMessage->ExtId));
 758:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->ExtId << 3) | \
 1116              		.loc 1 758 46
 1117 00a2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1118 00a4 7A68     		ldr	r2, [r7, #4]
 1119 00a6 1833     		adds	r3, r3, #24
 1120 00a8 1B01     		lsls	r3, r3, #4
 1121 00aa 1344     		add	r3, r3, r2
 1122 00ac 1968     		ldr	r1, [r3]
 1123              		.loc 1 758 60
 1124 00ae 3B68     		ldr	r3, [r7]
 1125 00b0 5B68     		ldr	r3, [r3, #4]
 1126              		.loc 1 758 68
 1127 00b2 DB00     		lsls	r3, r3, #3
 759:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                                   TxMessage->IDE | \
 1128              		.loc 1 759 60
 1129 00b4 3A68     		ldr	r2, [r7]
 1130 00b6 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 758:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                                   TxMessage->IDE | \
 1131              		.loc 1 758 74
 1132 00b8 1343     		orrs	r3, r3, r2
 760:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                                   TxMessage->RTR);
 1133              		.loc 1 760 60
 1134 00ba 3A68     		ldr	r2, [r7]
 1135 00bc 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 759:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                                   TxMessage->IDE | \
 1136              		.loc 1 759 66
 1137 00be 1A43     		orrs	r2, r2, r3
 758:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                                   TxMessage->IDE | \
 1138              		.loc 1 758 46
 1139 00c0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1140 00c2 0A43     		orrs	r2, r2, r1
 1141 00c4 7968     		ldr	r1, [r7, #4]
 1142 00c6 1833     		adds	r3, r3, #24
 1143 00c8 1B01     		lsls	r3, r3, #4
 1144 00ca 0B44     		add	r3, r3, r1
 1145 00cc 1A60     		str	r2, [r3]
 1146              	.L59:
 761:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 762:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     
 763:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set up the DLC */
 764:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     TxMessage->DLC &= (uint8_t)0x0000000F;
 1147              		.loc 1 764 20
 1148 00ce 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 35


 1149 00d0 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1150 00d2 03F00F03 		and	r3, r3, #15
 1151 00d6 DAB2     		uxtb	r2, r3
 1152 00d8 3B68     		ldr	r3, [r7]
 1153 00da 9A72     		strb	r2, [r3, #10]
 765:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR &= (uint32_t)0xFFFFFFF0;
 1154              		.loc 1 765 45
 1155 00dc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1156 00de 7A68     		ldr	r2, [r7, #4]
 1157 00e0 1833     		adds	r3, r3, #24
 1158 00e2 1B01     		lsls	r3, r3, #4
 1159 00e4 1344     		add	r3, r3, r2
 1160 00e6 0433     		adds	r3, r3, #4
 1161 00e8 1A68     		ldr	r2, [r3]
 1162 00ea FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1163 00ec 22F00F02 		bic	r2, r2, #15
 1164 00f0 7968     		ldr	r1, [r7, #4]
 1165 00f2 1833     		adds	r3, r3, #24
 1166 00f4 1B01     		lsls	r3, r3, #4
 1167 00f6 0B44     		add	r3, r3, r1
 1168 00f8 0433     		adds	r3, r3, #4
 1169 00fa 1A60     		str	r2, [r3]
 766:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR |= TxMessage->DLC;
 1170              		.loc 1 766 45
 1171 00fc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1172 00fe 7A68     		ldr	r2, [r7, #4]
 1173 0100 1833     		adds	r3, r3, #24
 1174 0102 1B01     		lsls	r3, r3, #4
 1175 0104 1344     		add	r3, r3, r2
 1176 0106 0433     		adds	r3, r3, #4
 1177 0108 1A68     		ldr	r2, [r3]
 1178              		.loc 1 766 57
 1179 010a 3B68     		ldr	r3, [r7]
 1180 010c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1181 010e 1946     		mov	r1, r3
 1182              		.loc 1 766 45
 1183 0110 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1184 0112 0A43     		orrs	r2, r2, r1
 1185 0114 7968     		ldr	r1, [r7, #4]
 1186 0116 1833     		adds	r3, r3, #24
 1187 0118 1B01     		lsls	r3, r3, #4
 1188 011a 0B44     		add	r3, r3, r1
 1189 011c 0433     		adds	r3, r3, #4
 1190 011e 1A60     		str	r2, [r3]
 767:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 768:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Set up the data field */
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDLR = (((uint32_t)TxMessage->Data[3] << 24) | 
 1191              		.loc 1 769 74
 1192 0120 3B68     		ldr	r3, [r7]
 1193 0122 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 1194              		.loc 1 769 78
 1195 0124 1A06     		lsls	r2, r3, #24
 770:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1196              		.loc 1 770 72
 1197 0126 3B68     		ldr	r3, [r7]
 1198 0128 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 1199              		.loc 1 770 76
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 36


 1200 012a 1B04     		lsls	r3, r3, #16
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1201              		.loc 1 769 85
 1202 012c 1A43     		orrs	r2, r2, r3
 771:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 1203              		.loc 1 771 72
 1204 012e 3B68     		ldr	r3, [r7]
 1205 0130 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1206              		.loc 1 771 76
 1207 0132 1B02     		lsls	r3, r3, #8
 770:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1208              		.loc 1 770 83
 1209 0134 1A43     		orrs	r2, r2, r3
 772:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[0]));
 1210              		.loc 1 772 72
 1211 0136 3B68     		ldr	r3, [r7]
 1212 0138 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1213              		.loc 1 772 47
 1214 013a 1946     		mov	r1, r3
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1215              		.loc 1 769 39
 1216 013c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 771:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 1217              		.loc 1 771 82
 1218 013e 0A43     		orrs	r2, r2, r1
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1219              		.loc 1 769 45
 1220 0140 7968     		ldr	r1, [r7, #4]
 1221 0142 1B01     		lsls	r3, r3, #4
 1222 0144 0B44     		add	r3, r3, r1
 1223 0146 03F5C473 		add	r3, r3, #392
 1224 014a 1A60     		str	r2, [r3]
 773:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1225              		.loc 1 773 74
 1226 014c 3B68     		ldr	r3, [r7]
 1227 014e 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 1228              		.loc 1 773 78
 1229 0150 1A06     		lsls	r2, r3, #24
 774:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1230              		.loc 1 774 72
 1231 0152 3B68     		ldr	r3, [r7]
 1232 0154 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 1233              		.loc 1 774 76
 1234 0156 1B04     		lsls	r3, r3, #16
 773:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1235              		.loc 1 773 85
 1236 0158 1A43     		orrs	r2, r2, r3
 775:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 1237              		.loc 1 775 72
 1238 015a 3B68     		ldr	r3, [r7]
 1239 015c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 1240              		.loc 1 775 76
 1241 015e 1B02     		lsls	r3, r3, #8
 774:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1242              		.loc 1 774 83
 1243 0160 1A43     		orrs	r2, r2, r3
 776:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[4]));
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 37


 1244              		.loc 1 776 72
 1245 0162 3B68     		ldr	r3, [r7]
 1246 0164 DB7B     		ldrb	r3, [r3, #15]	@ zero_extendqisi2
 1247              		.loc 1 776 47
 1248 0166 1946     		mov	r1, r3
 773:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1249              		.loc 1 773 39
 1250 0168 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 775:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 1251              		.loc 1 775 82
 1252 016a 0A43     		orrs	r2, r2, r1
 773:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1253              		.loc 1 773 45
 1254 016c 7968     		ldr	r1, [r7, #4]
 1255 016e 1B01     		lsls	r3, r3, #4
 1256 0170 0B44     		add	r3, r3, r1
 1257 0172 03F5C673 		add	r3, r3, #396
 1258 0176 1A60     		str	r2, [r3]
 777:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Request transmission */
 778:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR |= TMIDxR_TXRQ;
 1259              		.loc 1 778 44
 1260 0178 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1261 017a 7A68     		ldr	r2, [r7, #4]
 1262 017c 1833     		adds	r3, r3, #24
 1263 017e 1B01     		lsls	r3, r3, #4
 1264 0180 1344     		add	r3, r3, r2
 1265 0182 1A68     		ldr	r2, [r3]
 1266 0184 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1267 0186 42F00102 		orr	r2, r2, #1
 1268 018a 7968     		ldr	r1, [r7, #4]
 1269 018c 1833     		adds	r3, r3, #24
 1270 018e 1B01     		lsls	r3, r3, #4
 1271 0190 0B44     		add	r3, r3, r1
 1272 0192 1A60     		str	r2, [r3]
 1273              	.L57:
 779:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 780:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return transmit_mailbox;
 1274              		.loc 1 780 10
 1275 0194 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 781:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 1276              		.loc 1 781 1
 1277 0196 1846     		mov	r0, r3
 1278 0198 1437     		adds	r7, r7, #20
 1279              	.LCFI44:
 1280              		.cfi_def_cfa_offset 4
 1281 019a BD46     		mov	sp, r7
 1282              	.LCFI45:
 1283              		.cfi_def_cfa_register 13
 1284              		@ sp needed
 1285 019c 5DF8047B 		ldr	r7, [sp], #4
 1286              	.LCFI46:
 1287              		.cfi_restore 7
 1288              		.cfi_def_cfa_offset 0
 1289 01a0 7047     		bx	lr
 1290              		.cfi_endproc
 1291              	.LFE137:
 1293              		.section	.text.CAN_TransmitStatus,"ax",%progbits
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 38


 1294              		.align	1
 1295              		.global	CAN_TransmitStatus
 1296              		.syntax unified
 1297              		.thumb
 1298              		.thumb_func
 1300              	CAN_TransmitStatus:
 1301              	.LFB138:
 782:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 783:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 784:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Checks the transmission status of a CAN Frame.
 785:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 786:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  TransmitMailbox: the number of the mailbox that is used for transmission.
 787:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 788:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval CAN_TxStatus_Ok if the CAN driver transmits the message, 
 789:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         CAN_TxStatus_Failed in an other case.
 790:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 791:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_TransmitStatus(CAN_TypeDef* CANx, uint8_t TransmitMailbox)
 792:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 1302              		.loc 1 792 1
 1303              		.cfi_startproc
 1304              		@ args = 0, pretend = 0, frame = 16
 1305              		@ frame_needed = 1, uses_anonymous_args = 0
 1306              		@ link register save eliminated.
 1307 0000 80B4     		push	{r7}
 1308              	.LCFI47:
 1309              		.cfi_def_cfa_offset 4
 1310              		.cfi_offset 7, -4
 1311 0002 85B0     		sub	sp, sp, #20
 1312              	.LCFI48:
 1313              		.cfi_def_cfa_offset 24
 1314 0004 00AF     		add	r7, sp, #0
 1315              	.LCFI49:
 1316              		.cfi_def_cfa_register 7
 1317 0006 7860     		str	r0, [r7, #4]
 1318 0008 0B46     		mov	r3, r1
 1319 000a FB70     		strb	r3, [r7, #3]
 793:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint32_t state = 0;
 1320              		.loc 1 793 12
 1321 000c 0023     		movs	r3, #0
 1322 000e FB60     		str	r3, [r7, #12]
 794:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 795:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 796:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 797:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(TransmitMailbox));
 798:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  
 799:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   switch (TransmitMailbox)
 1323              		.loc 1 799 3
 1324 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1325 0012 022B     		cmp	r3, #2
 1326 0014 12D0     		beq	.L62
 1327 0016 022B     		cmp	r3, #2
 1328 0018 16DC     		bgt	.L63
 1329 001a 002B     		cmp	r3, #0
 1330 001c 02D0     		beq	.L64
 1331 001e 012B     		cmp	r3, #1
 1332 0020 06D0     		beq	.L65
 1333 0022 11E0     		b	.L63
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 39


 1334              	.L64:
 800:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 801:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TXMAILBOX_0): 
 802:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0);
 1335              		.loc 1 802 21
 1336 0024 7B68     		ldr	r3, [r7, #4]
 1337 0026 9A68     		ldr	r2, [r3, #8]
 1338              		.loc 1 802 13
 1339 0028 314B     		ldr	r3, .L77
 1340 002a 1340     		ands	r3, r3, r2
 1341 002c FB60     		str	r3, [r7, #12]
 803:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1342              		.loc 1 803 7
 1343 002e 0EE0     		b	.L66
 1344              	.L65:
 804:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TXMAILBOX_1): 
 805:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1);
 1345              		.loc 1 805 21
 1346 0030 7B68     		ldr	r3, [r7, #4]
 1347 0032 9A68     		ldr	r2, [r3, #8]
 1348              		.loc 1 805 13
 1349 0034 2F4B     		ldr	r3, .L77+4
 1350 0036 1340     		ands	r3, r3, r2
 1351 0038 FB60     		str	r3, [r7, #12]
 806:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1352              		.loc 1 806 7
 1353 003a 08E0     		b	.L66
 1354              	.L62:
 807:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TXMAILBOX_2): 
 808:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2);
 1355              		.loc 1 808 21
 1356 003c 7B68     		ldr	r3, [r7, #4]
 1357 003e 9A68     		ldr	r2, [r3, #8]
 1358              		.loc 1 808 13
 1359 0040 2D4B     		ldr	r3, .L77+8
 1360 0042 1340     		ands	r3, r3, r2
 1361 0044 FB60     		str	r3, [r7, #12]
 809:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1362              		.loc 1 809 7
 1363 0046 02E0     		b	.L66
 1364              	.L63:
 810:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     default:
 811:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       state = CAN_TxStatus_Failed;
 1365              		.loc 1 811 13
 1366 0048 0023     		movs	r3, #0
 1367 004a FB60     		str	r3, [r7, #12]
 812:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1368              		.loc 1 812 7
 1369 004c 00BF     		nop
 1370              	.L66:
 813:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 814:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   switch (state)
 1371              		.loc 1 814 3
 1372 004e FB68     		ldr	r3, [r7, #12]
 1373 0050 294A     		ldr	r2, .L77+8
 1374 0052 9342     		cmp	r3, r2
 1375 0054 3DD0     		beq	.L67
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 40


 1376 0056 FB68     		ldr	r3, [r7, #12]
 1377 0058 274A     		ldr	r2, .L77+8
 1378 005a 9342     		cmp	r3, r2
 1379 005c 3CD8     		bhi	.L68
 1380 005e FB68     		ldr	r3, [r7, #12]
 1381 0060 264A     		ldr	r2, .L77+12
 1382 0062 9342     		cmp	r3, r2
 1383 0064 2CD0     		beq	.L69
 1384 0066 FB68     		ldr	r3, [r7, #12]
 1385 0068 244A     		ldr	r2, .L77+12
 1386 006a 9342     		cmp	r3, r2
 1387 006c 34D8     		bhi	.L68
 1388 006e FB68     		ldr	r3, [r7, #12]
 1389 0070 204A     		ldr	r2, .L77+4
 1390 0072 9342     		cmp	r3, r2
 1391 0074 2AD0     		beq	.L70
 1392 0076 FB68     		ldr	r3, [r7, #12]
 1393 0078 1E4A     		ldr	r2, .L77+4
 1394 007a 9342     		cmp	r3, r2
 1395 007c 2CD8     		bhi	.L68
 1396 007e FB68     		ldr	r3, [r7, #12]
 1397 0080 1F4A     		ldr	r2, .L77+16
 1398 0082 9342     		cmp	r3, r2
 1399 0084 19D0     		beq	.L71
 1400 0086 FB68     		ldr	r3, [r7, #12]
 1401 0088 1D4A     		ldr	r2, .L77+16
 1402 008a 9342     		cmp	r3, r2
 1403 008c 24D8     		bhi	.L68
 1404 008e FB68     		ldr	r3, [r7, #12]
 1405 0090 174A     		ldr	r2, .L77
 1406 0092 9342     		cmp	r3, r2
 1407 0094 17D0     		beq	.L72
 1408 0096 FB68     		ldr	r3, [r7, #12]
 1409 0098 154A     		ldr	r2, .L77
 1410 009a 9342     		cmp	r3, r2
 1411 009c 1CD8     		bhi	.L68
 1412 009e FB68     		ldr	r3, [r7, #12]
 1413 00a0 002B     		cmp	r3, #0
 1414 00a2 04D0     		beq	.L73
 1415 00a4 FB68     		ldr	r3, [r7, #12]
 1416 00a6 174A     		ldr	r2, .L77+20
 1417 00a8 9342     		cmp	r3, r2
 1418 00aa 03D0     		beq	.L74
 1419 00ac 14E0     		b	.L68
 1420              	.L73:
 815:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 816:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* transmit pending  */
 817:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (0x0): state = CAN_TxStatus_Pending;
 1421              		.loc 1 817 23
 1422 00ae 0223     		movs	r3, #2
 1423 00b0 FB60     		str	r3, [r7, #12]
 818:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1424              		.loc 1 818 7
 1425 00b2 14E0     		b	.L75
 1426              	.L74:
 819:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* transmit failed  */
 820:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****      case (CAN_TSR_RQCP0 | CAN_TSR_TME0): state = CAN_TxStatus_Failed;
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 41


 1427              		.loc 1 820 49
 1428 00b4 0023     		movs	r3, #0
 1429 00b6 FB60     		str	r3, [r7, #12]
 821:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1430              		.loc 1 821 7
 1431 00b8 11E0     		b	.L75
 1432              	.L71:
 822:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****      case (CAN_TSR_RQCP1 | CAN_TSR_TME1): state = CAN_TxStatus_Failed;
 1433              		.loc 1 822 49
 1434 00ba 0023     		movs	r3, #0
 1435 00bc FB60     		str	r3, [r7, #12]
 823:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1436              		.loc 1 823 7
 1437 00be 0EE0     		b	.L75
 1438              	.L69:
 824:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****      case (CAN_TSR_RQCP2 | CAN_TSR_TME2): state = CAN_TxStatus_Failed;
 1439              		.loc 1 824 49
 1440 00c0 0023     		movs	r3, #0
 1441 00c2 FB60     		str	r3, [r7, #12]
 825:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1442              		.loc 1 825 7
 1443 00c4 0BE0     		b	.L75
 1444              	.L72:
 826:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* transmit succeeded  */
 827:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0):state = CAN_TxStatus_Ok;
 1445              		.loc 1 827 63
 1446 00c6 0123     		movs	r3, #1
 1447 00c8 FB60     		str	r3, [r7, #12]
 828:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1448              		.loc 1 828 7
 1449 00ca 08E0     		b	.L75
 1450              	.L70:
 829:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1):state = CAN_TxStatus_Ok;
 1451              		.loc 1 829 63
 1452 00cc 0123     		movs	r3, #1
 1453 00ce FB60     		str	r3, [r7, #12]
 830:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1454              		.loc 1 830 7
 1455 00d0 05E0     		b	.L75
 1456              	.L67:
 831:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2):state = CAN_TxStatus_Ok;
 1457              		.loc 1 831 63
 1458 00d2 0123     		movs	r3, #1
 1459 00d4 FB60     		str	r3, [r7, #12]
 832:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1460              		.loc 1 832 7
 1461 00d6 02E0     		b	.L75
 1462              	.L68:
 833:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     default: state = CAN_TxStatus_Failed;
 1463              		.loc 1 833 20
 1464 00d8 0023     		movs	r3, #0
 1465 00da FB60     		str	r3, [r7, #12]
 834:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1466              		.loc 1 834 7
 1467 00dc 00BF     		nop
 1468              	.L75:
 835:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 42


 836:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return (uint8_t) state;
 1469              		.loc 1 836 10
 1470 00de FB68     		ldr	r3, [r7, #12]
 1471 00e0 DBB2     		uxtb	r3, r3
 837:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 1472              		.loc 1 837 1
 1473 00e2 1846     		mov	r0, r3
 1474 00e4 1437     		adds	r7, r7, #20
 1475              	.LCFI50:
 1476              		.cfi_def_cfa_offset 4
 1477 00e6 BD46     		mov	sp, r7
 1478              	.LCFI51:
 1479              		.cfi_def_cfa_register 13
 1480              		@ sp needed
 1481 00e8 5DF8047B 		ldr	r7, [sp], #4
 1482              	.LCFI52:
 1483              		.cfi_restore 7
 1484              		.cfi_def_cfa_offset 0
 1485 00ec 7047     		bx	lr
 1486              	.L78:
 1487 00ee 00BF     		.align	2
 1488              	.L77:
 1489 00f0 03000004 		.word	67108867
 1490 00f4 00030008 		.word	134218496
 1491 00f8 00000310 		.word	268632064
 1492 00fc 00000110 		.word	268500992
 1493 0100 00010008 		.word	134217984
 1494 0104 01000004 		.word	67108865
 1495              		.cfi_endproc
 1496              	.LFE138:
 1498              		.section	.text.CAN_CancelTransmit,"ax",%progbits
 1499              		.align	1
 1500              		.global	CAN_CancelTransmit
 1501              		.syntax unified
 1502              		.thumb
 1503              		.thumb_func
 1505              	CAN_CancelTransmit:
 1506              	.LFB139:
 838:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 839:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 840:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Cancels a transmit request.
 841:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 842:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  Mailbox: Mailbox number.
 843:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 844:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 845:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 846:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_CancelTransmit(CAN_TypeDef* CANx, uint8_t Mailbox)
 847:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 1507              		.loc 1 847 1
 1508              		.cfi_startproc
 1509              		@ args = 0, pretend = 0, frame = 8
 1510              		@ frame_needed = 1, uses_anonymous_args = 0
 1511              		@ link register save eliminated.
 1512 0000 80B4     		push	{r7}
 1513              	.LCFI53:
 1514              		.cfi_def_cfa_offset 4
 1515              		.cfi_offset 7, -4
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 43


 1516 0002 83B0     		sub	sp, sp, #12
 1517              	.LCFI54:
 1518              		.cfi_def_cfa_offset 16
 1519 0004 00AF     		add	r7, sp, #0
 1520              	.LCFI55:
 1521              		.cfi_def_cfa_register 7
 1522 0006 7860     		str	r0, [r7, #4]
 1523 0008 0B46     		mov	r3, r1
 1524 000a FB70     		strb	r3, [r7, #3]
 848:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 849:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 850:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(Mailbox));
 851:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* abort transmission */
 852:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   switch (Mailbox)
 1525              		.loc 1 852 3
 1526 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1527 000e 022B     		cmp	r3, #2
 1528 0010 14D0     		beq	.L80
 1529 0012 022B     		cmp	r3, #2
 1530 0014 19DC     		bgt	.L85
 1531 0016 002B     		cmp	r3, #0
 1532 0018 02D0     		beq	.L82
 1533 001a 012B     		cmp	r3, #1
 1534 001c 07D0     		beq	.L83
 853:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 854:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TXMAILBOX_0): CANx->TSR |= CAN_TSR_ABRQ0;
 855:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 856:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TXMAILBOX_1): CANx->TSR |= CAN_TSR_ABRQ1;
 857:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 858:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TXMAILBOX_2): CANx->TSR |= CAN_TSR_ABRQ2;
 859:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 860:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     default:
 861:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1535              		.loc 1 861 7
 1536 001e 14E0     		b	.L85
 1537              	.L82:
 854:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1538              		.loc 1 854 39
 1539 0020 7B68     		ldr	r3, [r7, #4]
 1540 0022 9B68     		ldr	r3, [r3, #8]
 1541 0024 43F08002 		orr	r2, r3, #128
 1542 0028 7B68     		ldr	r3, [r7, #4]
 1543 002a 9A60     		str	r2, [r3, #8]
 855:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TXMAILBOX_1): CANx->TSR |= CAN_TSR_ABRQ1;
 1544              		.loc 1 855 7
 1545 002c 0EE0     		b	.L84
 1546              	.L83:
 856:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1547              		.loc 1 856 39
 1548 002e 7B68     		ldr	r3, [r7, #4]
 1549 0030 9B68     		ldr	r3, [r3, #8]
 1550 0032 43F40042 		orr	r2, r3, #32768
 1551 0036 7B68     		ldr	r3, [r7, #4]
 1552 0038 9A60     		str	r2, [r3, #8]
 857:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case (CAN_TXMAILBOX_2): CANx->TSR |= CAN_TSR_ABRQ2;
 1553              		.loc 1 857 7
 1554 003a 07E0     		b	.L84
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 44


 1555              	.L80:
 858:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 1556              		.loc 1 858 39
 1557 003c 7B68     		ldr	r3, [r7, #4]
 1558 003e 9B68     		ldr	r3, [r3, #8]
 1559 0040 43F40002 		orr	r2, r3, #8388608
 1560 0044 7B68     		ldr	r3, [r7, #4]
 1561 0046 9A60     		str	r2, [r3, #8]
 859:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     default:
 1562              		.loc 1 859 7
 1563 0048 00E0     		b	.L84
 1564              	.L85:
 1565              		.loc 1 861 7
 1566 004a 00BF     		nop
 1567              	.L84:
 862:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 863:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 1568              		.loc 1 863 1
 1569 004c 00BF     		nop
 1570 004e 0C37     		adds	r7, r7, #12
 1571              	.LCFI56:
 1572              		.cfi_def_cfa_offset 4
 1573 0050 BD46     		mov	sp, r7
 1574              	.LCFI57:
 1575              		.cfi_def_cfa_register 13
 1576              		@ sp needed
 1577 0052 5DF8047B 		ldr	r7, [sp], #4
 1578              	.LCFI58:
 1579              		.cfi_restore 7
 1580              		.cfi_def_cfa_offset 0
 1581 0056 7047     		bx	lr
 1582              		.cfi_endproc
 1583              	.LFE139:
 1585              		.section	.text.CAN_Receive,"ax",%progbits
 1586              		.align	1
 1587              		.global	CAN_Receive
 1588              		.syntax unified
 1589              		.thumb
 1590              		.thumb_func
 1592              	CAN_Receive:
 1593              	.LFB140:
 864:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 865:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @}
 866:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 867:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 868:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 869:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @defgroup CAN_Group3 CAN Frames Reception functions
 870:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *  @brief    CAN Frames Reception functions 
 871:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *
 872:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @verbatim    
 873:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================
 874:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ##### CAN Frames Reception functions #####
 875:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================  
 876:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..] This section provides functions allowing to 
 877:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Receive a correct CAN frame
 878:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Release a specified receive FIFO (2 FIFOs are available)
 879:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Return the number of the pending received CAN frames
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 45


 880:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    
 881:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @endverbatim
 882:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
 883:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 884:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 885:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 886:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Receives a correct CAN frame.
 887:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 888:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 889:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  RxMessage: pointer to a structure receive frame which contains CAN Id,
 890:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         CAN DLC, CAN data and FMI number.
 891:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 892:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 893:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 894:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_Receive(CAN_TypeDef* CANx, uint8_t FIFONumber, CanRxMsg* RxMessage)
 895:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 1594              		.loc 1 895 1
 1595              		.cfi_startproc
 1596              		@ args = 0, pretend = 0, frame = 16
 1597              		@ frame_needed = 1, uses_anonymous_args = 0
 1598              		@ link register save eliminated.
 1599 0000 80B4     		push	{r7}
 1600              	.LCFI59:
 1601              		.cfi_def_cfa_offset 4
 1602              		.cfi_offset 7, -4
 1603 0002 85B0     		sub	sp, sp, #20
 1604              	.LCFI60:
 1605              		.cfi_def_cfa_offset 24
 1606 0004 00AF     		add	r7, sp, #0
 1607              	.LCFI61:
 1608              		.cfi_def_cfa_register 7
 1609 0006 F860     		str	r0, [r7, #12]
 1610 0008 0B46     		mov	r3, r1
 1611 000a 7A60     		str	r2, [r7, #4]
 1612 000c FB72     		strb	r3, [r7, #11]
 896:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 897:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 898:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 899:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Get the Id */
 900:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->IDE = (uint8_t)0x04 & CANx->sFIFOMailBox[FIFONumber].RIR;
 1613              		.loc 1 900 66
 1614 000e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1615 0010 FA68     		ldr	r2, [r7, #12]
 1616 0012 1B33     		adds	r3, r3, #27
 1617 0014 1B01     		lsls	r3, r3, #4
 1618 0016 1344     		add	r3, r3, r2
 1619 0018 1B68     		ldr	r3, [r3]
 1620              		.loc 1 900 34
 1621 001a DBB2     		uxtb	r3, r3
 1622 001c 03F00403 		and	r3, r3, #4
 1623 0020 DAB2     		uxtb	r2, r3
 1624              		.loc 1 900 18
 1625 0022 7B68     		ldr	r3, [r7, #4]
 1626 0024 1A72     		strb	r2, [r3, #8]
 901:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (RxMessage->IDE == CAN_Id_Standard)
 1627              		.loc 1 901 16
 1628 0026 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 46


 1629 0028 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1630              		.loc 1 901 6
 1631 002a 002B     		cmp	r3, #0
 1632 002c 0BD1     		bne	.L87
 902:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 903:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RxMessage->StdId = (uint32_t)0x000007FF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 21);
 1633              		.loc 1 903 78
 1634 002e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1635 0030 FA68     		ldr	r2, [r7, #12]
 1636 0032 1B33     		adds	r3, r3, #27
 1637 0034 1B01     		lsls	r3, r3, #4
 1638 0036 1344     		add	r3, r3, r2
 1639 0038 1B68     		ldr	r3, [r3]
 1640              		.loc 1 903 83
 1641 003a 5B0D     		lsrs	r3, r3, #21
 1642              		.loc 1 903 45
 1643 003c C3F30A02 		ubfx	r2, r3, #0, #11
 1644              		.loc 1 903 22
 1645 0040 7B68     		ldr	r3, [r7, #4]
 1646 0042 1A60     		str	r2, [r3]
 1647 0044 0AE0     		b	.L88
 1648              	.L87:
 904:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 905:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
 906:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 907:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     RxMessage->ExtId = (uint32_t)0x1FFFFFFF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 3);
 1649              		.loc 1 907 78
 1650 0046 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1651 0048 FA68     		ldr	r2, [r7, #12]
 1652 004a 1B33     		adds	r3, r3, #27
 1653 004c 1B01     		lsls	r3, r3, #4
 1654 004e 1344     		add	r3, r3, r2
 1655 0050 1B68     		ldr	r3, [r3]
 1656              		.loc 1 907 83
 1657 0052 DB08     		lsrs	r3, r3, #3
 1658              		.loc 1 907 45
 1659 0054 23F06042 		bic	r2, r3, #-536870912
 1660              		.loc 1 907 22
 1661 0058 7B68     		ldr	r3, [r7, #4]
 1662 005a 5A60     		str	r2, [r3, #4]
 1663              	.L88:
 908:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 909:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
 910:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->RTR = (uint8_t)0x02 & CANx->sFIFOMailBox[FIFONumber].RIR;
 1664              		.loc 1 910 66
 1665 005c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1666 005e FA68     		ldr	r2, [r7, #12]
 1667 0060 1B33     		adds	r3, r3, #27
 1668 0062 1B01     		lsls	r3, r3, #4
 1669 0064 1344     		add	r3, r3, r2
 1670 0066 1B68     		ldr	r3, [r3]
 1671              		.loc 1 910 34
 1672 0068 DBB2     		uxtb	r3, r3
 1673 006a 03F00203 		and	r3, r3, #2
 1674 006e DAB2     		uxtb	r2, r3
 1675              		.loc 1 910 18
 1676 0070 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 47


 1677 0072 5A72     		strb	r2, [r3, #9]
 911:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Get the DLC */
 912:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->DLC = (uint8_t)0x0F & CANx->sFIFOMailBox[FIFONumber].RDTR;
 1678              		.loc 1 912 66
 1679 0074 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1680 0076 FA68     		ldr	r2, [r7, #12]
 1681 0078 1B33     		adds	r3, r3, #27
 1682 007a 1B01     		lsls	r3, r3, #4
 1683 007c 1344     		add	r3, r3, r2
 1684 007e 0433     		adds	r3, r3, #4
 1685 0080 1B68     		ldr	r3, [r3]
 1686              		.loc 1 912 34
 1687 0082 DBB2     		uxtb	r3, r3
 1688 0084 03F00F03 		and	r3, r3, #15
 1689 0088 DAB2     		uxtb	r2, r3
 1690              		.loc 1 912 18
 1691 008a 7B68     		ldr	r3, [r7, #4]
 1692 008c 9A72     		strb	r2, [r3, #10]
 913:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Get the FMI */
 914:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->FMI = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDTR >> 8);
 1693              		.loc 1 914 67
 1694 008e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1695 0090 FA68     		ldr	r2, [r7, #12]
 1696 0092 1B33     		adds	r3, r3, #27
 1697 0094 1B01     		lsls	r3, r3, #4
 1698 0096 1344     		add	r3, r3, r2
 1699 0098 0433     		adds	r3, r3, #4
 1700 009a 1B68     		ldr	r3, [r3]
 1701              		.loc 1 914 73
 1702 009c 1B0A     		lsrs	r3, r3, #8
 1703              		.loc 1 914 18
 1704 009e DAB2     		uxtb	r2, r3
 1705 00a0 7B68     		ldr	r3, [r7, #4]
 1706 00a2 DA74     		strb	r2, [r3, #19]
 915:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Get the data field */
 916:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->Data[0] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDLR;
 1707              		.loc 1 916 70
 1708 00a4 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1709 00a6 FA68     		ldr	r2, [r7, #12]
 1710 00a8 1B01     		lsls	r3, r3, #4
 1711 00aa 1344     		add	r3, r3, r2
 1712 00ac 03F5DC73 		add	r3, r3, #440
 1713 00b0 1B68     		ldr	r3, [r3]
 1714              		.loc 1 916 22
 1715 00b2 DAB2     		uxtb	r2, r3
 1716 00b4 7B68     		ldr	r3, [r7, #4]
 1717 00b6 DA72     		strb	r2, [r3, #11]
 917:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->Data[1] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 8);
 1718              		.loc 1 917 71
 1719 00b8 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1720 00ba FA68     		ldr	r2, [r7, #12]
 1721 00bc 1B01     		lsls	r3, r3, #4
 1722 00be 1344     		add	r3, r3, r2
 1723 00c0 03F5DC73 		add	r3, r3, #440
 1724 00c4 1B68     		ldr	r3, [r3]
 1725              		.loc 1 917 77
 1726 00c6 1B0A     		lsrs	r3, r3, #8
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 48


 1727              		.loc 1 917 22
 1728 00c8 DAB2     		uxtb	r2, r3
 1729 00ca 7B68     		ldr	r3, [r7, #4]
 1730 00cc 1A73     		strb	r2, [r3, #12]
 918:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->Data[2] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 16);
 1731              		.loc 1 918 71
 1732 00ce FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1733 00d0 FA68     		ldr	r2, [r7, #12]
 1734 00d2 1B01     		lsls	r3, r3, #4
 1735 00d4 1344     		add	r3, r3, r2
 1736 00d6 03F5DC73 		add	r3, r3, #440
 1737 00da 1B68     		ldr	r3, [r3]
 1738              		.loc 1 918 77
 1739 00dc 1B0C     		lsrs	r3, r3, #16
 1740              		.loc 1 918 22
 1741 00de DAB2     		uxtb	r2, r3
 1742 00e0 7B68     		ldr	r3, [r7, #4]
 1743 00e2 5A73     		strb	r2, [r3, #13]
 919:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->Data[3] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 24);
 1744              		.loc 1 919 71
 1745 00e4 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1746 00e6 FA68     		ldr	r2, [r7, #12]
 1747 00e8 1B01     		lsls	r3, r3, #4
 1748 00ea 1344     		add	r3, r3, r2
 1749 00ec 03F5DC73 		add	r3, r3, #440
 1750 00f0 1B68     		ldr	r3, [r3]
 1751              		.loc 1 919 77
 1752 00f2 1B0E     		lsrs	r3, r3, #24
 1753              		.loc 1 919 22
 1754 00f4 DAB2     		uxtb	r2, r3
 1755 00f6 7B68     		ldr	r3, [r7, #4]
 1756 00f8 9A73     		strb	r2, [r3, #14]
 920:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->Data[4] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDHR;
 1757              		.loc 1 920 70
 1758 00fa FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1759 00fc FA68     		ldr	r2, [r7, #12]
 1760 00fe 1B01     		lsls	r3, r3, #4
 1761 0100 1344     		add	r3, r3, r2
 1762 0102 03F5DE73 		add	r3, r3, #444
 1763 0106 1B68     		ldr	r3, [r3]
 1764              		.loc 1 920 22
 1765 0108 DAB2     		uxtb	r2, r3
 1766 010a 7B68     		ldr	r3, [r7, #4]
 1767 010c DA73     		strb	r2, [r3, #15]
 921:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->Data[5] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 8);
 1768              		.loc 1 921 71
 1769 010e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1770 0110 FA68     		ldr	r2, [r7, #12]
 1771 0112 1B01     		lsls	r3, r3, #4
 1772 0114 1344     		add	r3, r3, r2
 1773 0116 03F5DE73 		add	r3, r3, #444
 1774 011a 1B68     		ldr	r3, [r3]
 1775              		.loc 1 921 77
 1776 011c 1B0A     		lsrs	r3, r3, #8
 1777              		.loc 1 921 22
 1778 011e DAB2     		uxtb	r2, r3
 1779 0120 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 49


 1780 0122 1A74     		strb	r2, [r3, #16]
 922:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->Data[6] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 16);
 1781              		.loc 1 922 71
 1782 0124 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1783 0126 FA68     		ldr	r2, [r7, #12]
 1784 0128 1B01     		lsls	r3, r3, #4
 1785 012a 1344     		add	r3, r3, r2
 1786 012c 03F5DE73 		add	r3, r3, #444
 1787 0130 1B68     		ldr	r3, [r3]
 1788              		.loc 1 922 77
 1789 0132 1B0C     		lsrs	r3, r3, #16
 1790              		.loc 1 922 22
 1791 0134 DAB2     		uxtb	r2, r3
 1792 0136 7B68     		ldr	r3, [r7, #4]
 1793 0138 5A74     		strb	r2, [r3, #17]
 923:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   RxMessage->Data[7] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 24);
 1794              		.loc 1 923 71
 1795 013a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1796 013c FA68     		ldr	r2, [r7, #12]
 1797 013e 1B01     		lsls	r3, r3, #4
 1798 0140 1344     		add	r3, r3, r2
 1799 0142 03F5DE73 		add	r3, r3, #444
 1800 0146 1B68     		ldr	r3, [r3]
 1801              		.loc 1 923 77
 1802 0148 1B0E     		lsrs	r3, r3, #24
 1803              		.loc 1 923 22
 1804 014a DAB2     		uxtb	r2, r3
 1805 014c 7B68     		ldr	r3, [r7, #4]
 1806 014e 9A74     		strb	r2, [r3, #18]
 924:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Release the FIFO */
 925:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Release FIFO0 */
 926:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (FIFONumber == CAN_FIFO0)
 1807              		.loc 1 926 6
 1808 0150 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1809 0152 002B     		cmp	r3, #0
 1810 0154 06D1     		bne	.L89
 927:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 928:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 1811              		.loc 1 928 16
 1812 0156 FB68     		ldr	r3, [r7, #12]
 1813 0158 DB68     		ldr	r3, [r3, #12]
 1814 015a 43F02002 		orr	r2, r3, #32
 1815 015e FB68     		ldr	r3, [r7, #12]
 1816 0160 DA60     		str	r2, [r3, #12]
 929:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 930:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Release FIFO1 */
 931:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 932:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 933:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 934:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 935:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 1817              		.loc 1 935 1
 1818 0162 05E0     		b	.L91
 1819              	.L89:
 933:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 1820              		.loc 1 933 16
 1821 0164 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 50


 1822 0166 1B69     		ldr	r3, [r3, #16]
 1823 0168 43F02002 		orr	r2, r3, #32
 1824 016c FB68     		ldr	r3, [r7, #12]
 1825 016e 1A61     		str	r2, [r3, #16]
 1826              	.L91:
 1827              		.loc 1 935 1
 1828 0170 00BF     		nop
 1829 0172 1437     		adds	r7, r7, #20
 1830              	.LCFI62:
 1831              		.cfi_def_cfa_offset 4
 1832 0174 BD46     		mov	sp, r7
 1833              	.LCFI63:
 1834              		.cfi_def_cfa_register 13
 1835              		@ sp needed
 1836 0176 5DF8047B 		ldr	r7, [sp], #4
 1837              	.LCFI64:
 1838              		.cfi_restore 7
 1839              		.cfi_def_cfa_offset 0
 1840 017a 7047     		bx	lr
 1841              		.cfi_endproc
 1842              	.LFE140:
 1844              		.section	.text.CAN_FIFORelease,"ax",%progbits
 1845              		.align	1
 1846              		.global	CAN_FIFORelease
 1847              		.syntax unified
 1848              		.thumb
 1849              		.thumb_func
 1851              	CAN_FIFORelease:
 1852              	.LFB141:
 936:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 937:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 938:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Releases the specified receive FIFO.
 939:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 940:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  FIFONumber: FIFO to release, CAN_FIFO0 or CAN_FIFO1.
 941:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 942:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
 943:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 944:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_FIFORelease(CAN_TypeDef* CANx, uint8_t FIFONumber)
 945:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 1853              		.loc 1 945 1
 1854              		.cfi_startproc
 1855              		@ args = 0, pretend = 0, frame = 8
 1856              		@ frame_needed = 1, uses_anonymous_args = 0
 1857              		@ link register save eliminated.
 1858 0000 80B4     		push	{r7}
 1859              	.LCFI65:
 1860              		.cfi_def_cfa_offset 4
 1861              		.cfi_offset 7, -4
 1862 0002 83B0     		sub	sp, sp, #12
 1863              	.LCFI66:
 1864              		.cfi_def_cfa_offset 16
 1865 0004 00AF     		add	r7, sp, #0
 1866              	.LCFI67:
 1867              		.cfi_def_cfa_register 7
 1868 0006 7860     		str	r0, [r7, #4]
 1869 0008 0B46     		mov	r3, r1
 1870 000a FB70     		strb	r3, [r7, #3]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 51


 946:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 947:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 948:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 949:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Release FIFO0 */
 950:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (FIFONumber == CAN_FIFO0)
 1871              		.loc 1 950 6
 1872 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1873 000e 002B     		cmp	r3, #0
 1874 0010 06D1     		bne	.L93
 951:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 952:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 1875              		.loc 1 952 16
 1876 0012 7B68     		ldr	r3, [r7, #4]
 1877 0014 DB68     		ldr	r3, [r3, #12]
 1878 0016 43F02002 		orr	r2, r3, #32
 1879 001a 7B68     		ldr	r3, [r7, #4]
 1880 001c DA60     		str	r2, [r3, #12]
 953:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 954:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Release FIFO1 */
 955:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 956:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 957:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 958:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 959:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 1881              		.loc 1 959 1
 1882 001e 05E0     		b	.L95
 1883              	.L93:
 957:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 1884              		.loc 1 957 16
 1885 0020 7B68     		ldr	r3, [r7, #4]
 1886 0022 1B69     		ldr	r3, [r3, #16]
 1887 0024 43F02002 		orr	r2, r3, #32
 1888 0028 7B68     		ldr	r3, [r7, #4]
 1889 002a 1A61     		str	r2, [r3, #16]
 1890              	.L95:
 1891              		.loc 1 959 1
 1892 002c 00BF     		nop
 1893 002e 0C37     		adds	r7, r7, #12
 1894              	.LCFI68:
 1895              		.cfi_def_cfa_offset 4
 1896 0030 BD46     		mov	sp, r7
 1897              	.LCFI69:
 1898              		.cfi_def_cfa_register 13
 1899              		@ sp needed
 1900 0032 5DF8047B 		ldr	r7, [sp], #4
 1901              	.LCFI70:
 1902              		.cfi_restore 7
 1903              		.cfi_def_cfa_offset 0
 1904 0036 7047     		bx	lr
 1905              		.cfi_endproc
 1906              	.LFE141:
 1908              		.section	.text.CAN_MessagePending,"ax",%progbits
 1909              		.align	1
 1910              		.global	CAN_MessagePending
 1911              		.syntax unified
 1912              		.thumb
 1913              		.thumb_func
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 52


 1915              	CAN_MessagePending:
 1916              	.LFB142:
 960:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 961:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 962:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Returns the number of pending received messages.
 963:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
 964:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 965:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
 966:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval NbMessage : which is the number of pending message.
 967:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 968:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_MessagePending(CAN_TypeDef* CANx, uint8_t FIFONumber)
 969:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 1917              		.loc 1 969 1
 1918              		.cfi_startproc
 1919              		@ args = 0, pretend = 0, frame = 16
 1920              		@ frame_needed = 1, uses_anonymous_args = 0
 1921              		@ link register save eliminated.
 1922 0000 80B4     		push	{r7}
 1923              	.LCFI71:
 1924              		.cfi_def_cfa_offset 4
 1925              		.cfi_offset 7, -4
 1926 0002 85B0     		sub	sp, sp, #20
 1927              	.LCFI72:
 1928              		.cfi_def_cfa_offset 24
 1929 0004 00AF     		add	r7, sp, #0
 1930              	.LCFI73:
 1931              		.cfi_def_cfa_register 7
 1932 0006 7860     		str	r0, [r7, #4]
 1933 0008 0B46     		mov	r3, r1
 1934 000a FB70     		strb	r3, [r7, #3]
 970:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t message_pending=0;
 1935              		.loc 1 970 11
 1936 000c 0023     		movs	r3, #0
 1937 000e FB73     		strb	r3, [r7, #15]
 971:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
 972:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 973:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 974:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (FIFONumber == CAN_FIFO0)
 1938              		.loc 1 974 6
 1939 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1940 0012 002B     		cmp	r3, #0
 1941 0014 06D1     		bne	.L97
 975:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 976:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     message_pending = (uint8_t)(CANx->RF0R&(uint32_t)0x03);
 1942              		.loc 1 976 37
 1943 0016 7B68     		ldr	r3, [r7, #4]
 1944 0018 DB68     		ldr	r3, [r3, #12]
 1945              		.loc 1 976 23
 1946 001a DBB2     		uxtb	r3, r3
 1947              		.loc 1 976 21
 1948 001c 03F00303 		and	r3, r3, #3
 1949 0020 FB73     		strb	r3, [r7, #15]
 1950 0022 0BE0     		b	.L98
 1951              	.L97:
 977:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 978:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else if (FIFONumber == CAN_FIFO1)
 1952              		.loc 1 978 11
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 53


 1953 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1954 0026 012B     		cmp	r3, #1
 1955 0028 06D1     		bne	.L99
 979:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 980:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     message_pending = (uint8_t)(CANx->RF1R&(uint32_t)0x03);
 1956              		.loc 1 980 37
 1957 002a 7B68     		ldr	r3, [r7, #4]
 1958 002c 1B69     		ldr	r3, [r3, #16]
 1959              		.loc 1 980 23
 1960 002e DBB2     		uxtb	r3, r3
 1961              		.loc 1 980 21
 1962 0030 03F00303 		and	r3, r3, #3
 1963 0034 FB73     		strb	r3, [r7, #15]
 1964 0036 01E0     		b	.L98
 1965              	.L99:
 981:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 982:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
 983:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 984:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     message_pending = 0;
 1966              		.loc 1 984 21
 1967 0038 0023     		movs	r3, #0
 1968 003a FB73     		strb	r3, [r7, #15]
 1969              	.L98:
 985:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 986:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return message_pending;
 1970              		.loc 1 986 10
 1971 003c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 987:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 1972              		.loc 1 987 1
 1973 003e 1846     		mov	r0, r3
 1974 0040 1437     		adds	r7, r7, #20
 1975              	.LCFI74:
 1976              		.cfi_def_cfa_offset 4
 1977 0042 BD46     		mov	sp, r7
 1978              	.LCFI75:
 1979              		.cfi_def_cfa_register 13
 1980              		@ sp needed
 1981 0044 5DF8047B 		ldr	r7, [sp], #4
 1982              	.LCFI76:
 1983              		.cfi_restore 7
 1984              		.cfi_def_cfa_offset 0
 1985 0048 7047     		bx	lr
 1986              		.cfi_endproc
 1987              	.LFE142:
 1989              		.section	.text.CAN_OperatingModeRequest,"ax",%progbits
 1990              		.align	1
 1991              		.global	CAN_OperatingModeRequest
 1992              		.syntax unified
 1993              		.thumb
 1994              		.thumb_func
 1996              	CAN_OperatingModeRequest:
 1997              	.LFB143:
 988:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
 989:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @}
 990:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
 991:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 992:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 54


 993:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @defgroup CAN_Group4 CAN Operation modes functions
 994:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *  @brief    CAN Operation modes functions 
 995:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *
 996:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @verbatim    
 997:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================
 998:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                     ##### CAN Operation modes functions #####
 999:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================  
1000:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..] This section provides functions allowing to select the CAN Operation modes
1001:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) sleep mode
1002:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) normal mode 
1003:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) initialization mode
1004:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    
1005:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @endverbatim
1006:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
1007:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1008:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1009:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1010:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1011:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Selects the CAN Operation mode.
1012:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_OperatingMode: CAN Operating Mode.
1013:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         This parameter can be one of @ref CAN_OperatingMode_TypeDef enumeration.
1014:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval status of the requested mode which can be 
1015:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         - CAN_ModeStatus_Failed:  CAN failed entering the specific mode 
1016:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         - CAN_ModeStatus_Success: CAN Succeed entering the specific mode 
1017:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1018:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_OperatingModeRequest(CAN_TypeDef* CANx, uint8_t CAN_OperatingMode)
1019:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 1998              		.loc 1 1019 1
 1999              		.cfi_startproc
 2000              		@ args = 0, pretend = 0, frame = 16
 2001              		@ frame_needed = 1, uses_anonymous_args = 0
 2002              		@ link register save eliminated.
 2003 0000 80B4     		push	{r7}
 2004              	.LCFI77:
 2005              		.cfi_def_cfa_offset 4
 2006              		.cfi_offset 7, -4
 2007 0002 85B0     		sub	sp, sp, #20
 2008              	.LCFI78:
 2009              		.cfi_def_cfa_offset 24
 2010 0004 00AF     		add	r7, sp, #0
 2011              	.LCFI79:
 2012              		.cfi_def_cfa_register 7
 2013 0006 7860     		str	r0, [r7, #4]
 2014 0008 0B46     		mov	r3, r1
 2015 000a FB70     		strb	r3, [r7, #3]
1020:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t status = CAN_ModeStatus_Failed;
 2016              		.loc 1 1020 11
 2017 000c 0023     		movs	r3, #0
 2018 000e FB73     		strb	r3, [r7, #15]
1021:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1022:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Timeout for INAK or also for SLAK bits*/
1023:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint32_t timeout = INAK_TIMEOUT; 
 2019              		.loc 1 1023 12
 2020 0010 4FF6FF73 		movw	r3, #65535
 2021 0014 BB60     		str	r3, [r7, #8]
1024:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1025:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 55


1026:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1027:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_OPERATING_MODE(CAN_OperatingMode));
1028:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1029:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_OperatingMode == CAN_OperatingMode_Initialization)
 2022              		.loc 1 1029 6
 2023 0016 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2024 0018 002B     		cmp	r3, #0
 2025 001a 20D1     		bne	.L102
1030:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1031:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Request initialisation */
1032:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_SLEEP)) | CAN_MCR_INRQ);
 2026              		.loc 1 1032 33
 2027 001c 7B68     		ldr	r3, [r7, #4]
 2028 001e 1B68     		ldr	r3, [r3]
 2029              		.loc 1 1032 17
 2030 0020 23F00303 		bic	r3, r3, #3
 2031 0024 43F00102 		orr	r2, r3, #1
 2032              		.loc 1 1032 15
 2033 0028 7B68     		ldr	r3, [r7, #4]
 2034 002a 1A60     		str	r2, [r3]
1033:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1034:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Wait the acknowledge */
1035:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK) && (timeout != 0))
 2035              		.loc 1 1035 11
 2036 002c 02E0     		b	.L103
 2037              	.L105:
1036:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1037:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       timeout--;
 2038              		.loc 1 1037 14
 2039 002e BB68     		ldr	r3, [r7, #8]
 2040 0030 013B     		subs	r3, r3, #1
 2041 0032 BB60     		str	r3, [r7, #8]
 2042              	.L103:
1035:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2043              		.loc 1 1035 18
 2044 0034 7B68     		ldr	r3, [r7, #4]
 2045 0036 5B68     		ldr	r3, [r3, #4]
1035:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2046              		.loc 1 1035 24
 2047 0038 03F00303 		and	r3, r3, #3
1035:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2048              		.loc 1 1035 11
 2049 003c 012B     		cmp	r3, #1
 2050 003e 02D0     		beq	.L104
1035:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2051              		.loc 1 1035 58 discriminator 1
 2052 0040 BB68     		ldr	r3, [r7, #8]
 2053 0042 002B     		cmp	r3, #0
 2054 0044 F3D1     		bne	.L105
 2055              	.L104:
1038:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1039:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK)
 2056              		.loc 1 1039 14
 2057 0046 7B68     		ldr	r3, [r7, #4]
 2058 0048 5B68     		ldr	r3, [r3, #4]
 2059              		.loc 1 1039 20
 2060 004a 03F00303 		and	r3, r3, #3
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 56


 2061              		.loc 1 1039 8
 2062 004e 012B     		cmp	r3, #1
 2063 0050 02D0     		beq	.L106
1040:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1041:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       status = CAN_ModeStatus_Failed;
 2064              		.loc 1 1041 14
 2065 0052 0023     		movs	r3, #0
 2066 0054 FB73     		strb	r3, [r7, #15]
 2067 0056 4AE0     		b	.L107
 2068              	.L106:
1042:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1043:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
1044:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1045:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       status = CAN_ModeStatus_Success;
 2069              		.loc 1 1045 14
 2070 0058 0123     		movs	r3, #1
 2071 005a FB73     		strb	r3, [r7, #15]
 2072 005c 47E0     		b	.L107
 2073              	.L102:
1046:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1047:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1048:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Normal)
 2074              		.loc 1 1048 12
 2075 005e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2076 0060 012B     		cmp	r3, #1
 2077 0062 1ED1     		bne	.L108
1049:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1050:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Request leave initialisation and sleep mode  and enter Normal mode */
1051:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->MCR &= (uint32_t)(~(CAN_MCR_SLEEP|CAN_MCR_INRQ));
 2078              		.loc 1 1051 15
 2079 0064 7B68     		ldr	r3, [r7, #4]
 2080 0066 1B68     		ldr	r3, [r3]
 2081 0068 23F00302 		bic	r2, r3, #3
 2082 006c 7B68     		ldr	r3, [r7, #4]
 2083 006e 1A60     		str	r2, [r3]
1052:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1053:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Wait the acknowledge */
1054:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != 0) && (timeout!=0))
 2084              		.loc 1 1054 11
 2085 0070 02E0     		b	.L109
 2086              	.L111:
1055:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1056:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       timeout--;
 2087              		.loc 1 1056 14
 2088 0072 BB68     		ldr	r3, [r7, #8]
 2089 0074 013B     		subs	r3, r3, #1
 2090 0076 BB60     		str	r3, [r7, #8]
 2091              	.L109:
1054:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2092              		.loc 1 1054 18
 2093 0078 7B68     		ldr	r3, [r7, #4]
 2094 007a 5B68     		ldr	r3, [r3, #4]
1054:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2095              		.loc 1 1054 24
 2096 007c 03F00303 		and	r3, r3, #3
1054:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2097              		.loc 1 1054 11
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 57


 2098 0080 002B     		cmp	r3, #0
 2099 0082 02D0     		beq	.L110
1054:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2100              		.loc 1 1054 47 discriminator 1
 2101 0084 BB68     		ldr	r3, [r7, #8]
 2102 0086 002B     		cmp	r3, #0
 2103 0088 F3D1     		bne	.L111
 2104              	.L110:
1057:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1058:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != 0)
 2105              		.loc 1 1058 14
 2106 008a 7B68     		ldr	r3, [r7, #4]
 2107 008c 5B68     		ldr	r3, [r3, #4]
 2108              		.loc 1 1058 20
 2109 008e 03F00303 		and	r3, r3, #3
 2110              		.loc 1 1058 8
 2111 0092 002B     		cmp	r3, #0
 2112 0094 02D0     		beq	.L112
1059:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1060:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       status = CAN_ModeStatus_Failed;
 2113              		.loc 1 1060 14
 2114 0096 0023     		movs	r3, #0
 2115 0098 FB73     		strb	r3, [r7, #15]
 2116 009a 28E0     		b	.L107
 2117              	.L112:
1061:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1062:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
1063:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1064:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       status = CAN_ModeStatus_Success;
 2118              		.loc 1 1064 14
 2119 009c 0123     		movs	r3, #1
 2120 009e FB73     		strb	r3, [r7, #15]
 2121 00a0 25E0     		b	.L107
 2122              	.L108:
1065:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1066:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1067:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Sleep)
 2123              		.loc 1 1067 12
 2124 00a2 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2125 00a4 022B     		cmp	r3, #2
 2126 00a6 20D1     		bne	.L113
1068:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1069:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Request Sleep mode */
1070:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 2127              		.loc 1 1070 33
 2128 00a8 7B68     		ldr	r3, [r7, #4]
 2129 00aa 1B68     		ldr	r3, [r3]
 2130              		.loc 1 1070 17
 2131 00ac 23F00303 		bic	r3, r3, #3
 2132 00b0 43F00202 		orr	r2, r3, #2
 2133              		.loc 1 1070 15
 2134 00b4 7B68     		ldr	r3, [r7, #4]
 2135 00b6 1A60     		str	r2, [r3]
1071:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1072:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Wait the acknowledge */
1073:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK) && (timeout!=0))
 2136              		.loc 1 1073 11
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 58


 2137 00b8 02E0     		b	.L114
 2138              	.L116:
1074:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1075:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       timeout--;
 2139              		.loc 1 1075 14
 2140 00ba BB68     		ldr	r3, [r7, #8]
 2141 00bc 013B     		subs	r3, r3, #1
 2142 00be BB60     		str	r3, [r7, #8]
 2143              	.L114:
1073:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2144              		.loc 1 1073 18
 2145 00c0 7B68     		ldr	r3, [r7, #4]
 2146 00c2 5B68     		ldr	r3, [r3, #4]
1073:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2147              		.loc 1 1073 24
 2148 00c4 03F00303 		and	r3, r3, #3
1073:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2149              		.loc 1 1073 11
 2150 00c8 022B     		cmp	r3, #2
 2151 00ca 02D0     		beq	.L115
1073:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2152              		.loc 1 1073 58 discriminator 1
 2153 00cc BB68     		ldr	r3, [r7, #8]
 2154 00ce 002B     		cmp	r3, #0
 2155 00d0 F3D1     		bne	.L116
 2156              	.L115:
1076:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1077:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK)
 2157              		.loc 1 1077 14
 2158 00d2 7B68     		ldr	r3, [r7, #4]
 2159 00d4 5B68     		ldr	r3, [r3, #4]
 2160              		.loc 1 1077 20
 2161 00d6 03F00303 		and	r3, r3, #3
 2162              		.loc 1 1077 8
 2163 00da 022B     		cmp	r3, #2
 2164 00dc 02D0     		beq	.L117
1078:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1079:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       status = CAN_ModeStatus_Failed;
 2165              		.loc 1 1079 14
 2166 00de 0023     		movs	r3, #0
 2167 00e0 FB73     		strb	r3, [r7, #15]
 2168 00e2 04E0     		b	.L107
 2169              	.L117:
1080:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1081:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
1082:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1083:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       status = CAN_ModeStatus_Success;
 2170              		.loc 1 1083 14
 2171 00e4 0123     		movs	r3, #1
 2172 00e6 FB73     		strb	r3, [r7, #15]
 2173 00e8 01E0     		b	.L107
 2174              	.L113:
1084:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1085:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1086:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
1087:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1088:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     status = CAN_ModeStatus_Failed;
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 59


 2175              		.loc 1 1088 12
 2176 00ea 0023     		movs	r3, #0
 2177 00ec FB73     		strb	r3, [r7, #15]
 2178              	.L107:
1089:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1090:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1091:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return  (uint8_t) status;
 2179              		.loc 1 1091 11
 2180 00ee FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1092:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2181              		.loc 1 1092 1
 2182 00f0 1846     		mov	r0, r3
 2183 00f2 1437     		adds	r7, r7, #20
 2184              	.LCFI80:
 2185              		.cfi_def_cfa_offset 4
 2186 00f4 BD46     		mov	sp, r7
 2187              	.LCFI81:
 2188              		.cfi_def_cfa_register 13
 2189              		@ sp needed
 2190 00f6 5DF8047B 		ldr	r7, [sp], #4
 2191              	.LCFI82:
 2192              		.cfi_restore 7
 2193              		.cfi_def_cfa_offset 0
 2194 00fa 7047     		bx	lr
 2195              		.cfi_endproc
 2196              	.LFE143:
 2198              		.section	.text.CAN_Sleep,"ax",%progbits
 2199              		.align	1
 2200              		.global	CAN_Sleep
 2201              		.syntax unified
 2202              		.thumb
 2203              		.thumb_func
 2205              	CAN_Sleep:
 2206              	.LFB144:
1093:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1094:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1095:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Enters the Sleep (low power) mode.
1096:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1097:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1098:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval CAN_Sleep_Ok if sleep entered, CAN_Sleep_Failed otherwise.
1099:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1100:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_Sleep(CAN_TypeDef* CANx)
1101:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2207              		.loc 1 1101 1
 2208              		.cfi_startproc
 2209              		@ args = 0, pretend = 0, frame = 16
 2210              		@ frame_needed = 1, uses_anonymous_args = 0
 2211              		@ link register save eliminated.
 2212 0000 80B4     		push	{r7}
 2213              	.LCFI83:
 2214              		.cfi_def_cfa_offset 4
 2215              		.cfi_offset 7, -4
 2216 0002 85B0     		sub	sp, sp, #20
 2217              	.LCFI84:
 2218              		.cfi_def_cfa_offset 24
 2219 0004 00AF     		add	r7, sp, #0
 2220              	.LCFI85:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 60


 2221              		.cfi_def_cfa_register 7
 2222 0006 7860     		str	r0, [r7, #4]
1102:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t sleepstatus = CAN_Sleep_Failed;
 2223              		.loc 1 1102 11
 2224 0008 0023     		movs	r3, #0
 2225 000a FB73     		strb	r3, [r7, #15]
1103:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1104:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1105:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1106:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     
1107:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Request Sleep mode */
1108:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    CANx->MCR = (((CANx->MCR) & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 2226              		.loc 1 1108 23
 2227 000c 7B68     		ldr	r3, [r7, #4]
 2228 000e 1B68     		ldr	r3, [r3]
 2229              		.loc 1 1108 69
 2230 0010 23F00303 		bic	r3, r3, #3
 2231 0014 43F00202 		orr	r2, r3, #2
 2232              		.loc 1 1108 14
 2233 0018 7B68     		ldr	r3, [r7, #4]
 2234 001a 1A60     		str	r2, [r3]
1109:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    
1110:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Sleep mode status */
1111:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if ((CANx->MSR & (CAN_MSR_SLAK|CAN_MSR_INAK)) == CAN_MSR_SLAK)
 2235              		.loc 1 1111 12
 2236 001c 7B68     		ldr	r3, [r7, #4]
 2237 001e 5B68     		ldr	r3, [r3, #4]
 2238              		.loc 1 1111 18
 2239 0020 03F00303 		and	r3, r3, #3
 2240              		.loc 1 1111 6
 2241 0024 022B     		cmp	r3, #2
 2242 0026 01D1     		bne	.L120
1112:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1113:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Sleep mode not entered */
1114:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     sleepstatus =  CAN_Sleep_Ok;
 2243              		.loc 1 1114 17
 2244 0028 0123     		movs	r3, #1
 2245 002a FB73     		strb	r3, [r7, #15]
 2246              	.L120:
1115:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1116:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* return sleep mode status */
1117:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    return (uint8_t)sleepstatus;
 2247              		.loc 1 1117 11
 2248 002c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1118:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2249              		.loc 1 1118 1
 2250 002e 1846     		mov	r0, r3
 2251 0030 1437     		adds	r7, r7, #20
 2252              	.LCFI86:
 2253              		.cfi_def_cfa_offset 4
 2254 0032 BD46     		mov	sp, r7
 2255              	.LCFI87:
 2256              		.cfi_def_cfa_register 13
 2257              		@ sp needed
 2258 0034 5DF8047B 		ldr	r7, [sp], #4
 2259              	.LCFI88:
 2260              		.cfi_restore 7
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 61


 2261              		.cfi_def_cfa_offset 0
 2262 0038 7047     		bx	lr
 2263              		.cfi_endproc
 2264              	.LFE144:
 2266              		.section	.text.CAN_WakeUp,"ax",%progbits
 2267              		.align	1
 2268              		.global	CAN_WakeUp
 2269              		.syntax unified
 2270              		.thumb
 2271              		.thumb_func
 2273              	CAN_WakeUp:
 2274              	.LFB145:
1119:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1120:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1121:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Wakes up the CAN peripheral from sleep mode .
1122:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1123:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1124:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval CAN_WakeUp_Ok if sleep mode left, CAN_WakeUp_Failed otherwise.
1125:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1126:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_WakeUp(CAN_TypeDef* CANx)
1127:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2275              		.loc 1 1127 1
 2276              		.cfi_startproc
 2277              		@ args = 0, pretend = 0, frame = 16
 2278              		@ frame_needed = 1, uses_anonymous_args = 0
 2279              		@ link register save eliminated.
 2280 0000 80B4     		push	{r7}
 2281              	.LCFI89:
 2282              		.cfi_def_cfa_offset 4
 2283              		.cfi_offset 7, -4
 2284 0002 85B0     		sub	sp, sp, #20
 2285              	.LCFI90:
 2286              		.cfi_def_cfa_offset 24
 2287 0004 00AF     		add	r7, sp, #0
 2288              	.LCFI91:
 2289              		.cfi_def_cfa_register 7
 2290 0006 7860     		str	r0, [r7, #4]
1128:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint32_t wait_slak = SLAK_TIMEOUT;
 2291              		.loc 1 1128 12
 2292 0008 4FF6FF73 		movw	r3, #65535
 2293 000c FB60     		str	r3, [r7, #12]
1129:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t wakeupstatus = CAN_WakeUp_Failed;
 2294              		.loc 1 1129 11
 2295 000e 0023     		movs	r3, #0
 2296 0010 FB72     		strb	r3, [r7, #11]
1130:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1131:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1132:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1133:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     
1134:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Wake up request */
1135:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   CANx->MCR &= ~(uint32_t)CAN_MCR_SLEEP;
 2297              		.loc 1 1135 13
 2298 0012 7B68     		ldr	r3, [r7, #4]
 2299 0014 1B68     		ldr	r3, [r3]
 2300 0016 23F00202 		bic	r2, r3, #2
 2301 001a 7B68     		ldr	r3, [r7, #4]
 2302 001c 1A60     		str	r2, [r3]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 62


1136:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     
1137:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Sleep mode status */
1138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   while(((CANx->MSR & CAN_MSR_SLAK) == CAN_MSR_SLAK)&&(wait_slak!=0x00))
 2303              		.loc 1 1138 8
 2304 001e 02E0     		b	.L123
 2305              	.L125:
1139:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1140:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    wait_slak--;
 2306              		.loc 1 1140 13
 2307 0020 FB68     		ldr	r3, [r7, #12]
 2308 0022 013B     		subs	r3, r3, #1
 2309 0024 FB60     		str	r3, [r7, #12]
 2310              	.L123:
1138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 2311              		.loc 1 1138 15
 2312 0026 7B68     		ldr	r3, [r7, #4]
 2313 0028 5B68     		ldr	r3, [r3, #4]
1138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 2314              		.loc 1 1138 21
 2315 002a 03F00203 		and	r3, r3, #2
1138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 2316              		.loc 1 1138 8
 2317 002e 022B     		cmp	r3, #2
 2318 0030 02D1     		bne	.L124
1138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
 2319              		.loc 1 1138 53 discriminator 1
 2320 0032 FB68     		ldr	r3, [r7, #12]
 2321 0034 002B     		cmp	r3, #0
 2322 0036 F3D1     		bne	.L125
 2323              	.L124:
1141:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1142:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if((CANx->MSR & CAN_MSR_SLAK) != CAN_MSR_SLAK)
 2324              		.loc 1 1142 11
 2325 0038 7B68     		ldr	r3, [r7, #4]
 2326 003a 5B68     		ldr	r3, [r3, #4]
 2327              		.loc 1 1142 17
 2328 003c 03F00203 		and	r3, r3, #2
 2329              		.loc 1 1142 5
 2330 0040 022B     		cmp	r3, #2
 2331 0042 01D0     		beq	.L126
1143:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1144:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    /* wake up done : Sleep mode exited */
1145:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     wakeupstatus = CAN_WakeUp_Ok;
 2332              		.loc 1 1145 18
 2333 0044 0123     		movs	r3, #1
 2334 0046 FB72     		strb	r3, [r7, #11]
 2335              	.L126:
1146:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1147:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* return wakeup status */
1148:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return (uint8_t)wakeupstatus;
 2336              		.loc 1 1148 10
 2337 0048 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
1149:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2338              		.loc 1 1149 1
 2339 004a 1846     		mov	r0, r3
 2340 004c 1437     		adds	r7, r7, #20
 2341              	.LCFI92:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 63


 2342              		.cfi_def_cfa_offset 4
 2343 004e BD46     		mov	sp, r7
 2344              	.LCFI93:
 2345              		.cfi_def_cfa_register 13
 2346              		@ sp needed
 2347 0050 5DF8047B 		ldr	r7, [sp], #4
 2348              	.LCFI94:
 2349              		.cfi_restore 7
 2350              		.cfi_def_cfa_offset 0
 2351 0054 7047     		bx	lr
 2352              		.cfi_endproc
 2353              	.LFE145:
 2355              		.section	.text.CAN_GetLastErrorCode,"ax",%progbits
 2356              		.align	1
 2357              		.global	CAN_GetLastErrorCode
 2358              		.syntax unified
 2359              		.thumb
 2360              		.thumb_func
 2362              	CAN_GetLastErrorCode:
 2363              	.LFB146:
1150:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1151:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @}
1152:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1153:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1154:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @defgroup CAN_Group5 CAN Bus Error management functions
1156:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *  @brief    CAN Bus Error management functions 
1157:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *
1158:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @verbatim    
1159:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================
1160:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 ##### CAN Bus Error management functions #####
1161:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================  
1162:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..] This section provides functions allowing to 
1163:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Return the CANx's last error code (LEC)
1164:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Return the CANx Receive Error Counter (REC)
1165:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Return the LSB of the 9-bit CANx Transmit Error Counter(TEC).
1166:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    
1167:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       -@- If TEC is greater than 255, The CAN is in bus-off state.
1168:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       -@- if REC or TEC are greater than 96, an Error warning flag occurs.
1169:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       -@- if REC or TEC are greater than 127, an Error Passive Flag occurs.
1170:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                         
1171:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @endverbatim
1172:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
1173:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1174:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1175:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1176:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Returns the CANx's last error code (LEC).
1177:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1178:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval Error code: 
1179:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          - CAN_ERRORCODE_NoErr: No Error  
1180:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          - CAN_ERRORCODE_StuffErr: Stuff Error
1181:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          - CAN_ERRORCODE_FormErr: Form Error
1182:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          - CAN_ERRORCODE_ACKErr : Acknowledgment Error
1183:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          - CAN_ERRORCODE_BitRecessiveErr: Bit Recessive Error
1184:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          - CAN_ERRORCODE_BitDominantErr: Bit Dominant Error
1185:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          - CAN_ERRORCODE_CRCErr: CRC Error
1186:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          - CAN_ERRORCODE_SoftwareSetErr: Software Set Error  
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 64


1187:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1188:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_GetLastErrorCode(CAN_TypeDef* CANx)
1189:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2364              		.loc 1 1189 1
 2365              		.cfi_startproc
 2366              		@ args = 0, pretend = 0, frame = 16
 2367              		@ frame_needed = 1, uses_anonymous_args = 0
 2368              		@ link register save eliminated.
 2369 0000 80B4     		push	{r7}
 2370              	.LCFI95:
 2371              		.cfi_def_cfa_offset 4
 2372              		.cfi_offset 7, -4
 2373 0002 85B0     		sub	sp, sp, #20
 2374              	.LCFI96:
 2375              		.cfi_def_cfa_offset 24
 2376 0004 00AF     		add	r7, sp, #0
 2377              	.LCFI97:
 2378              		.cfi_def_cfa_register 7
 2379 0006 7860     		str	r0, [r7, #4]
1190:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t errorcode=0;
 2380              		.loc 1 1190 11
 2381 0008 0023     		movs	r3, #0
 2382 000a FB73     		strb	r3, [r7, #15]
1191:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1192:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1193:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1194:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1195:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Get the error code*/
1196:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   errorcode = (((uint8_t)CANx->ESR) & (uint8_t)CAN_ESR_LEC);
 2383              		.loc 1 1196 30
 2384 000c 7B68     		ldr	r3, [r7, #4]
 2385 000e 9B69     		ldr	r3, [r3, #24]
 2386              		.loc 1 1196 37
 2387 0010 DBB2     		uxtb	r3, r3
 2388              		.loc 1 1196 13
 2389 0012 03F07003 		and	r3, r3, #112
 2390 0016 FB73     		strb	r3, [r7, #15]
1197:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1198:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Return the error code*/
1199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return errorcode;
 2391              		.loc 1 1199 10
 2392 0018 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1200:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2393              		.loc 1 1200 1
 2394 001a 1846     		mov	r0, r3
 2395 001c 1437     		adds	r7, r7, #20
 2396              	.LCFI98:
 2397              		.cfi_def_cfa_offset 4
 2398 001e BD46     		mov	sp, r7
 2399              	.LCFI99:
 2400              		.cfi_def_cfa_register 13
 2401              		@ sp needed
 2402 0020 5DF8047B 		ldr	r7, [sp], #4
 2403              	.LCFI100:
 2404              		.cfi_restore 7
 2405              		.cfi_def_cfa_offset 0
 2406 0024 7047     		bx	lr
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 65


 2407              		.cfi_endproc
 2408              	.LFE146:
 2410              		.section	.text.CAN_GetReceiveErrorCounter,"ax",%progbits
 2411              		.align	1
 2412              		.global	CAN_GetReceiveErrorCounter
 2413              		.syntax unified
 2414              		.thumb
 2415              		.thumb_func
 2417              	CAN_GetReceiveErrorCounter:
 2418              	.LFB147:
1201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1202:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1203:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Returns the CANx Receive Error Counter (REC).
1204:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   In case of an error during reception, this counter is incremented 
1205:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         by 1 or by 8 depending on the error condition as defined by the CAN 
1206:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         standard. After every successful reception, the counter is 
1207:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         decremented by 1 or reset to 120 if its value was higher than 128. 
1208:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         When the counter value exceeds 127, the CAN controller enters the 
1209:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *         error passive state.  
1210:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1211:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1212:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval CAN Receive Error Counter. 
1213:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1214:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_GetReceiveErrorCounter(CAN_TypeDef* CANx)
1215:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2419              		.loc 1 1215 1
 2420              		.cfi_startproc
 2421              		@ args = 0, pretend = 0, frame = 16
 2422              		@ frame_needed = 1, uses_anonymous_args = 0
 2423              		@ link register save eliminated.
 2424 0000 80B4     		push	{r7}
 2425              	.LCFI101:
 2426              		.cfi_def_cfa_offset 4
 2427              		.cfi_offset 7, -4
 2428 0002 85B0     		sub	sp, sp, #20
 2429              	.LCFI102:
 2430              		.cfi_def_cfa_offset 24
 2431 0004 00AF     		add	r7, sp, #0
 2432              	.LCFI103:
 2433              		.cfi_def_cfa_register 7
 2434 0006 7860     		str	r0, [r7, #4]
1216:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t counter=0;
 2435              		.loc 1 1216 11
 2436 0008 0023     		movs	r3, #0
 2437 000a FB73     		strb	r3, [r7, #15]
1217:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1218:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1219:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1220:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1221:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Get the Receive Error Counter*/
1222:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_REC)>> 24);
 2438              		.loc 1 1222 28
 2439 000c 7B68     		ldr	r3, [r7, #4]
 2440 000e 9B69     		ldr	r3, [r3, #24]
 2441              		.loc 1 1222 48
 2442 0010 1B0E     		lsrs	r3, r3, #24
 2443              		.loc 1 1222 11
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 66


 2444 0012 FB73     		strb	r3, [r7, #15]
1223:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1224:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Return the Receive Error Counter*/
1225:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return counter;
 2445              		.loc 1 1225 10
 2446 0014 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1226:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2447              		.loc 1 1226 1
 2448 0016 1846     		mov	r0, r3
 2449 0018 1437     		adds	r7, r7, #20
 2450              	.LCFI104:
 2451              		.cfi_def_cfa_offset 4
 2452 001a BD46     		mov	sp, r7
 2453              	.LCFI105:
 2454              		.cfi_def_cfa_register 13
 2455              		@ sp needed
 2456 001c 5DF8047B 		ldr	r7, [sp], #4
 2457              	.LCFI106:
 2458              		.cfi_restore 7
 2459              		.cfi_def_cfa_offset 0
 2460 0020 7047     		bx	lr
 2461              		.cfi_endproc
 2462              	.LFE147:
 2464              		.section	.text.CAN_GetLSBTransmitErrorCounter,"ax",%progbits
 2465              		.align	1
 2466              		.global	CAN_GetLSBTransmitErrorCounter
 2467              		.syntax unified
 2468              		.thumb
 2469              		.thumb_func
 2471              	CAN_GetLSBTransmitErrorCounter:
 2472              	.LFB148:
1227:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1228:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1229:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1230:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Returns the LSB of the 9-bit CANx Transmit Error Counter(TEC).
1231:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1233:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval LSB of the 9-bit CAN Transmit Error Counter. 
1234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1235:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** uint8_t CAN_GetLSBTransmitErrorCounter(CAN_TypeDef* CANx)
1236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2473              		.loc 1 1236 1
 2474              		.cfi_startproc
 2475              		@ args = 0, pretend = 0, frame = 16
 2476              		@ frame_needed = 1, uses_anonymous_args = 0
 2477              		@ link register save eliminated.
 2478 0000 80B4     		push	{r7}
 2479              	.LCFI107:
 2480              		.cfi_def_cfa_offset 4
 2481              		.cfi_offset 7, -4
 2482 0002 85B0     		sub	sp, sp, #20
 2483              	.LCFI108:
 2484              		.cfi_def_cfa_offset 24
 2485 0004 00AF     		add	r7, sp, #0
 2486              	.LCFI109:
 2487              		.cfi_def_cfa_register 7
 2488 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 67


1237:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint8_t counter=0;
 2489              		.loc 1 1237 11
 2490 0008 0023     		movs	r3, #0
 2491 000a FB73     		strb	r3, [r7, #15]
1238:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1240:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1242:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Get the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
1243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_TEC)>> 16);
 2492              		.loc 1 1243 28
 2493 000c 7B68     		ldr	r3, [r7, #4]
 2494 000e 9B69     		ldr	r3, [r3, #24]
 2495              		.loc 1 1243 48
 2496 0010 1B0C     		lsrs	r3, r3, #16
 2497              		.loc 1 1243 11
 2498 0012 FB73     		strb	r3, [r7, #15]
1244:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1245:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Return the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
1246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return counter;
 2499              		.loc 1 1246 10
 2500 0014 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1247:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2501              		.loc 1 1247 1
 2502 0016 1846     		mov	r0, r3
 2503 0018 1437     		adds	r7, r7, #20
 2504              	.LCFI110:
 2505              		.cfi_def_cfa_offset 4
 2506 001a BD46     		mov	sp, r7
 2507              	.LCFI111:
 2508              		.cfi_def_cfa_register 13
 2509              		@ sp needed
 2510 001c 5DF8047B 		ldr	r7, [sp], #4
 2511              	.LCFI112:
 2512              		.cfi_restore 7
 2513              		.cfi_def_cfa_offset 0
 2514 0020 7047     		bx	lr
 2515              		.cfi_endproc
 2516              	.LFE148:
 2518              		.section	.text.CAN_ITConfig,"ax",%progbits
 2519              		.align	1
 2520              		.global	CAN_ITConfig
 2521              		.syntax unified
 2522              		.thumb
 2523              		.thumb_func
 2525              	CAN_ITConfig:
 2526              	.LFB149:
1248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1249:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @}
1250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1251:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1252:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /** @defgroup CAN_Group6 Interrupts and flags management functions
1253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *  @brief   Interrupts and flags management functions
1254:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  *
1255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @verbatim   
1256:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================
1257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****               ##### Interrupts and flags management functions #####
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 68


1258:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  ===============================================================================  
1259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****      [..] This section provides functions allowing to configure the CAN Interrupts 
1261:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           and to get the status and clear flags and Interrupts pending bits.
1262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1263:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****           The CAN provides 14 Interrupts sources and 15 Flags:
1264:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1265:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    
1266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *** Flags ***
1267:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   =============
1268:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..] The 15 flags can be divided on 4 groups: 
1269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1270:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Transmit Flags
1271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_RQCP0, 
1272:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_RQCP1, 
1273:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_RQCP2  : Request completed MailBoxes 0, 1 and 2  Flags
1274:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                Set when the last request (transmit or abort)
1275:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                has been performed. 
1276:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1277:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Receive Flags
1278:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1279:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1280:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_FMP0,
1281:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_FMP1   : FIFO 0 and 1 Message Pending Flags 
1282:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                set to signal that messages are pending in the receive 
1283:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                FIFO.
1284:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                These Flags are cleared only by hardware. 
1285:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1286:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_FF0,
1287:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_FF1    : FIFO 0 and 1 Full Flags
1288:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                set when three messages are stored in the selected 
1289:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                FIFO.                        
1290:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1291:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_FOV0              
1292:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_FOV1   : FIFO 0 and 1 Overrun Flags
1293:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                set when a new message has been received and passed 
1294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                the filter while the FIFO was full.         
1295:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1296:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Operating Mode Flags
1297:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1298:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_WKU    : Wake up Flag
1299:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                set to signal that a SOF bit has been detected while 
1300:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                the CAN hardware was in Sleep mode. 
1301:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         
1302:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_SLAK   : Sleep acknowledge Flag
1303:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                Set to signal that the CAN has entered Sleep Mode. 
1304:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     
1305:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Error Flags
1306:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1307:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_EWG    : Error Warning Flag
1308:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                Set when the warning limit has been reached (Receive 
1309:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                Error Counter or Transmit Error Counter greater than 96). 
1310:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                This Flag is cleared only by hardware.
1311:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                             
1312:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_EPV    : Error Passive Flag
1313:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                Set when the Error Passive limit has been reached 
1314:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                (Receive Error Counter or Transmit Error Counter 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 69


1315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                greater than 127).
1316:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                This Flag is cleared only by hardware.
1317:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                              
1318:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_BOF    : Bus-Off Flag
1319:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                set when CAN enters the bus-off state. The bus-off 
1320:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                state is entered on TEC overflow, greater than 255.
1321:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                This Flag is cleared only by hardware.
1322:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                    
1323:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_FLAG_LEC    : Last error code Flag
1324:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                set If a message has been transferred (reception or
1325:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                transmission) with error, and the error code is hold.              
1326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                            
1327:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *** Interrupts ***
1328:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   ==================
1329:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..] The 14 interrupts can be divided on 4 groups: 
1330:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1331:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Transmit interrupt
1332:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1333:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_TME   :  Transmit mailbox empty Interrupt
1334:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                              if enabled, this interrupt source is pending when 
1335:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                              no transmit request are pending for Tx mailboxes.      
1336:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1337:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Receive Interrupts
1338:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****          
1339:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_FMP0,
1340:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_FMP1    :  FIFO 0 and FIFO1 message pending Interrupts
1341:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, these interrupt sources are pending 
1342:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                when messages are pending in the receive FIFO.
1343:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                The corresponding interrupt pending bits are cleared 
1344:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                only by hardware.
1345:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                 
1346:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_FF0,              
1347:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_FF1     :  FIFO 0 and FIFO1 full Interrupts
1348:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, these interrupt sources are pending 
1349:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                when three messages are stored in the selected FIFO.
1350:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         
1351:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_FOV0,        
1352:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_FOV1    :  FIFO 0 and FIFO1 overrun Interrupts        
1353:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, these interrupt sources are pending 
1354:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                when a new message has been received and passed 
1355:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                the filter while the FIFO was full.
1356:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1357:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Operating Mode Interrupts
1358:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****          
1359:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_WKU     :  Wake-up Interrupt
1360:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, this interrupt source is pending when 
1361:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                a SOF bit has been detected while the CAN hardware 
1362:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                was in Sleep mode.
1363:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                   
1364:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_SLK     :  Sleep acknowledge Interrupt
1365:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, this interrupt source is pending when 
1366:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                the CAN has entered Sleep Mode.       
1367:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1368:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (+) Error Interrupts 
1369:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         
1370:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_EWG     :  Error warning Interrupt 
1371:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, this interrupt source is pending when
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 70


1372:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                the warning limit has been reached (Receive Error 
1373:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                Counter or Transmit Error Counter=96). 
1374:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                
1375:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_EPV     :  Error passive Interrupt        
1376:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, this interrupt source is pending when
1377:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                the Error Passive limit has been reached (Receive 
1378:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                Error Counter or Transmit Error Counter>127).
1379:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                           
1380:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_BOF     :  Bus-off Interrupt
1381:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, this interrupt source is pending when
1382:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                CAN enters the bus-off state. The bus-off state is 
1383:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                entered on TEC overflow, greater than 255.
1384:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                This Flag is cleared only by hardware.
1385:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                   
1386:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_LEC     :  Last error code Interrupt        
1387:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, this interrupt source is pending  when
1388:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                a message has been transferred (reception or
1389:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                transmission) with error, and the error code is hold.
1390:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                           
1391:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_IT_ERR     :  Error Interrupt
1392:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                if enabled, this interrupt source is pending when 
1393:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                                an error condition is pending.      
1394:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****                       
1395:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     [..] Managing the CAN controller events :
1396:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  
1397:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****          The user should identify which mode will be used in his application to 
1398:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****          manage the CAN controller events: Polling mode or Interrupt mode.
1399:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1400:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) In the Polling Mode it is advised to use the following functions:
1401:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_GetFlagStatus() : to check if flags events occur. 
1402:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_ClearFlag()     : to clear the flags events.
1403:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1404:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1405:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1406:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       (#) In the Interrupt Mode it is advised to use the following functions:
1407:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_ITConfig()       : to enable or disable the interrupt source.
1408:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_GetITStatus()    : to check if Interrupt occurs.
1409:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         (++) CAN_ClearITPendingBit() : to clear the Interrupt pending Bit 
1410:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****             (corresponding Flag).
1411:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         -@@-  This function has no impact on CAN_IT_FMP0 and CAN_IT_FMP1 Interrupts 
1412:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****              pending bits since there are cleared only by hardware. 
1413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1414:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** @endverbatim
1415:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @{
1416:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */ 
1417:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1418:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Enables or disables the specified CANx interrupts.
1419:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1420:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_IT: specifies the CAN interrupt sources to be enabled or disabled.
1421:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          This parameter can be: 
1422:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_TME: Transmit mailbox empty Interrupt 
1423:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FMP0: FIFO 0 message pending Interrupt 
1424:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FF0: FIFO 0 full Interrupt
1425:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FOV0: FIFO 0 overrun Interrupt
1426:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FMP1: FIFO 1 message pending Interrupt 
1427:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FF1: FIFO 1 full Interrupt
1428:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FOV1: FIFO 1 overrun Interrupt
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 71


1429:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_WKU: Wake-up Interrupt
1430:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_SLK: Sleep acknowledge Interrupt  
1431:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_EWG: Error warning Interrupt
1432:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_EPV: Error passive Interrupt
1433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_BOF: Bus-off Interrupt  
1434:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_LEC: Last error code Interrupt
1435:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_ERR: Error Interrupt
1436:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  NewState: new state of the CAN interrupts.
1437:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1438:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          This parameter can be: ENABLE or DISABLE.
1439:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
1440:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_ITConfig(CAN_TypeDef* CANx, uint32_t CAN_IT, FunctionalState NewState)
1442:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2527              		.loc 1 1442 1
 2528              		.cfi_startproc
 2529              		@ args = 0, pretend = 0, frame = 16
 2530              		@ frame_needed = 1, uses_anonymous_args = 0
 2531              		@ link register save eliminated.
 2532 0000 80B4     		push	{r7}
 2533              	.LCFI113:
 2534              		.cfi_def_cfa_offset 4
 2535              		.cfi_offset 7, -4
 2536 0002 85B0     		sub	sp, sp, #20
 2537              	.LCFI114:
 2538              		.cfi_def_cfa_offset 24
 2539 0004 00AF     		add	r7, sp, #0
 2540              	.LCFI115:
 2541              		.cfi_def_cfa_register 7
 2542 0006 F860     		str	r0, [r7, #12]
 2543 0008 B960     		str	r1, [r7, #8]
 2544 000a 1346     		mov	r3, r2
 2545 000c FB71     		strb	r3, [r7, #7]
1443:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1444:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1445:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1446:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1447:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1448:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (NewState != DISABLE)
 2546              		.loc 1 1448 6
 2547 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2548 0010 002B     		cmp	r3, #0
 2549 0012 06D0     		beq	.L135
1449:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1450:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Enable the selected CANx interrupt */
1451:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->IER |= CAN_IT;
 2550              		.loc 1 1451 15
 2551 0014 FB68     		ldr	r3, [r7, #12]
 2552 0016 5A69     		ldr	r2, [r3, #20]
 2553 0018 BB68     		ldr	r3, [r7, #8]
 2554 001a 1A43     		orrs	r2, r2, r3
 2555 001c FB68     		ldr	r3, [r7, #12]
 2556 001e 5A61     		str	r2, [r3, #20]
1452:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1453:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
1454:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1455:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Disable the selected CANx interrupt */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 72


1456:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->IER &= ~CAN_IT;
1457:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1458:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2557              		.loc 1 1458 1
 2558 0020 06E0     		b	.L137
 2559              	.L135:
1456:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 2560              		.loc 1 1456 15
 2561 0022 FB68     		ldr	r3, [r7, #12]
 2562 0024 5A69     		ldr	r2, [r3, #20]
1456:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 2563              		.loc 1 1456 18
 2564 0026 BB68     		ldr	r3, [r7, #8]
 2565 0028 DB43     		mvns	r3, r3
1456:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
 2566              		.loc 1 1456 15
 2567 002a 1A40     		ands	r2, r2, r3
 2568 002c FB68     		ldr	r3, [r7, #12]
 2569 002e 5A61     		str	r2, [r3, #20]
 2570              	.L137:
 2571              		.loc 1 1458 1
 2572 0030 00BF     		nop
 2573 0032 1437     		adds	r7, r7, #20
 2574              	.LCFI116:
 2575              		.cfi_def_cfa_offset 4
 2576 0034 BD46     		mov	sp, r7
 2577              	.LCFI117:
 2578              		.cfi_def_cfa_register 13
 2579              		@ sp needed
 2580 0036 5DF8047B 		ldr	r7, [sp], #4
 2581              	.LCFI118:
 2582              		.cfi_restore 7
 2583              		.cfi_def_cfa_offset 0
 2584 003a 7047     		bx	lr
 2585              		.cfi_endproc
 2586              	.LFE149:
 2588              		.section	.text.CAN_GetFlagStatus,"ax",%progbits
 2589              		.align	1
 2590              		.global	CAN_GetFlagStatus
 2591              		.syntax unified
 2592              		.thumb
 2593              		.thumb_func
 2595              	CAN_GetFlagStatus:
 2596              	.LFB150:
1459:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1460:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Checks whether the specified CAN flag is set or not.
1461:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1462:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_FLAG: specifies the flag to check.
1463:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          This parameter can be one of the following values:
1464:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_RQCP0: Request MailBox0 Flag
1465:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_RQCP1: Request MailBox1 Flag
1466:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_RQCP2: Request MailBox2 Flag
1467:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FMP0: FIFO 0 Message Pending Flag   
1468:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FF0: FIFO 0 Full Flag       
1469:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FOV0: FIFO 0 Overrun Flag 
1470:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FMP1: FIFO 1 Message Pending Flag   
1471:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FF1: FIFO 1 Full Flag        
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 73


1472:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FOV1: FIFO 1 Overrun Flag     
1473:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_WKU: Wake up Flag
1474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_SLAK: Sleep acknowledge Flag 
1475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_EWG: Error Warning Flag
1476:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_EPV: Error Passive Flag  
1477:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_BOF: Bus-Off Flag    
1478:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_LEC: Last error code Flag
1479:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1480:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval The new state of CAN_FLAG (SET or RESET).
1481:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1482:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** FlagStatus CAN_GetFlagStatus(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1483:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2597              		.loc 1 1483 1
 2598              		.cfi_startproc
 2599              		@ args = 0, pretend = 0, frame = 16
 2600              		@ frame_needed = 1, uses_anonymous_args = 0
 2601              		@ link register save eliminated.
 2602 0000 80B4     		push	{r7}
 2603              	.LCFI119:
 2604              		.cfi_def_cfa_offset 4
 2605              		.cfi_offset 7, -4
 2606 0002 85B0     		sub	sp, sp, #20
 2607              	.LCFI120:
 2608              		.cfi_def_cfa_offset 24
 2609 0004 00AF     		add	r7, sp, #0
 2610              	.LCFI121:
 2611              		.cfi_def_cfa_register 7
 2612 0006 7860     		str	r0, [r7, #4]
 2613 0008 3960     		str	r1, [r7]
1484:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   FlagStatus bitstatus = RESET;
 2614              		.loc 1 1484 14
 2615 000a 0023     		movs	r3, #0
 2616 000c FB73     		strb	r3, [r7, #15]
1485:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1486:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1487:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1488:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_GET_FLAG(CAN_FLAG));
1489:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1490:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1491:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if((CAN_FLAG & CAN_FLAGS_ESR) != (uint32_t)RESET)
 2617              		.loc 1 1491 16
 2618 000e 3B68     		ldr	r3, [r7]
 2619 0010 03F47003 		and	r3, r3, #15728640
 2620              		.loc 1 1491 5
 2621 0014 002B     		cmp	r3, #0
 2622 0016 0DD0     		beq	.L139
1492:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   { 
1493:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Check the status of the specified CAN flag */
1494:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CANx->ESR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2623              		.loc 1 1494 14
 2624 0018 7B68     		ldr	r3, [r7, #4]
 2625 001a 9A69     		ldr	r2, [r3, #24]
 2626              		.loc 1 1494 20
 2627 001c 3B68     		ldr	r3, [r7]
 2628 001e 1340     		ands	r3, r3, r2
 2629 0020 C3F31303 		ubfx	r3, r3, #0, #20
 2630              		.loc 1 1494 8
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 74


 2631 0024 002B     		cmp	r3, #0
 2632 0026 02D0     		beq	.L140
1495:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1496:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is set */
1497:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = SET;
 2633              		.loc 1 1497 17
 2634 0028 0123     		movs	r3, #1
 2635 002a FB73     		strb	r3, [r7, #15]
 2636 002c 48E0     		b	.L141
 2637              	.L140:
1498:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1499:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
1500:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1501:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is reset */
1502:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = RESET;
 2638              		.loc 1 1502 17
 2639 002e 0023     		movs	r3, #0
 2640 0030 FB73     		strb	r3, [r7, #15]
 2641 0032 45E0     		b	.L141
 2642              	.L139:
1503:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1504:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1505:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else if((CAN_FLAG & CAN_FLAGS_MSR) != (uint32_t)RESET)
 2643              		.loc 1 1505 21
 2644 0034 3B68     		ldr	r3, [r7]
 2645 0036 03F08073 		and	r3, r3, #16777216
 2646              		.loc 1 1505 10
 2647 003a 002B     		cmp	r3, #0
 2648 003c 0DD0     		beq	.L142
1506:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   { 
1507:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Check the status of the specified CAN flag */
1508:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CANx->MSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2649              		.loc 1 1508 14
 2650 003e 7B68     		ldr	r3, [r7, #4]
 2651 0040 5A68     		ldr	r2, [r3, #4]
 2652              		.loc 1 1508 20
 2653 0042 3B68     		ldr	r3, [r7]
 2654 0044 1340     		ands	r3, r3, r2
 2655 0046 C3F31303 		ubfx	r3, r3, #0, #20
 2656              		.loc 1 1508 8
 2657 004a 002B     		cmp	r3, #0
 2658 004c 02D0     		beq	.L143
1509:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1510:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is set */
1511:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = SET;
 2659              		.loc 1 1511 17
 2660 004e 0123     		movs	r3, #1
 2661 0050 FB73     		strb	r3, [r7, #15]
 2662 0052 35E0     		b	.L141
 2663              	.L143:
1512:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1513:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
1514:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1515:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is reset */
1516:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = RESET;
 2664              		.loc 1 1516 17
 2665 0054 0023     		movs	r3, #0
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 75


 2666 0056 FB73     		strb	r3, [r7, #15]
 2667 0058 32E0     		b	.L141
 2668              	.L142:
1517:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1518:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1519:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else if((CAN_FLAG & CAN_FLAGS_TSR) != (uint32_t)RESET)
 2669              		.loc 1 1519 21
 2670 005a 3B68     		ldr	r3, [r7]
 2671 005c 03F00063 		and	r3, r3, #134217728
 2672              		.loc 1 1519 10
 2673 0060 002B     		cmp	r3, #0
 2674 0062 0DD0     		beq	.L144
1520:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   { 
1521:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Check the status of the specified CAN flag */
1522:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CANx->TSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2675              		.loc 1 1522 14
 2676 0064 7B68     		ldr	r3, [r7, #4]
 2677 0066 9A68     		ldr	r2, [r3, #8]
 2678              		.loc 1 1522 20
 2679 0068 3B68     		ldr	r3, [r7]
 2680 006a 1340     		ands	r3, r3, r2
 2681 006c C3F31303 		ubfx	r3, r3, #0, #20
 2682              		.loc 1 1522 8
 2683 0070 002B     		cmp	r3, #0
 2684 0072 02D0     		beq	.L145
1523:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1524:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is set */
1525:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = SET;
 2685              		.loc 1 1525 17
 2686 0074 0123     		movs	r3, #1
 2687 0076 FB73     		strb	r3, [r7, #15]
 2688 0078 22E0     		b	.L141
 2689              	.L145:
1526:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1527:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
1528:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1529:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is reset */
1530:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = RESET;
 2690              		.loc 1 1530 17
 2691 007a 0023     		movs	r3, #0
 2692 007c FB73     		strb	r3, [r7, #15]
 2693 007e 1FE0     		b	.L141
 2694              	.L144:
1531:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1532:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1533:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else if((CAN_FLAG & CAN_FLAGS_RF0R) != (uint32_t)RESET)
 2695              		.loc 1 1533 21
 2696 0080 3B68     		ldr	r3, [r7]
 2697 0082 03F00073 		and	r3, r3, #33554432
 2698              		.loc 1 1533 10
 2699 0086 002B     		cmp	r3, #0
 2700 0088 0DD0     		beq	.L146
1534:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   { 
1535:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Check the status of the specified CAN flag */
1536:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CANx->RF0R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2701              		.loc 1 1536 14
 2702 008a 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 76


 2703 008c DA68     		ldr	r2, [r3, #12]
 2704              		.loc 1 1536 21
 2705 008e 3B68     		ldr	r3, [r7]
 2706 0090 1340     		ands	r3, r3, r2
 2707 0092 C3F31303 		ubfx	r3, r3, #0, #20
 2708              		.loc 1 1536 8
 2709 0096 002B     		cmp	r3, #0
 2710 0098 02D0     		beq	.L147
1537:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1538:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is set */
1539:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = SET;
 2711              		.loc 1 1539 17
 2712 009a 0123     		movs	r3, #1
 2713 009c FB73     		strb	r3, [r7, #15]
 2714 009e 0FE0     		b	.L141
 2715              	.L147:
1540:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1541:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
1542:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1543:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is reset */
1544:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = RESET;
 2716              		.loc 1 1544 17
 2717 00a0 0023     		movs	r3, #0
 2718 00a2 FB73     		strb	r3, [r7, #15]
 2719 00a4 0CE0     		b	.L141
 2720              	.L146:
1545:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1546:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1547:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else /* If(CAN_FLAG & CAN_FLAGS_RF1R != (uint32_t)RESET) */
1548:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   { 
1549:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Check the status of the specified CAN flag */
1550:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((uint32_t)(CANx->RF1R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2721              		.loc 1 1550 24
 2722 00a6 7B68     		ldr	r3, [r7, #4]
 2723 00a8 1A69     		ldr	r2, [r3, #16]
 2724              		.loc 1 1550 9
 2725 00aa 3B68     		ldr	r3, [r7]
 2726 00ac 1340     		ands	r3, r3, r2
 2727 00ae C3F31303 		ubfx	r3, r3, #0, #20
 2728              		.loc 1 1550 8
 2729 00b2 002B     		cmp	r3, #0
 2730 00b4 02D0     		beq	.L148
1551:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1552:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is set */
1553:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = SET;
 2731              		.loc 1 1553 17
 2732 00b6 0123     		movs	r3, #1
 2733 00b8 FB73     		strb	r3, [r7, #15]
 2734 00ba 01E0     		b	.L141
 2735              	.L148:
1554:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1555:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else
1556:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     { 
1557:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* CAN_FLAG is reset */
1558:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       bitstatus = RESET;
 2736              		.loc 1 1558 17
 2737 00bc 0023     		movs	r3, #0
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 77


 2738 00be FB73     		strb	r3, [r7, #15]
 2739              	.L141:
1559:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1560:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1561:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Return the CAN_FLAG status */
1562:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return  bitstatus;
 2740              		.loc 1 1562 11
 2741 00c0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1563:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2742              		.loc 1 1563 1
 2743 00c2 1846     		mov	r0, r3
 2744 00c4 1437     		adds	r7, r7, #20
 2745              	.LCFI122:
 2746              		.cfi_def_cfa_offset 4
 2747 00c6 BD46     		mov	sp, r7
 2748              	.LCFI123:
 2749              		.cfi_def_cfa_register 13
 2750              		@ sp needed
 2751 00c8 5DF8047B 		ldr	r7, [sp], #4
 2752              	.LCFI124:
 2753              		.cfi_restore 7
 2754              		.cfi_def_cfa_offset 0
 2755 00cc 7047     		bx	lr
 2756              		.cfi_endproc
 2757              	.LFE150:
 2759              		.section	.text.CAN_ClearFlag,"ax",%progbits
 2760              		.align	1
 2761              		.global	CAN_ClearFlag
 2762              		.syntax unified
 2763              		.thumb
 2764              		.thumb_func
 2766              	CAN_ClearFlag:
 2767              	.LFB151:
1564:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1565:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1566:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Clears the CAN's pending flags.
1567:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1568:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_FLAG: specifies the flag to clear.
1569:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          This parameter can be one of the following values:
1570:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_RQCP0: Request MailBox0 Flag
1571:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_RQCP1: Request MailBox1 Flag
1572:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_RQCP2: Request MailBox2 Flag 
1573:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FF0: FIFO 0 Full Flag       
1574:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FOV0: FIFO 0 Overrun Flag  
1575:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FF1: FIFO 1 Full Flag        
1576:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_FOV1: FIFO 1 Overrun Flag     
1577:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_WKU: Wake up Flag
1578:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_SLAK: Sleep acknowledge Flag    
1579:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_FLAG_LEC: Last error code Flag
1580:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1581:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
1582:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1583:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_ClearFlag(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1584:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2768              		.loc 1 1584 1
 2769              		.cfi_startproc
 2770              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 78


 2771              		@ frame_needed = 1, uses_anonymous_args = 0
 2772              		@ link register save eliminated.
 2773 0000 80B4     		push	{r7}
 2774              	.LCFI125:
 2775              		.cfi_def_cfa_offset 4
 2776              		.cfi_offset 7, -4
 2777 0002 85B0     		sub	sp, sp, #20
 2778              	.LCFI126:
 2779              		.cfi_def_cfa_offset 24
 2780 0004 00AF     		add	r7, sp, #0
 2781              	.LCFI127:
 2782              		.cfi_def_cfa_register 7
 2783 0006 7860     		str	r0, [r7, #4]
 2784 0008 3960     		str	r1, [r7]
1585:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   uint32_t flagtmp=0;
 2785              		.loc 1 1585 12
 2786 000a 0023     		movs	r3, #0
 2787 000c FB60     		str	r3, [r7, #12]
1586:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1587:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1588:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_CLEAR_FLAG(CAN_FLAG));
1589:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1590:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if (CAN_FLAG == CAN_FLAG_LEC) /* ESR register */
 2788              		.loc 1 1590 6
 2789 000e 3B68     		ldr	r3, [r7]
 2790 0010 174A     		ldr	r2, .L157
 2791 0012 9342     		cmp	r3, r2
 2792 0014 03D1     		bne	.L151
1591:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1592:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* Clear the selected CAN flags */
1593:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     CANx->ESR = (uint32_t)RESET;
 2793              		.loc 1 1593 15
 2794 0016 7B68     		ldr	r3, [r7, #4]
 2795 0018 0022     		movs	r2, #0
 2796 001a 9A61     		str	r2, [r3, #24]
1594:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1595:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else /* MSR or TSR or RF0R or RF1R */
1596:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1597:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     flagtmp = CAN_FLAG & 0x000FFFFF;
1598:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1599:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     if ((CAN_FLAG & CAN_FLAGS_RF0R)!=(uint32_t)RESET)
1600:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1601:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Receive Flags */
1602:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->RF0R = (uint32_t)(flagtmp);
1603:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1604:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_RF1R)!=(uint32_t)RESET)
1605:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1606:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Receive Flags */
1607:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->RF1R = (uint32_t)(flagtmp);
1608:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1609:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_TSR)!=(uint32_t)RESET)
1610:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1611:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Transmit Flags */
1612:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->TSR = (uint32_t)(flagtmp);
1613:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1614:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     else /* If((CAN_FLAG & CAN_FLAGS_MSR)!=(uint32_t)RESET) */
1615:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 79


1616:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Operating mode Flags */
1617:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MSR = (uint32_t)(flagtmp);
1618:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1619:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1620:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 2797              		.loc 1 1620 1
 2798 001c 21E0     		b	.L156
 2799              	.L151:
1597:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
 2800              		.loc 1 1597 13
 2801 001e 3B68     		ldr	r3, [r7]
 2802 0020 C3F31303 		ubfx	r3, r3, #0, #20
 2803 0024 FB60     		str	r3, [r7, #12]
1599:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2804              		.loc 1 1599 19
 2805 0026 3B68     		ldr	r3, [r7]
 2806 0028 03F00073 		and	r3, r3, #33554432
1599:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2807              		.loc 1 1599 8
 2808 002c 002B     		cmp	r3, #0
 2809 002e 03D0     		beq	.L153
1602:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 2810              		.loc 1 1602 18
 2811 0030 7B68     		ldr	r3, [r7, #4]
 2812 0032 FA68     		ldr	r2, [r7, #12]
 2813 0034 DA60     		str	r2, [r3, #12]
 2814              		.loc 1 1620 1
 2815 0036 14E0     		b	.L156
 2816              	.L153:
1604:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2817              		.loc 1 1604 24
 2818 0038 3B68     		ldr	r3, [r7]
 2819 003a 03F08063 		and	r3, r3, #67108864
1604:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2820              		.loc 1 1604 13
 2821 003e 002B     		cmp	r3, #0
 2822 0040 03D0     		beq	.L154
1607:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 2823              		.loc 1 1607 18
 2824 0042 7B68     		ldr	r3, [r7, #4]
 2825 0044 FA68     		ldr	r2, [r7, #12]
 2826 0046 1A61     		str	r2, [r3, #16]
 2827              		.loc 1 1620 1
 2828 0048 0BE0     		b	.L156
 2829              	.L154:
1609:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2830              		.loc 1 1609 24
 2831 004a 3B68     		ldr	r3, [r7]
 2832 004c 03F00063 		and	r3, r3, #134217728
1609:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
 2833              		.loc 1 1609 13
 2834 0050 002B     		cmp	r3, #0
 2835 0052 03D0     		beq	.L155
1612:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 2836              		.loc 1 1612 17
 2837 0054 7B68     		ldr	r3, [r7, #4]
 2838 0056 FA68     		ldr	r2, [r7, #12]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 80


 2839 0058 9A60     		str	r2, [r3, #8]
 2840              		.loc 1 1620 1
 2841 005a 02E0     		b	.L156
 2842              	.L155:
1617:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
 2843              		.loc 1 1617 17
 2844 005c 7B68     		ldr	r3, [r7, #4]
 2845 005e FA68     		ldr	r2, [r7, #12]
 2846 0060 5A60     		str	r2, [r3, #4]
 2847              	.L156:
 2848              		.loc 1 1620 1
 2849 0062 00BF     		nop
 2850 0064 1437     		adds	r7, r7, #20
 2851              	.LCFI128:
 2852              		.cfi_def_cfa_offset 4
 2853 0066 BD46     		mov	sp, r7
 2854              	.LCFI129:
 2855              		.cfi_def_cfa_register 13
 2856              		@ sp needed
 2857 0068 5DF8047B 		ldr	r7, [sp], #4
 2858              	.LCFI130:
 2859              		.cfi_restore 7
 2860              		.cfi_def_cfa_offset 0
 2861 006c 7047     		bx	lr
 2862              	.L158:
 2863 006e 00BF     		.align	2
 2864              	.L157:
 2865 0070 7000F030 		.word	821035120
 2866              		.cfi_endproc
 2867              	.LFE151:
 2869              		.section	.text.CAN_GetITStatus,"ax",%progbits
 2870              		.align	1
 2871              		.global	CAN_GetITStatus
 2872              		.syntax unified
 2873              		.thumb
 2874              		.thumb_func
 2876              	CAN_GetITStatus:
 2877              	.LFB152:
1621:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1622:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1623:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Checks whether the specified CANx interrupt has occurred or not.
1624:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1625:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_IT: specifies the CAN interrupt source to check.
1626:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          This parameter can be one of the following values:
1627:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_TME: Transmit mailbox empty Interrupt 
1628:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FMP0: FIFO 0 message pending Interrupt 
1629:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FF0: FIFO 0 full Interrupt
1630:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FOV0: FIFO 0 overrun Interrupt
1631:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FMP1: FIFO 1 message pending Interrupt 
1632:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FF1: FIFO 1 full Interrupt
1633:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FOV1: FIFO 1 overrun Interrupt
1634:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_WKU: Wake-up Interrupt
1635:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_SLK: Sleep acknowledge Interrupt  
1636:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_EWG: Error warning Interrupt
1637:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_EPV: Error passive Interrupt
1638:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_BOF: Bus-off Interrupt  
1639:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_LEC: Last error code Interrupt
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 81


1640:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_ERR: Error Interrupt
1641:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1642:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval The current state of CAN_IT (SET or RESET).
1643:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1644:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** ITStatus CAN_GetITStatus(CAN_TypeDef* CANx, uint32_t CAN_IT)
1645:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 2878              		.loc 1 1645 1
 2879              		.cfi_startproc
 2880              		@ args = 0, pretend = 0, frame = 16
 2881              		@ frame_needed = 1, uses_anonymous_args = 0
 2882 0000 80B5     		push	{r7, lr}
 2883              	.LCFI131:
 2884              		.cfi_def_cfa_offset 8
 2885              		.cfi_offset 7, -8
 2886              		.cfi_offset 14, -4
 2887 0002 84B0     		sub	sp, sp, #16
 2888              	.LCFI132:
 2889              		.cfi_def_cfa_offset 24
 2890 0004 00AF     		add	r7, sp, #0
 2891              	.LCFI133:
 2892              		.cfi_def_cfa_register 7
 2893 0006 7860     		str	r0, [r7, #4]
 2894 0008 3960     		str	r1, [r7]
1646:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   ITStatus itstatus = RESET;
 2895              		.loc 1 1646 12
 2896 000a 0023     		movs	r3, #0
 2897 000c FB73     		strb	r3, [r7, #15]
1647:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1648:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1649:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1650:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1651:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* check the interrupt enable bit */
1652:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  if((CANx->IER & CAN_IT) != RESET)
 2898              		.loc 1 1652 10
 2899 000e 7B68     		ldr	r3, [r7, #4]
 2900 0010 5A69     		ldr	r2, [r3, #20]
 2901              		.loc 1 1652 16
 2902 0012 3B68     		ldr	r3, [r7]
 2903 0014 1340     		ands	r3, r3, r2
 2904              		.loc 1 1652 4
 2905 0016 002B     		cmp	r3, #0
 2906 0018 00F01B81 		beq	.L160
1653:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  {
1654:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    /* in case the Interrupt is enabled, .... */
1655:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     switch (CAN_IT)
 2907              		.loc 1 1655 5
 2908 001c 3B68     		ldr	r3, [r7]
 2909 001e B3F5003F 		cmp	r3, #131072
 2910 0022 00F0DD80 		beq	.L161
 2911 0026 3B68     		ldr	r3, [r7]
 2912 0028 B3F5003F 		cmp	r3, #131072
 2913 002c 00F20E81 		bhi	.L162
 2914 0030 3B68     		ldr	r3, [r7]
 2915 0032 B3F5803F 		cmp	r3, #65536
 2916 0036 00F0CA80 		beq	.L163
 2917 003a 3B68     		ldr	r3, [r7]
 2918 003c B3F5803F 		cmp	r3, #65536
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 82


 2919 0040 00F20481 		bhi	.L162
 2920 0044 3B68     		ldr	r3, [r7]
 2921 0046 B3F5004F 		cmp	r3, #32768
 2922 004a 00F0F680 		beq	.L164
 2923 004e 3B68     		ldr	r3, [r7]
 2924 0050 B3F5004F 		cmp	r3, #32768
 2925 0054 00F2FA80 		bhi	.L162
 2926 0058 3B68     		ldr	r3, [r7]
 2927 005a B3F5006F 		cmp	r3, #2048
 2928 005e 00F0E380 		beq	.L165
 2929 0062 3B68     		ldr	r3, [r7]
 2930 0064 B3F5006F 		cmp	r3, #2048
 2931 0068 00F2F080 		bhi	.L162
 2932 006c 3B68     		ldr	r3, [r7]
 2933 006e B3F5806F 		cmp	r3, #1024
 2934 0072 00F0D080 		beq	.L166
 2935 0076 3B68     		ldr	r3, [r7]
 2936 0078 B3F5806F 		cmp	r3, #1024
 2937 007c 00F2E680 		bhi	.L162
 2938 0080 3B68     		ldr	r3, [r7]
 2939 0082 B3F5007F 		cmp	r3, #512
 2940 0086 00F0BD80 		beq	.L167
 2941 008a 3B68     		ldr	r3, [r7]
 2942 008c B3F5007F 		cmp	r3, #512
 2943 0090 00F2DC80 		bhi	.L162
 2944 0094 3B68     		ldr	r3, [r7]
 2945 0096 B3F5807F 		cmp	r3, #256
 2946 009a 00F0AA80 		beq	.L168
 2947 009e 3B68     		ldr	r3, [r7]
 2948 00a0 B3F5807F 		cmp	r3, #256
 2949 00a4 00F2D280 		bhi	.L162
 2950 00a8 3B68     		ldr	r3, [r7]
 2951 00aa 202B     		cmp	r3, #32
 2952 00ac 4CD8     		bhi	.L169
 2953 00ae 3B68     		ldr	r3, [r7]
 2954 00b0 002B     		cmp	r3, #0
 2955 00b2 00F0CB80 		beq	.L162
 2956 00b6 3B68     		ldr	r3, [r7]
 2957 00b8 013B     		subs	r3, r3, #1
 2958 00ba 1F2B     		cmp	r3, #31
 2959 00bc 00F2C680 		bhi	.L162
 2960 00c0 01A2     		adr	r2, .L171
 2961 00c2 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2962 00c6 00BF     		.p2align 2
 2963              	.L171:
 2964 00c8 51010000 		.word	.L176+1
 2965 00cc 63010000 		.word	.L175+1
 2966 00d0 4D020000 		.word	.L162+1
 2967 00d4 75010000 		.word	.L174+1
 2968 00d8 4D020000 		.word	.L162+1
 2969 00dc 4D020000 		.word	.L162+1
 2970 00e0 4D020000 		.word	.L162+1
 2971 00e4 87010000 		.word	.L173+1
 2972 00e8 4D020000 		.word	.L162+1
 2973 00ec 4D020000 		.word	.L162+1
 2974 00f0 4D020000 		.word	.L162+1
 2975 00f4 4D020000 		.word	.L162+1
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 83


 2976 00f8 4D020000 		.word	.L162+1
 2977 00fc 4D020000 		.word	.L162+1
 2978 0100 4D020000 		.word	.L162+1
 2979 0104 99010000 		.word	.L172+1
 2980 0108 4D020000 		.word	.L162+1
 2981 010c 4D020000 		.word	.L162+1
 2982 0110 4D020000 		.word	.L162+1
 2983 0114 4D020000 		.word	.L162+1
 2984 0118 4D020000 		.word	.L162+1
 2985 011c 4D020000 		.word	.L162+1
 2986 0120 4D020000 		.word	.L162+1
 2987 0124 4D020000 		.word	.L162+1
 2988 0128 4D020000 		.word	.L162+1
 2989 012c 4D020000 		.word	.L162+1
 2990 0130 4D020000 		.word	.L162+1
 2991 0134 4D020000 		.word	.L162+1
 2992 0138 4D020000 		.word	.L162+1
 2993 013c 4D020000 		.word	.L162+1
 2994 0140 4D020000 		.word	.L162+1
 2995 0144 AB010000 		.word	.L170+1
 2996              		.p2align 1
 2997              	.L169:
 2998 0148 3B68     		ldr	r3, [r7]
 2999 014a 402B     		cmp	r3, #64
 3000 014c 36D0     		beq	.L177
 3001 014e 7DE0     		b	.L162
 3002              	.L176:
1656:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     {
1657:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_TME:
1658:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_TSR_RQCPx bits */
1659:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->TSR, CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2);  
 3003              		.loc 1 1659 20
 3004 0150 7B68     		ldr	r3, [r7, #4]
 3005 0152 9B68     		ldr	r3, [r3, #8]
 3006 0154 4249     		ldr	r1, .L181
 3007 0156 1846     		mov	r0, r3
 3008 0158 FFF7FEFF 		bl	CheckITStatus
 3009 015c 0346     		mov	r3, r0
 3010 015e FB73     		strb	r3, [r7, #15]
1660:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3011              		.loc 1 1660 9
 3012 0160 79E0     		b	.L179
 3013              	.L175:
1661:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_FMP0:
1662:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_RF0R_FMP0 bit */
1663:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FMP0);  
 3014              		.loc 1 1663 20
 3015 0162 7B68     		ldr	r3, [r7, #4]
 3016 0164 DB68     		ldr	r3, [r3, #12]
 3017 0166 0321     		movs	r1, #3
 3018 0168 1846     		mov	r0, r3
 3019 016a FFF7FEFF 		bl	CheckITStatus
 3020 016e 0346     		mov	r3, r0
 3021 0170 FB73     		strb	r3, [r7, #15]
1664:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3022              		.loc 1 1664 9
 3023 0172 70E0     		b	.L179
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 84


 3024              	.L174:
1665:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_FF0:
1666:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_RF0R_FULL0 bit */
1667:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FULL0);  
 3025              		.loc 1 1667 20
 3026 0174 7B68     		ldr	r3, [r7, #4]
 3027 0176 DB68     		ldr	r3, [r3, #12]
 3028 0178 0821     		movs	r1, #8
 3029 017a 1846     		mov	r0, r3
 3030 017c FFF7FEFF 		bl	CheckITStatus
 3031 0180 0346     		mov	r3, r0
 3032 0182 FB73     		strb	r3, [r7, #15]
1668:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3033              		.loc 1 1668 9
 3034 0184 67E0     		b	.L179
 3035              	.L173:
1669:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_FOV0:
1670:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_RF0R_FOVR0 bit */
1671:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FOVR0);  
 3036              		.loc 1 1671 20
 3037 0186 7B68     		ldr	r3, [r7, #4]
 3038 0188 DB68     		ldr	r3, [r3, #12]
 3039 018a 1021     		movs	r1, #16
 3040 018c 1846     		mov	r0, r3
 3041 018e FFF7FEFF 		bl	CheckITStatus
 3042 0192 0346     		mov	r3, r0
 3043 0194 FB73     		strb	r3, [r7, #15]
1672:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3044              		.loc 1 1672 9
 3045 0196 5EE0     		b	.L179
 3046              	.L172:
1673:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_FMP1:
1674:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_RF1R_FMP1 bit */
1675:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FMP1);  
 3047              		.loc 1 1675 20
 3048 0198 7B68     		ldr	r3, [r7, #4]
 3049 019a 1B69     		ldr	r3, [r3, #16]
 3050 019c 0321     		movs	r1, #3
 3051 019e 1846     		mov	r0, r3
 3052 01a0 FFF7FEFF 		bl	CheckITStatus
 3053 01a4 0346     		mov	r3, r0
 3054 01a6 FB73     		strb	r3, [r7, #15]
1676:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3055              		.loc 1 1676 9
 3056 01a8 55E0     		b	.L179
 3057              	.L170:
1677:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_FF1:
1678:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_RF1R_FULL1 bit */
1679:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FULL1);  
 3058              		.loc 1 1679 20
 3059 01aa 7B68     		ldr	r3, [r7, #4]
 3060 01ac 1B69     		ldr	r3, [r3, #16]
 3061 01ae 0821     		movs	r1, #8
 3062 01b0 1846     		mov	r0, r3
 3063 01b2 FFF7FEFF 		bl	CheckITStatus
 3064 01b6 0346     		mov	r3, r0
 3065 01b8 FB73     		strb	r3, [r7, #15]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 85


1680:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3066              		.loc 1 1680 9
 3067 01ba 4CE0     		b	.L179
 3068              	.L177:
1681:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_FOV1:
1682:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_RF1R_FOVR1 bit */
1683:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FOVR1);  
 3069              		.loc 1 1683 20
 3070 01bc 7B68     		ldr	r3, [r7, #4]
 3071 01be 1B69     		ldr	r3, [r3, #16]
 3072 01c0 1021     		movs	r1, #16
 3073 01c2 1846     		mov	r0, r3
 3074 01c4 FFF7FEFF 		bl	CheckITStatus
 3075 01c8 0346     		mov	r3, r0
 3076 01ca FB73     		strb	r3, [r7, #15]
1684:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3077              		.loc 1 1684 9
 3078 01cc 43E0     		b	.L179
 3079              	.L163:
1685:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_WKU:
1686:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_MSR_WKUI bit */
1687:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->MSR, CAN_MSR_WKUI);  
 3080              		.loc 1 1687 20
 3081 01ce 7B68     		ldr	r3, [r7, #4]
 3082 01d0 5B68     		ldr	r3, [r3, #4]
 3083 01d2 0821     		movs	r1, #8
 3084 01d4 1846     		mov	r0, r3
 3085 01d6 FFF7FEFF 		bl	CheckITStatus
 3086 01da 0346     		mov	r3, r0
 3087 01dc FB73     		strb	r3, [r7, #15]
1688:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3088              		.loc 1 1688 9
 3089 01de 3AE0     		b	.L179
 3090              	.L161:
1689:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_SLK:
1690:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_MSR_SLAKI bit */
1691:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->MSR, CAN_MSR_SLAKI);  
 3091              		.loc 1 1691 20
 3092 01e0 7B68     		ldr	r3, [r7, #4]
 3093 01e2 5B68     		ldr	r3, [r3, #4]
 3094 01e4 1021     		movs	r1, #16
 3095 01e6 1846     		mov	r0, r3
 3096 01e8 FFF7FEFF 		bl	CheckITStatus
 3097 01ec 0346     		mov	r3, r0
 3098 01ee FB73     		strb	r3, [r7, #15]
1692:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3099              		.loc 1 1692 9
 3100 01f0 31E0     		b	.L179
 3101              	.L168:
1693:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_EWG:
1694:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_ESR_EWGF bit */
1695:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EWGF);  
 3102              		.loc 1 1695 20
 3103 01f2 7B68     		ldr	r3, [r7, #4]
 3104 01f4 9B69     		ldr	r3, [r3, #24]
 3105 01f6 0121     		movs	r1, #1
 3106 01f8 1846     		mov	r0, r3
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 86


 3107 01fa FFF7FEFF 		bl	CheckITStatus
 3108 01fe 0346     		mov	r3, r0
 3109 0200 FB73     		strb	r3, [r7, #15]
1696:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3110              		.loc 1 1696 9
 3111 0202 28E0     		b	.L179
 3112              	.L167:
1697:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_EPV:
1698:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_ESR_EPVF bit */
1699:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EPVF);  
 3113              		.loc 1 1699 20
 3114 0204 7B68     		ldr	r3, [r7, #4]
 3115 0206 9B69     		ldr	r3, [r3, #24]
 3116 0208 0221     		movs	r1, #2
 3117 020a 1846     		mov	r0, r3
 3118 020c FFF7FEFF 		bl	CheckITStatus
 3119 0210 0346     		mov	r3, r0
 3120 0212 FB73     		strb	r3, [r7, #15]
1700:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3121              		.loc 1 1700 9
 3122 0214 1FE0     		b	.L179
 3123              	.L166:
1701:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_BOF:
1702:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_ESR_BOFF bit */
1703:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->ESR, CAN_ESR_BOFF);  
 3124              		.loc 1 1703 20
 3125 0216 7B68     		ldr	r3, [r7, #4]
 3126 0218 9B69     		ldr	r3, [r3, #24]
 3127 021a 0421     		movs	r1, #4
 3128 021c 1846     		mov	r0, r3
 3129 021e FFF7FEFF 		bl	CheckITStatus
 3130 0222 0346     		mov	r3, r0
 3131 0224 FB73     		strb	r3, [r7, #15]
1704:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3132              		.loc 1 1704 9
 3133 0226 16E0     		b	.L179
 3134              	.L165:
1705:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_LEC:
1706:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_ESR_LEC bit */
1707:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->ESR, CAN_ESR_LEC);  
 3135              		.loc 1 1707 20
 3136 0228 7B68     		ldr	r3, [r7, #4]
 3137 022a 9B69     		ldr	r3, [r3, #24]
 3138 022c 7021     		movs	r1, #112
 3139 022e 1846     		mov	r0, r3
 3140 0230 FFF7FEFF 		bl	CheckITStatus
 3141 0234 0346     		mov	r3, r0
 3142 0236 FB73     		strb	r3, [r7, #15]
1708:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3143              		.loc 1 1708 9
 3144 0238 0DE0     		b	.L179
 3145              	.L164:
1709:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       case CAN_IT_ERR:
1710:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* Check CAN_MSR_ERRI bit */ 
1711:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = CheckITStatus(CANx->MSR, CAN_MSR_ERRI); 
 3146              		.loc 1 1711 20
 3147 023a 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 87


 3148 023c 5B68     		ldr	r3, [r3, #4]
 3149 023e 0421     		movs	r1, #4
 3150 0240 1846     		mov	r0, r3
 3151 0242 FFF7FEFF 		bl	CheckITStatus
 3152 0246 0346     		mov	r3, r0
 3153 0248 FB73     		strb	r3, [r7, #15]
1712:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3154              		.loc 1 1712 9
 3155 024a 04E0     		b	.L179
 3156              	.L162:
1713:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       default:
1714:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         /* in case of error, return RESET */
1715:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         itstatus = RESET;
 3157              		.loc 1 1715 18
 3158 024c 0023     		movs	r3, #0
 3159 024e FB73     		strb	r3, [r7, #15]
1716:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****         break;
 3160              		.loc 1 1716 9
 3161 0250 01E0     		b	.L179
 3162              	.L160:
1717:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     }
1718:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1719:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
1720:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1721:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    /* in case the Interrupt is not enabled, return RESET */
1722:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     itstatus  = RESET;
 3163              		.loc 1 1722 15
 3164 0252 0023     		movs	r3, #0
 3165 0254 FB73     		strb	r3, [r7, #15]
 3166              	.L179:
1723:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1724:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1725:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Return the CAN_IT status */
1726:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return  itstatus;
 3167              		.loc 1 1726 11
 3168 0256 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1727:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 3169              		.loc 1 1727 1
 3170 0258 1846     		mov	r0, r3
 3171 025a 1037     		adds	r7, r7, #16
 3172              	.LCFI134:
 3173              		.cfi_def_cfa_offset 8
 3174 025c BD46     		mov	sp, r7
 3175              	.LCFI135:
 3176              		.cfi_def_cfa_register 13
 3177              		@ sp needed
 3178 025e 80BD     		pop	{r7, pc}
 3179              	.L182:
 3180              		.align	2
 3181              	.L181:
 3182 0260 01010100 		.word	65793
 3183              		.cfi_endproc
 3184              	.LFE152:
 3186              		.section	.text.CAN_ClearITPendingBit,"ax",%progbits
 3187              		.align	1
 3188              		.global	CAN_ClearITPendingBit
 3189              		.syntax unified
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 88


 3190              		.thumb
 3191              		.thumb_func
 3193              	CAN_ClearITPendingBit:
 3194              	.LFB153:
1728:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1729:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1730:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Clears the CANx's interrupt pending bits.
1731:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CANx: where x can be 1,2 or 3 to select the CAN peripheral.
1732:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_IT: specifies the interrupt pending bit to clear.
1733:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *          This parameter can be one of the following values:
1734:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_TME: Transmit mailbox empty Interrupt
1735:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FF0: FIFO 0 full Interrupt
1736:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FOV0: FIFO 0 overrun Interrupt
1737:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FF1: FIFO 1 full Interrupt
1738:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_FOV1: FIFO 1 overrun Interrupt
1739:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_WKU: Wake-up Interrupt
1740:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_SLK: Sleep acknowledge Interrupt  
1741:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_EWG: Error warning Interrupt
1742:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_EPV: Error passive Interrupt
1743:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_BOF: Bus-off Interrupt  
1744:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_LEC: Last error code Interrupt
1745:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   *            @arg CAN_IT_ERR: Error Interrupt
1746:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @note   CAN3 peripheral is available only for STM32F413_423xx devices
1747:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval None
1748:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1749:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** void CAN_ClearITPendingBit(CAN_TypeDef* CANx, uint32_t CAN_IT)
1750:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 3195              		.loc 1 1750 1
 3196              		.cfi_startproc
 3197              		@ args = 0, pretend = 0, frame = 8
 3198              		@ frame_needed = 1, uses_anonymous_args = 0
 3199              		@ link register save eliminated.
 3200 0000 80B4     		push	{r7}
 3201              	.LCFI136:
 3202              		.cfi_def_cfa_offset 4
 3203              		.cfi_offset 7, -4
 3204 0002 83B0     		sub	sp, sp, #12
 3205              	.LCFI137:
 3206              		.cfi_def_cfa_offset 16
 3207 0004 00AF     		add	r7, sp, #0
 3208              	.LCFI138:
 3209              		.cfi_def_cfa_register 7
 3210 0006 7860     		str	r0, [r7, #4]
 3211 0008 3960     		str	r1, [r7]
1751:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   /* Check the parameters */
1752:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1753:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   assert_param(IS_CAN_CLEAR_IT(CAN_IT));
1754:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1755:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   switch (CAN_IT)
 3212              		.loc 1 1755 3
 3213 000a 3B68     		ldr	r3, [r7]
 3214 000c B3F5003F 		cmp	r3, #131072
 3215 0010 00F0AA80 		beq	.L184
 3216 0014 3B68     		ldr	r3, [r7]
 3217 0016 B3F5003F 		cmp	r3, #131072
 3218 001a 00F2C380 		bhi	.L200
 3219 001e 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 89


 3220 0020 B3F5803F 		cmp	r3, #65536
 3221 0024 00F09C80 		beq	.L186
 3222 0028 3B68     		ldr	r3, [r7]
 3223 002a B3F5803F 		cmp	r3, #65536
 3224 002e 00F2B980 		bhi	.L200
 3225 0032 3B68     		ldr	r3, [r7]
 3226 0034 B3F5004F 		cmp	r3, #32768
 3227 0038 00F0AD80 		beq	.L187
 3228 003c 3B68     		ldr	r3, [r7]
 3229 003e B3F5004F 		cmp	r3, #32768
 3230 0042 00F2AF80 		bhi	.L200
 3231 0046 3B68     		ldr	r3, [r7]
 3232 0048 B3F5006F 		cmp	r3, #2048
 3233 004c 00F09C80 		beq	.L188
 3234 0050 3B68     		ldr	r3, [r7]
 3235 0052 B3F5006F 		cmp	r3, #2048
 3236 0056 00F2A580 		bhi	.L200
 3237 005a 3B68     		ldr	r3, [r7]
 3238 005c B3F5806F 		cmp	r3, #1024
 3239 0060 00F08E80 		beq	.L189
 3240 0064 3B68     		ldr	r3, [r7]
 3241 0066 B3F5806F 		cmp	r3, #1024
 3242 006a 00F29B80 		bhi	.L200
 3243 006e 3B68     		ldr	r3, [r7]
 3244 0070 B3F5007F 		cmp	r3, #512
 3245 0074 00F08080 		beq	.L190
 3246 0078 3B68     		ldr	r3, [r7]
 3247 007a B3F5007F 		cmp	r3, #512
 3248 007e 00F29180 		bhi	.L200
 3249 0082 3B68     		ldr	r3, [r7]
 3250 0084 B3F5807F 		cmp	r3, #256
 3251 0088 72D0     		beq	.L191
 3252 008a 3B68     		ldr	r3, [r7]
 3253 008c B3F5807F 		cmp	r3, #256
 3254 0090 00F28880 		bhi	.L200
 3255 0094 3B68     		ldr	r3, [r7]
 3256 0096 202B     		cmp	r3, #32
 3257 0098 4AD8     		bhi	.L192
 3258 009a 3B68     		ldr	r3, [r7]
 3259 009c 002B     		cmp	r3, #0
 3260 009e 00F08180 		beq	.L200
 3261 00a2 3B68     		ldr	r3, [r7]
 3262 00a4 013B     		subs	r3, r3, #1
 3263 00a6 1F2B     		cmp	r3, #31
 3264 00a8 7CD8     		bhi	.L200
 3265 00aa 01A2     		adr	r2, .L194
 3266 00ac 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 3267              		.p2align 2
 3268              	.L194:
 3269 00b0 39010000 		.word	.L197+1
 3270 00b4 A5010000 		.word	.L200+1
 3271 00b8 A5010000 		.word	.L200+1
 3272 00bc 41010000 		.word	.L196+1
 3273 00c0 A5010000 		.word	.L200+1
 3274 00c4 A5010000 		.word	.L200+1
 3275 00c8 A5010000 		.word	.L200+1
 3276 00cc 49010000 		.word	.L195+1
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 90


 3277 00d0 A5010000 		.word	.L200+1
 3278 00d4 A5010000 		.word	.L200+1
 3279 00d8 A5010000 		.word	.L200+1
 3280 00dc A5010000 		.word	.L200+1
 3281 00e0 A5010000 		.word	.L200+1
 3282 00e4 A5010000 		.word	.L200+1
 3283 00e8 A5010000 		.word	.L200+1
 3284 00ec A5010000 		.word	.L200+1
 3285 00f0 A5010000 		.word	.L200+1
 3286 00f4 A5010000 		.word	.L200+1
 3287 00f8 A5010000 		.word	.L200+1
 3288 00fc A5010000 		.word	.L200+1
 3289 0100 A5010000 		.word	.L200+1
 3290 0104 A5010000 		.word	.L200+1
 3291 0108 A5010000 		.word	.L200+1
 3292 010c A5010000 		.word	.L200+1
 3293 0110 A5010000 		.word	.L200+1
 3294 0114 A5010000 		.word	.L200+1
 3295 0118 A5010000 		.word	.L200+1
 3296 011c A5010000 		.word	.L200+1
 3297 0120 A5010000 		.word	.L200+1
 3298 0124 A5010000 		.word	.L200+1
 3299 0128 A5010000 		.word	.L200+1
 3300 012c 51010000 		.word	.L193+1
 3301              		.p2align 1
 3302              	.L192:
 3303 0130 3B68     		ldr	r3, [r7]
 3304 0132 402B     		cmp	r3, #64
 3305 0134 10D0     		beq	.L198
1756:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1757:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_TME:
1758:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_TSR_RQCPx (rc_w1)*/
1759:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->TSR = CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2;  
1760:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1761:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_FF0:
1762:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_RF0R_FULL0 (rc_w1)*/
1763:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->RF0R = CAN_RF0R_FULL0; 
1764:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1765:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_FOV0:
1766:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_RF0R_FOVR0 (rc_w1)*/
1767:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->RF0R = CAN_RF0R_FOVR0; 
1768:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_FF1:
1770:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_RF1R_FULL1 (rc_w1)*/
1771:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->RF1R = CAN_RF1R_FULL1;  
1772:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1773:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_FOV1:
1774:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_RF1R_FOVR1 (rc_w1)*/
1775:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->RF1R = CAN_RF1R_FOVR1; 
1776:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1777:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_WKU:
1778:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_WKUI (rc_w1)*/
1779:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MSR = CAN_MSR_WKUI;  
1780:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1781:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_SLK:
1782:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_SLAKI (rc_w1)*/ 
1783:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MSR = CAN_MSR_SLAKI;   
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 91


1784:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1785:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_EWG:
1786:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_ERRI (rc_w1) */
1787:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MSR = CAN_MSR_ERRI;
1788:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        /* @note the corresponding Flag is cleared by hardware depending on the CAN Bus status*/ 
1789:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1790:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_EPV:
1791:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_ERRI (rc_w1) */
1792:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MSR = CAN_MSR_ERRI; 
1793:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        /* @note the corresponding Flag is cleared by hardware depending on the CAN Bus status*/
1794:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1795:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_BOF:
1796:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_ERRI (rc_w1) */ 
1797:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MSR = CAN_MSR_ERRI; 
1798:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        /* @note the corresponding Flag is cleared by hardware depending on the CAN Bus status*/
1799:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        break;
1800:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_LEC:
1801:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /*  Clear LEC bits */
1802:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->ESR = RESET; 
1803:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_ERRI (rc_w1) */
1804:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MSR = CAN_MSR_ERRI; 
1805:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
1806:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_ERR:
1807:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /*Clear LEC bits */
1808:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->ESR = RESET; 
1809:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_ERRI (rc_w1) */
1810:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       CANx->MSR = CAN_MSR_ERRI; 
1811:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        /* @note BOFF, EPVF and EWGF Flags are cleared by hardware depending on the CAN Bus status*/
1812:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        break;
1813:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     default:
1814:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        break;
 3306              		.loc 1 1814 8
 3307 0136 35E0     		b	.L200
 3308              	.L197:
1759:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 3309              		.loc 1 1759 17
 3310 0138 7B68     		ldr	r3, [r7, #4]
 3311 013a 1E4A     		ldr	r2, .L201
 3312 013c 9A60     		str	r2, [r3, #8]
1760:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_FF0:
 3313              		.loc 1 1760 7
 3314 013e 32E0     		b	.L199
 3315              	.L196:
1763:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 3316              		.loc 1 1763 18
 3317 0140 7B68     		ldr	r3, [r7, #4]
 3318 0142 0822     		movs	r2, #8
 3319 0144 DA60     		str	r2, [r3, #12]
1764:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_FOV0:
 3320              		.loc 1 1764 7
 3321 0146 2EE0     		b	.L199
 3322              	.L195:
1767:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 3323              		.loc 1 1767 18
 3324 0148 7B68     		ldr	r3, [r7, #4]
 3325 014a 1022     		movs	r2, #16
 3326 014c DA60     		str	r2, [r3, #12]
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 92


1768:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_FF1:
 3327              		.loc 1 1768 7
 3328 014e 2AE0     		b	.L199
 3329              	.L193:
1771:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 3330              		.loc 1 1771 18
 3331 0150 7B68     		ldr	r3, [r7, #4]
 3332 0152 0822     		movs	r2, #8
 3333 0154 1A61     		str	r2, [r3, #16]
1772:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_FOV1:
 3334              		.loc 1 1772 7
 3335 0156 26E0     		b	.L199
 3336              	.L198:
1775:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 3337              		.loc 1 1775 18
 3338 0158 7B68     		ldr	r3, [r7, #4]
 3339 015a 1022     		movs	r2, #16
 3340 015c 1A61     		str	r2, [r3, #16]
1776:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_WKU:
 3341              		.loc 1 1776 7
 3342 015e 22E0     		b	.L199
 3343              	.L186:
1779:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 3344              		.loc 1 1779 17
 3345 0160 7B68     		ldr	r3, [r7, #4]
 3346 0162 0822     		movs	r2, #8
 3347 0164 5A60     		str	r2, [r3, #4]
1780:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_SLK:
 3348              		.loc 1 1780 7
 3349 0166 1EE0     		b	.L199
 3350              	.L184:
1783:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 3351              		.loc 1 1783 17
 3352 0168 7B68     		ldr	r3, [r7, #4]
 3353 016a 1022     		movs	r2, #16
 3354 016c 5A60     		str	r2, [r3, #4]
1784:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_EWG:
 3355              		.loc 1 1784 7
 3356 016e 1AE0     		b	.L199
 3357              	.L191:
1787:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        /* @note the corresponding Flag is cleared by hardware depending on the CAN Bus status*/ 
 3358              		.loc 1 1787 17
 3359 0170 7B68     		ldr	r3, [r7, #4]
 3360 0172 0422     		movs	r2, #4
 3361 0174 5A60     		str	r2, [r3, #4]
1789:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_EPV:
 3362              		.loc 1 1789 7
 3363 0176 16E0     		b	.L199
 3364              	.L190:
1792:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        /* @note the corresponding Flag is cleared by hardware depending on the CAN Bus status*/
 3365              		.loc 1 1792 17
 3366 0178 7B68     		ldr	r3, [r7, #4]
 3367 017a 0422     		movs	r2, #4
 3368 017c 5A60     		str	r2, [r3, #4]
1794:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_BOF:
 3369              		.loc 1 1794 7
 3370 017e 12E0     		b	.L199
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 93


 3371              	.L189:
1797:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        /* @note the corresponding Flag is cleared by hardware depending on the CAN Bus status*/
 3372              		.loc 1 1797 17
 3373 0180 7B68     		ldr	r3, [r7, #4]
 3374 0182 0422     		movs	r2, #4
 3375 0184 5A60     		str	r2, [r3, #4]
1799:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_LEC:
 3376              		.loc 1 1799 8
 3377 0186 0EE0     		b	.L199
 3378              	.L188:
1802:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_ERRI (rc_w1) */
 3379              		.loc 1 1802 17
 3380 0188 7B68     		ldr	r3, [r7, #4]
 3381 018a 0022     		movs	r2, #0
 3382 018c 9A61     		str	r2, [r3, #24]
1804:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       break;
 3383              		.loc 1 1804 17
 3384 018e 7B68     		ldr	r3, [r7, #4]
 3385 0190 0422     		movs	r2, #4
 3386 0192 5A60     		str	r2, [r3, #4]
1805:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     case CAN_IT_ERR:
 3387              		.loc 1 1805 7
 3388 0194 07E0     		b	.L199
 3389              	.L187:
1808:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****       /* Clear CAN_MSR_ERRI (rc_w1) */
 3390              		.loc 1 1808 17
 3391 0196 7B68     		ldr	r3, [r7, #4]
 3392 0198 0022     		movs	r2, #0
 3393 019a 9A61     		str	r2, [r3, #24]
1810:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****        /* @note BOFF, EPVF and EWGF Flags are cleared by hardware depending on the CAN Bus status*/
 3394              		.loc 1 1810 17
 3395 019c 7B68     		ldr	r3, [r7, #4]
 3396 019e 0422     		movs	r2, #4
 3397 01a0 5A60     		str	r2, [r3, #4]
1812:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     default:
 3398              		.loc 1 1812 8
 3399 01a2 00E0     		b	.L199
 3400              	.L200:
 3401              		.loc 1 1814 8
 3402 01a4 00BF     		nop
 3403              	.L199:
1815:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****    }
1816:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 3404              		.loc 1 1816 1
 3405 01a6 00BF     		nop
 3406 01a8 0C37     		adds	r7, r7, #12
 3407              	.LCFI139:
 3408              		.cfi_def_cfa_offset 4
 3409 01aa BD46     		mov	sp, r7
 3410              	.LCFI140:
 3411              		.cfi_def_cfa_register 13
 3412              		@ sp needed
 3413 01ac 5DF8047B 		ldr	r7, [sp], #4
 3414              	.LCFI141:
 3415              		.cfi_restore 7
 3416              		.cfi_def_cfa_offset 0
 3417 01b0 7047     		bx	lr
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 94


 3418              	.L202:
 3419 01b2 00BF     		.align	2
 3420              	.L201:
 3421 01b4 01010100 		.word	65793
 3422              		.cfi_endproc
 3423              	.LFE153:
 3425              		.section	.text.CheckITStatus,"ax",%progbits
 3426              		.align	1
 3427              		.syntax unified
 3428              		.thumb
 3429              		.thumb_func
 3431              	CheckITStatus:
 3432              	.LFB154:
1817:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****  /**
1818:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @}
1819:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1820:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** 
1821:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** /**
1822:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @brief  Checks whether the CAN interrupt has occurred or not.
1823:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  CAN_Reg: specifies the CAN interrupt register to check.
1824:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @param  It_Bit: specifies the interrupt source bit to check.
1825:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   * @retval The new state of the CAN Interrupt (SET or RESET).
1826:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   */
1827:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit)
1828:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** {
 3433              		.loc 1 1828 1
 3434              		.cfi_startproc
 3435              		@ args = 0, pretend = 0, frame = 16
 3436              		@ frame_needed = 1, uses_anonymous_args = 0
 3437              		@ link register save eliminated.
 3438 0000 80B4     		push	{r7}
 3439              	.LCFI142:
 3440              		.cfi_def_cfa_offset 4
 3441              		.cfi_offset 7, -4
 3442 0002 85B0     		sub	sp, sp, #20
 3443              	.LCFI143:
 3444              		.cfi_def_cfa_offset 24
 3445 0004 00AF     		add	r7, sp, #0
 3446              	.LCFI144:
 3447              		.cfi_def_cfa_register 7
 3448 0006 7860     		str	r0, [r7, #4]
 3449 0008 3960     		str	r1, [r7]
1829:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   ITStatus pendingbitstatus = RESET;
 3450              		.loc 1 1829 12
 3451 000a 0023     		movs	r3, #0
 3452 000c FB73     		strb	r3, [r7, #15]
1830:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   
1831:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   if ((CAN_Reg & It_Bit) != (uint32_t)RESET)
 3453              		.loc 1 1831 16
 3454 000e 7A68     		ldr	r2, [r7, #4]
 3455 0010 3B68     		ldr	r3, [r7]
 3456 0012 1340     		ands	r3, r3, r2
 3457              		.loc 1 1831 6
 3458 0014 002B     		cmp	r3, #0
 3459 0016 02D0     		beq	.L204
1832:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1833:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* CAN_IT is set */
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 95


1834:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     pendingbitstatus = SET;
 3460              		.loc 1 1834 22
 3461 0018 0123     		movs	r3, #1
 3462 001a FB73     		strb	r3, [r7, #15]
 3463 001c 01E0     		b	.L205
 3464              	.L204:
1835:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1836:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   else
1837:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   {
1838:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     /* CAN_IT is reset */
1839:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****     pendingbitstatus = RESET;
 3465              		.loc 1 1839 22
 3466 001e 0023     		movs	r3, #0
 3467 0020 FB73     		strb	r3, [r7, #15]
 3468              	.L205:
1840:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   }
1841:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c ****   return pendingbitstatus;
 3469              		.loc 1 1841 10
 3470 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1842:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_can.c **** }
 3471              		.loc 1 1842 1
 3472 0024 1846     		mov	r0, r3
 3473 0026 1437     		adds	r7, r7, #20
 3474              	.LCFI145:
 3475              		.cfi_def_cfa_offset 4
 3476 0028 BD46     		mov	sp, r7
 3477              	.LCFI146:
 3478              		.cfi_def_cfa_register 13
 3479              		@ sp needed
 3480 002a 5DF8047B 		ldr	r7, [sp], #4
 3481              	.LCFI147:
 3482              		.cfi_restore 7
 3483              		.cfi_def_cfa_offset 0
 3484 002e 7047     		bx	lr
 3485              		.cfi_endproc
 3486              	.LFE154:
 3488              		.text
 3489              	.Letext0:
 3490              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 3491              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 3492              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 3493              		.file 5 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_can.h"
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 96


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4xx_can.c
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:20     .text.CAN_DeInit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:26     .text.CAN_DeInit:00000000 CAN_DeInit
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:83     .text.CAN_DeInit:00000044 $d
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:88     .text.CAN_Init:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:94     .text.CAN_Init:00000000 CAN_Init
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:396    .text.CAN_FilterInit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:402    .text.CAN_FilterInit:00000000 CAN_FilterInit
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:662    .text.CAN_FilterInit:00000180 $d
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:667    .text.CAN_StructInit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:673    .text.CAN_StructInit:00000000 CAN_StructInit
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:753    .text.CAN_SlaveStartBank:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:759    .text.CAN_SlaveStartBank:00000000 CAN_SlaveStartBank
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:825    .text.CAN_SlaveStartBank:0000005c $d
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:830    .text.CAN_DBGFreeze:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:836    .text.CAN_DBGFreeze:00000000 CAN_DBGFreeze
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:894    .text.CAN_TTComModeCmd:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:900    .text.CAN_TTComModeCmd:00000000 CAN_TTComModeCmd
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:994    .text.CAN_Transmit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1000   .text.CAN_Transmit:00000000 CAN_Transmit
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1294   .text.CAN_TransmitStatus:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1300   .text.CAN_TransmitStatus:00000000 CAN_TransmitStatus
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1489   .text.CAN_TransmitStatus:000000f0 $d
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1499   .text.CAN_CancelTransmit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1505   .text.CAN_CancelTransmit:00000000 CAN_CancelTransmit
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1586   .text.CAN_Receive:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1592   .text.CAN_Receive:00000000 CAN_Receive
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1845   .text.CAN_FIFORelease:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1851   .text.CAN_FIFORelease:00000000 CAN_FIFORelease
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1909   .text.CAN_MessagePending:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1915   .text.CAN_MessagePending:00000000 CAN_MessagePending
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1990   .text.CAN_OperatingModeRequest:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:1996   .text.CAN_OperatingModeRequest:00000000 CAN_OperatingModeRequest
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2199   .text.CAN_Sleep:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2205   .text.CAN_Sleep:00000000 CAN_Sleep
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2267   .text.CAN_WakeUp:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2273   .text.CAN_WakeUp:00000000 CAN_WakeUp
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2356   .text.CAN_GetLastErrorCode:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2362   .text.CAN_GetLastErrorCode:00000000 CAN_GetLastErrorCode
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2411   .text.CAN_GetReceiveErrorCounter:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2417   .text.CAN_GetReceiveErrorCounter:00000000 CAN_GetReceiveErrorCounter
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2465   .text.CAN_GetLSBTransmitErrorCounter:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2471   .text.CAN_GetLSBTransmitErrorCounter:00000000 CAN_GetLSBTransmitErrorCounter
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2519   .text.CAN_ITConfig:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2525   .text.CAN_ITConfig:00000000 CAN_ITConfig
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2589   .text.CAN_GetFlagStatus:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2595   .text.CAN_GetFlagStatus:00000000 CAN_GetFlagStatus
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2760   .text.CAN_ClearFlag:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2766   .text.CAN_ClearFlag:00000000 CAN_ClearFlag
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2865   .text.CAN_ClearFlag:00000070 $d
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2870   .text.CAN_GetITStatus:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2876   .text.CAN_GetITStatus:00000000 CAN_GetITStatus
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2964   .text.CAN_GetITStatus:000000c8 $d
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:2996   .text.CAN_GetITStatus:00000148 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:3431   .text.CheckITStatus:00000000 CheckITStatus
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:3182   .text.CAN_GetITStatus:00000260 $d
ARM GAS  C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s 			page 97


C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:3187   .text.CAN_ClearITPendingBit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:3193   .text.CAN_ClearITPendingBit:00000000 CAN_ClearITPendingBit
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:3269   .text.CAN_ClearITPendingBit:000000b0 $d
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:3301   .text.CAN_ClearITPendingBit:00000130 $t
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:3421   .text.CAN_ClearITPendingBit:000001b4 $d
C:\Users\Admin\AppData\Local\Temp\ccZ9r9lr.s:3426   .text.CheckITStatus:00000000 $t

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd
